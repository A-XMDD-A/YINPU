/*! For license information please see vendors~49d0a293-95af4695a19519cfe757.js.LICENSE.txt */
(self.webpackChunkmirador_integration=self.webpackChunkmirador_integration||[]).push([[463],{59713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},67154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},95318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},20862:(e,t,n)=>{var r=n(50008).default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var l=a?Object.getOwnPropertyDescriptor(e,c):null;l&&(l.get||l.set)?Object.defineProperty(i,c,l):i[c]=e[c]}return i.default=e,n&&n.set(e,i),i},e.exports.default=e.exports,e.exports.__esModule=!0},6479:(e,t,n)=>{var r=n(37316);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.default=e.exports,e.exports.__esModule=!0},37316:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},50008:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},87757:(e,t,n)=>{e.exports=n(35666)},38253:(e,t)=>{"use strict";t.OK=200,t.Jy=302,t.WY=401},67993:(e,t,n)=>{"use strict";n.d(t,{o:()=>p});var r=n(67294),o=n(18e3),i=n(77748),a=n(82396);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(p);if(d){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function y(){return c(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.displayAll,n=e.displayAllDisabled,c=e.t,l=e.toggleAnnotationDisplay;return r.createElement(a.Z,{"aria-label":c(t?"displayNoAnnotations":"highlightAllAnnotations"),onClick:l,disabled:n,size:"small"},t?r.createElement(o.Z,null):r.createElement(i.Z,null))}}])&&l(t.prototype,n),y}(r.Component)},65201:(e,t,n)=>{"use strict";n.d(t,{l:()=>x});var r=n(67294),o=n(73935),i=n(18446),a=n.n(i),c=n(23279),l=n.n(c),u=n(85564),s=n.n(u),f=n(89734),p=n.n(f),d=n(76566),h=n.n(d),y=n(16553),m=n(91042);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function _(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(c,e);var t,n,i=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=R(t);if(n){var o=R(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return _(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).ref=r.createRef(),t.osdCanvasOverlay=null,t.updateCanvas=function(){},t.onUpdateViewport=t.onUpdateViewport.bind(S(t)),t.onCanvasClick=t.onCanvasClick.bind(S(t)),t.onCanvasMouseMove=l()(t.onCanvasMouseMove.bind(S(t)),10),t.onCanvasExit=t.onCanvasExit.bind(S(t)),t}return j(c,null,[{key:"annotationsMatch",value:function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(0===e.length&&0===t.length||e.length===t.length&&e.every((function(e,n){var r=e.resources.map((function(e){return e.id})),o=t[n].resources.map((function(e){return e.id}));return 0===r.length&&0===o.length||r.length===o.length&&!(e.id!==t[n].id||!a()(r,o))})))}}]),j(c,[{key:"componentDidMount",value:function(){this.initializeViewer()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.drawAnnotations,r=t.drawSearchAnnotations,o=t.annotations,i=t.searchAnnotations,a=t.hoveredAnnotationIds,l=t.selectedAnnotationId,u=t.highlightAllAnnotations,s=t.viewer;this.initializeViewer();var f=!c.annotationsMatch(o,e.annotations),p=!c.annotationsMatch(i,e.searchAnnotations),d=h()(a,e.hoveredAnnotationIds).length>0;this.osdCanvasOverlay&&d&&(a.length>0?this.osdCanvasOverlay.canvasDiv.style.cursor="pointer":this.osdCanvasOverlay.canvasDiv.style.cursor="");var y=l!==e.selectedAnnotationId,m=n!==e.drawAnnotations||r!==e.drawSearchAnnotations||u!==e.highlightAllAnnotations;(p||f||y||d||m)&&(this.updateCanvas=this.canvasUpdateCallback(),s.forceRedraw())}},{key:"componentWillUnmount",value:function(){var e=this.props.viewer;e.removeHandler("canvas-click",this.onCanvasClick),e.removeHandler("canvas-exit",this.onCanvasExit),e.removeHandler("update-viewport",this.onUpdateViewport),e.removeHandler("mouse-move",this.onCanvasMouseMove)}},{key:"onCanvasClick",value:function(e){var t=this,n=this.props.canvasWorld,r=e.position,o=e.eventSource.viewport.pointFromPixel(r),i=n.canvasAtPoint(o);if(i){var a=O(n.canvasToWorldCoordinates(i.id),4),c=(a[0],a[1],a[2]),l=a[3],u=this.annotationsAtPoint(i,o);if(u.length>0&&(e.preventDefaultAction=!0),1===u.length)this.toggleAnnotation(u[0].id);else if(u.length>0){var s=function(e){var n=Math.PI/180;return function(r){for(var a=0,c=0;c<360;c+=1){var l=Math.cos(c*n)*e+o.x,u=Math.sin(c*n)*e+o.y;t.isAnnotationAtPoint(r,i,{x:l,y:u})&&(a+=1)}return{anno:r,score:a}}},f=[],d=1;for(f=p()(u.map(s(d)),"score");d<Math.max(c,l)&&f[0].score===f[1].score;)d*=2,f=p()(u.map(s(d)),"score");this.toggleAnnotation(f[0].anno.id)}}}},{key:"onCanvasMouseMove",value:function(e){var t=this.props,n=t.annotations,r=t.canvasWorld,o=t.hoverAnnotation,i=t.hoveredAnnotationIds,a=t.searchAnnotations,c=t.viewer,l=t.windowId;if(0!==n.length||0!==a.length){var u=e.position,s=c.viewport.pointFromPixel(u),f=r.canvasAtPoint(s);if(f){var p=this.annotationsAtPoint(f,s);h()(i,p.map((function(e){return e.id}))).length>0&&o(l,p.map((function(e){return e.id})))}else o(l,[])}}},{key:"onCanvasExit",value:function(e){var t=this.props,n=t.hoverAnnotation,r=t.windowId;this.onCanvasMouseMove.cancel(),n(r,[])}},{key:"onUpdateViewport",value:function(e){this.updateCanvas()}},{key:"initializeViewer",value:function(){var e=this.props.viewer;e&&(this.osdCanvasOverlay||(this.osdCanvasOverlay=new y.Z(e,this.ref),e.addHandler("canvas-click",this.onCanvasClick),e.addHandler("canvas-exit",this.onCanvasExit),e.addHandler("update-viewport",this.onUpdateViewport),e.addHandler("mouse-move",this.onCanvasMouseMove),this.updateCanvas=this.canvasUpdateCallback()))}},{key:"canvasUpdateCallback",value:function(){var e=this;return function(){e.osdCanvasOverlay.clear(),e.osdCanvasOverlay.resize(),e.osdCanvasOverlay.canvasUpdate(e.renderAnnotations.bind(e))}}},{key:"isAnnotationAtPoint",value:function(e,t,n){var r=O(this.props.canvasWorld.canvasToWorldCoordinates(t.id),2),o=r[0],i=r[1],a=n.x-o,c=n.y-i;if(e.svgSelector){var l=this.osdCanvasOverlay.context2d;return w(new m.Z({resource:e}).svgPaths).some((function(e){return l.isPointInPath(new Path2D(e.attributes.d.nodeValue),a,c)}))}if(e.fragmentSelector){var u=O(e.fragmentSelector,4),s=u[0],f=u[1],p=u[2],d=u[3];return s<=a&&a<=s+p&&f<=c&&c<=f+d}return!1}},{key:"annotationsAtPoint",value:function(e,t){var n=this,r=this.props,o=r.annotations,i=r.searchAnnotations,a=[].concat(w(o),w(i));return s()(a.map((function(e){return e.resources}))).filter((function(r){return e.id===r.targetId&&n.isAnnotationAtPoint(r,e,t)}))}},{key:"toggleAnnotation",value:function(e){var t=this.props,n=t.selectedAnnotationId,r=t.selectAnnotation,o=t.deselectAnnotation,i=t.windowId;n===e?o(i,e):r(i,e)}},{key:"annotationsToContext",value:function(e,t){var n=this.props,r=n.highlightAllAnnotations,o=n.hoveredAnnotationIds,i=n.selectedAnnotationId,a=n.canvasWorld,c=n.viewer,l=this.osdCanvasOverlay.context2d,u=c.viewport.getZoom(!0)/c.viewport.getMaxZoom();e.forEach((function(e){e.resources.forEach((function(e){if(a.canvasIds.includes(e.targetId)){var n=a.offsetByCanvas(e.targetId);new m.Z({hovered:o.includes(e.id),offset:n,palette:b(b({},t),{},{default:b(b({},t.default),!r&&t.hidden)}),resource:e,selected:i===e.id,zoomRatio:u}).toContext(l)}}))}))}},{key:"renderAnnotations",value:function(){var e=this.props,t=e.annotations,n=e.drawAnnotations,r=e.drawSearchAnnotations,o=e.searchAnnotations,i=e.palette;r&&this.annotationsToContext(o,i.search),n&&this.annotationsToContext(t,i.annotations)}},{key:"render",value:function(){var e=this.props.viewer;return e?o.createPortal(r.createElement("div",{ref:this.ref,style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"}},r.createElement("canvas",null)),e.canvas):r.createElement(r.Fragment,null)}}]),c}(r.Component);x.defaultProps={annotations:[],deselectAnnotation:function(){},drawAnnotations:!0,drawSearchAnnotations:!0,highlightAllAnnotations:!1,hoverAnnotation:function(){},hoveredAnnotationIds:[],palette:{},searchAnnotations:[],selectAnnotation:function(){},selectedAnnotationId:void 0,viewer:null}},64082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(64143),i=n(52462);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var f=(0,r.lazy)((function(){return Promise.all([n.e(463),n.e(733),n.e(239),n.e(693),n.e(145),n.e(977),n.e(108),n.e(778)]).then(n.bind(n,32033))})),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(p);if(d){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function y(){return a(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.dndManager,n=e.plugins;return r.createElement(o.Z,{plugins:n},r.createElement(i.Z,{dndManager:t},r.createElement(r.Suspense,{fallback:r.createElement("div",null)},r.createElement(f,null))))}}])&&c(t.prototype,n),y}(r.Component);p.defaultProps={dndManager:void 0,plugins:[]};const d=p},65957:(e,t,n)=>{"use strict";n.d(t,{I:()=>j});var r=n(67294),o=n(78573),i=n(6339),a=n(86746),c=n(5034),l=n(13457),u=n(51220),s=n(26975),f=n(54620),p=n(89862),d=n(94147),h=n(58691),y=n(42790),m=n(54013),v=n(45448),b=n(39906);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function E(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var P=function(e){var t=e.dndManager,n=e.children;return!1===t?n:void 0===t?r.createElement(p.W,{backend:h.default,options:y.default},n):r.createElement(d.L.Provider,{value:t},n)},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(p);if(d){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=h.call(this,e)).i18n=(0,b.Z)(),t}return t=y,(n=[{key:"componentDidMount",value:function(){var e=this.props.language;this.i18n.changeLanguage(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.language;e.language!==t&&this.i18n.changeLanguage(t)}},{key:"render",value:function(){var e,t=this,n=this.props,p=n.children,d=n.createGenerateClassNameOptions,h=n.isFullscreenEnabled,y=n.setWorkspaceFullscreen,b=n.theme,w=n.translations,O=n.dndManager,E=(0,c.Z)(d);return Object.keys(w).forEach((function(e){t.i18n.addResourceBundle(e,"translation",w[e],!0,!0)})),r.createElement(o.Z,{enabled:h,onChange:y},r.createElement(i.a,{i18n:this.i18n},r.createElement(a.Kd,null,r.createElement(l.Z,{theme:(0,u.A)(b)},r.createElement(s.ZP,{jss:(0,m.Ue)({plugins:[].concat((e=(0,f.Z)().plugins,function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[(0,v.Z)()])}),generateClassName:E},r.createElement(P,{dndManager:O},p))))))}}])&&w(t.prototype,n),y}(r.Component);j.defaultProps={children:null,createGenerateClassNameOptions:{},dndManager:void 0,isFullscreenEnabled:!1}},35143:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(67294),o=n(22318),i=n(89659),a=n(58365),c=n(13324),l=n(269),u=n(59298),s=n(79686),f=n(28819);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(w,e);var t,n,v,b,g=(v=w,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(v);if(b){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function w(){return p(this,w),g.apply(this,arguments)}return t=w,(n=[{key:"render",value:function(){var e=this.props,t=e.manifestLogo,n=e.requiredStatement,p=e.rights,d=e.windowId,h=e.id,y=e.classes,m=e.t;return r.createElement(l.Z,{title:m("attributionTitle"),paperClassName:(0,s.Z)("attribution-panel"),windowId:d,id:h},r.createElement("div",{className:y.section},n&&r.createElement(u.K,{labelValuePairs:n,defaultLabel:m("attribution")}),p&&p.length>0&&r.createElement("dl",{className:(0,s.Z)("label-value-metadata")},r.createElement(o.Z,{variant:"subtitle2",component:"dt"},m("rights")),p.map((function(e){return r.createElement(o.Z,{variant:"body1",component:"dd",key:e.toString()},r.createElement(i.Z,{target:"_blank",rel:"noopener noreferrer",href:e},e))})))),t&&r.createElement("div",{className:y.section},r.createElement(c.Img,{src:[t],alt:"",role:"presentation",className:y.logo,unloader:r.createElement(a.Z,{className:y.placeholder,variant:"rect",height:60,width:60})})),r.createElement(f.M,this.props))}}])&&d(t.prototype,n),w}(r.Component);v.defaultProps={classes:{},manifestLogo:null,requiredStatement:null,rights:null,t:function(e){return e}}},21709:(e,t,n)=>{"use strict";n.d(t,{n:()=>u});var r=n(67294);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,u,s,f=(u=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(u);if(s){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function p(){return o(this,p),f.apply(this,arguments)}return t=p,(n=[{key:"render",value:function(){var e=this.props,t=e.captions,n=e.classes,o=e.audioOptions,i=e.audioResources;return r.createElement("div",{className:n.container},r.createElement("audio",Object.assign({className:n.audio},o),i.map((function(e){return r.createElement(r.Fragment,{key:e.id},r.createElement("source",{src:e.id,type:e.getFormat()}))})),t.map((function(e){return r.createElement(r.Fragment,{key:e.id},r.createElement("track",{src:e.id,label:e.getDefaultLabel(),srcLang:e.getProperty("language")}))}))))}}])&&i(t.prototype,n),p}(r.Component);u.defaultProps={audioOptions:{},audioResources:[],captions:[]}},95985:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(67294),o=n(79686),i=n(28819),a=function(e){return r.createElement("div",{className:(0,o.Z)("background-plugin-area"),style:{display:"none"}},r.createElement(i.M,e))};a.defaultProps={PluginComponents:[]}},26833:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var r=n(67294),o=n(17812),i=n(22318),a=n(62087);function c(e){return r.createElement(a.Z,Object.assign({viewBox:"0 0 60 55"},e),r.createElement("rect",{width:"18",height:"55"}),r.createElement("rect",{width:"18",height:"55",transform:"translate(42)"}),r.createElement("rect",{width:"18",height:"34",transform:"translate(21)"}))}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(y,e);var t,n,a,d,h=(a=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(a);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function y(){return l(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.t,n=e.variant,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["t","variant"]);return r.createElement("div",a,"wide"===n&&r.createElement("div",null,r.createElement(i.Z,{align:"center",component:"p",variant:"h3"},t("mirador"))),r.createElement(i.Z,{align:"center"},r.createElement(o.Z,{component:"a",href:"https://projectmirador.org",target:"_blank",rel:"noopener"},r.createElement(c,{"aria-label":t("aboutMirador"),titleAccess:t("aboutMirador"),fontSize:"large"}))))}}])&&u(t.prototype,n),y}(r.Component);d.defaultProps={t:function(e){return e},variant:"default"}},28777:(e,t,n)=>{"use strict";n.d(t,{_:()=>v});var r=n(67294),o=n(86010),i=n(71267),a=n(29829),c=n(85639),l=n(95757),u=n(22318),s=n(46387),f=n(65998);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(w,e);var t,n,v,b,g=(v=w,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(v);if(b){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=g.call(this,e)).handleClick=t.handleClick.bind(y(t)),t.handleAnnotationHover=t.handleAnnotationHover.bind(y(t)),t.handleAnnotationBlur=t.handleAnnotationBlur.bind(y(t)),t}return t=w,(n=[{key:"handleClick",value:function(e,t){var n=this.props,r=n.deselectAnnotation,o=n.selectAnnotation,i=n.selectedAnnotationId,a=n.windowId;i===t.id?r(a,t.id):o(a,t.id)}},{key:"handleAnnotationHover",value:function(e){var t=this.props;(0,t.hoverAnnotation)(t.windowId,[e.id])}},{key:"handleAnnotationBlur",value:function(){var e=this.props;(0,e.hoverAnnotation)(e.windowId,[])}},{key:"render",value:function(){var e=this,t=this.props,n=t.annotations,p=t.classes,d=t.index,h=t.label,y=t.selectedAnnotationId,m=t.t,v=t.totalSize,b=t.listContainerComponent,g=t.htmlSanitizationRuleSet,w=t.hoveredAnnotationIds,O=t.containerRef;return 0===n.length?r.createElement(r.Fragment,null):r.createElement(r.Fragment,null,r.createElement(u.Z,{className:p.sectionHeading,variant:"overline"},m("annotationCanvasLabel",{context:"".concat(d+1,"/").concat(v),label:h})),r.createElement(a.Z,{autoFocusItem:!0,variant:"selectedMenu"},n.map((function(t){return r.createElement(f.h,{containerRef:O,key:"".concat(t.id,"-scroll"),offsetTop:96,scrollTo:y===t.id},r.createElement(c.Z,{button:!0,component:b,className:(0,o.Z)(p.annotationListItem,(n={},a=p.hovered,u=w.includes(t.id),a in n?Object.defineProperty(n,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[a]=u,n)),key:t.id,annotationid:t.id,selected:y===t.id,onClick:function(n){return e.handleClick(n,t)},onFocus:function(){return e.handleAnnotationHover(t)},onBlur:e.handleAnnotationBlur,onMouseEnter:function(){return e.handleAnnotationHover(t)},onMouseLeave:e.handleAnnotationBlur},r.createElement(l.Z,{primaryTypographyProps:{variant:"body2"}},r.createElement(s.Z,{ruleSet:g,htmlString:t.content}),r.createElement("div",null,t.tags.map((function(e){return r.createElement(i.Z,{size:"small",variant:"outlined",label:e,id:e,className:p.chip,key:e.toString()})}))))));var n,a,u}))))}}])&&p(t.prototype,n),w}(r.Component);v.defaultProps={annotations:[],classes:{},containerRef:void 0,hoveredAnnotationIds:[],htmlSanitizationRuleSet:"iiif",listContainerComponent:"li",selectedAnnotationId:void 0}},37600:(e,t,n)=>{"use strict";n.d(t,{_:()=>h});var r=n(67294),o=n(22318),i=n(82989),a=n(46387),c=n(59298),l=n(28819);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(v,e);var t,n,h,y,m=(h=v,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(h);if(y){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function v(){return u(this,v),m.apply(this,arguments)}return t=v,(n=[{key:"render",value:function(){var e=this.props,t=e.canvasDescription,n=e.canvasLabel,u=e.canvasMetadata,s=e.id,f=e.index,p=e.t,d=e.totalSize;return r.createElement(i.Z,{id:"".concat(s,"-currentItem-").concat(f),label:p("currentItem",{context:"".concat(f+1,"/").concat(d)})},n&&r.createElement(o.Z,{"aria-labelledby":"".concat(s,"-currentItem-").concat(f," ").concat(s,"-currentItem-").concat(f,"-heading"),id:"".concat(s,"-currentItem-").concat(f,"-heading"),variant:"h4",component:"h5"},n),t&&r.createElement(o.Z,{variant:"body1"},r.createElement(a.Z,{htmlString:t,ruleSet:"iiif"})),u&&u.length>0&&r.createElement(c.K,{labelValuePairs:u}),r.createElement(l.M,this.props))}}])&&s(t.prototype,n),v}(r.Component);h.defaultProps={canvasDescription:null,canvasLabel:null,canvasMetadata:[],index:1,t:function(e){return e},totalSize:1}},73820:(e,t,n)=>{"use strict";n.d(t,{l:()=>Z});var r=n(67294),o=n(86010),i=n(44586),a=n(38799),c=n(7397),l=n(62822),u=n(50998),s=n(44845),f=n(868),p=n(44570),d=n(2056),h=n(18e3),y=n(77748),m=n(70823),v=n(22318),b=n(97554),g=n(82396),w=n(21229);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function C(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e,t,n){var r,o,i=Array.from(e),a=(r=i.splice(t,1),o=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(r,o)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return i.splice(n,0,a),i},Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(R,e);var t,n,k=(t=R,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=S(t);if(n){var o=S(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return C(this,e)});function R(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R),(t=k.call(this,e)).droppableId=(0,i.Z)(),t.onDragEnd=t.onDragEnd.bind(_(t)),t.handleOpacityChange=t.handleOpacityChange.bind(_(t)),t.setLayerVisibility=t.setLayerVisibility.bind(_(t)),t.moveToTop=t.moveToTop.bind(_(t)),t}return P(R,null,[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}]),P(R,[{key:"handleOpacityChange",value:function(e,t){var n=this.props,r=n.canvasId;(0,n.updateLayers)(n.windowId,r,E({},e,{opacity:t/100}))}},{key:"onDragEnd",value:function(e){var t=this.props,n=t.canvasId,r=t.layers,o=t.updateLayers,i=t.windowId;if(e.destination&&e.destination.droppableId===this.droppableId&&e.source.droppableId===this.droppableId){var a=x(r.map((function(e){return e.id})),e.source.index,e.destination.index);o(i,n,r.reduce((function(e,t){return e[t.id]={index:a.indexOf(t.id)},e}),{}))}}},{key:"setLayerVisibility",value:function(e,t){var n=this.props,r=n.canvasId;(0,n.updateLayers)(n.windowId,r,E({},e,{visibility:t}))}},{key:"moveToTop",value:function(e){var t=this.props,n=t.canvasId,r=t.layers,o=t.updateLayers,i=t.windowId,a=x(r.map((function(e){return e.id})),r.findIndex((function(t){return t.id===e})),0);o(i,n,r.reduce((function(e,t){return e[t.id]={index:a.indexOf(t.id)},e}),{}))}},{key:"renderLayer",value:function(e,t){var n=this,o=this.props,i=o.classes,l=o.layerMetadata,u=o.t,p=50,b=void 0,k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({opacity:1,visibility:!0},(l||{})[e.id]);return r.createElement("div",{style:{flex:1}},r.createElement("div",{style:{alignItems:"flex-start",display:"flex"}},r.createElement(w.Z,{maxHeight:b,maxWidth:p,resource:e,classes:{image:i.image,root:i.thumbnail}}),r.createElement(v.Z,{className:i.label,component:"div",variant:"body1"},R.getUseableLabel(e,t),r.createElement("div",null,r.createElement(g.Z,{"aria-label":u(k.visibility?"layer_hide":"layer_show"),edge:"start",size:"small",onClick:function(){n.setLayerVisibility(e.id,!k.visibility)}},k.visibility?r.createElement(h.Z,null):r.createElement(y.Z,null)),0!==k.index&&r.createElement(g.Z,{"aria-label":u("layer_moveToTop"),size:"small",onClick:function(){n.moveToTop(e.id)}},r.createElement(d.Z,null))))),r.createElement("div",{style:{alignItems:"center",display:"flex"}},r.createElement(f.ZP,{title:u("layer_opacity")},r.createElement(m.Z,{className:i.opacityIcon,color:k.visibility?"inherit":"disabled",fontSize:"small"})),r.createElement(a.Z,{classes:{input:i.opacityInput},disabled:!k.visibility,value:Math.round(100*k.opacity),type:"number",min:0,max:100,onChange:function(t){return n.handleOpacityChange(e.id,t.target.value)},endAdornment:r.createElement(c.Z,{disableTypography:!0,position:"end"},r.createElement(v.Z,{variant:"caption"},"%")),inputProps:{"aria-label":u("layer_opacity")}}),r.createElement(s.Z,{className:i.slider,disabled:!k.visibility,value:100*k.opacity,onChange:function(t,r){return n.handleOpacityChange(e.id,r)}})))}},{key:"renderDraggableLayer",value:function(e,t){var n=this,i=this.props,a=i.classes,c=i.t;return r.createElement(b._l,{key:e.id,draggableId:e.id,index:t},(function(i,l){return r.createElement(u.Z,Object.assign({ref:i.innerRef},i.draggableProps,{component:"li",className:(0,o.Z)(a.listItem,E({},a.dragging,l.isDragging)),disableGutters:!0,key:e.id}),r.createElement("div",Object.assign({},i.dragHandleProps,{className:a.dragHandle}),r.createElement(f.ZP,{title:c("layer_move")},r.createElement(p.Z,null))),n.renderLayer(e,t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.index,i=t.label,a=t.layers,c=t.t,u=t.totalSize;return r.createElement(r.Fragment,null,u>1&&r.createElement(v.Z,{className:n.sectionHeading,variant:"overline"},c("annotationCanvasLabel",{context:"".concat(o+1,"/").concat(u),label:i})),r.createElement(b.Z5,{onDragEnd:this.onDragEnd},r.createElement(b.bK,{droppableId:this.droppableId},(function(t,o){return r.createElement(l.Z,Object.assign({className:n.list},t.droppableProps,{ref:t.innerRef}),a&&a.map((function(t,n){return e.renderDraggableLayer(t,n)})),t.placeholder)}))))}}]),R}(r.Component);Z.defaultProps={classes:{},layerMetadata:void 0}},28613:(e,t,n)=>{"use strict";n.d(t,{V:()=>g});var r=n(67294),o=n(52663),i=n(66083),a=n(22318),c=n(29525),l=n(29829),u=n(85639),s=n(46869),f=n(95757),p=n(8813);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(g,e);var t,n,d=(t=g,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=d.call(this,e)).selectedItemRef=r.createRef(),t.handleThemeChange=t.handleThemeChange.bind(v(t)),t}return h(g,null,[{key:"setInitialFocus",value:function(e,t){var n=e.querySelectorAll('li[value="'.concat(t,'"]'));n&&0!==n.length&&n[0].focus()}}]),h(g,[{key:"handleThemeChange",value:function(e){var t=this.props,n=t.setSelectedTheme,r=t.handleClose;n(e),r()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,d=t.handleClose,h=t.open,y=t.selectedTheme,m=t.t,v=t.themeIds;return r.createElement(o.Z,{onClose:d,onEntered:function(e){return g.setInitialFocus(e,y)},open:h},r.createElement(i.Z,{id:"change-the-dialog-title",disableTypography:!0},r.createElement(a.Z,{variant:"h2"},m("changeTheme"))),r.createElement(c.Z,{className:n.dialogContent},r.createElement(l.Z,null,v.map((function(t){return r.createElement(u.Z,{key:t,className:n.listitem,onClick:function(){e.handleThemeChange(t)},selected:t===y,value:t},r.createElement(s.Z,null,r.createElement(p.Z,{className:n[t]})),r.createElement(f.Z,null,m(t)))})))))}}]),g}(r.Component);g.defaultProps={open:!1,themeIds:[]}},4417:(e,t,n)=>{"use strict";n.d(t,{a:()=>d});var r=n(67294),o=n(22318),i=n(78536),a=n(9942),c=n(82396);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).state={open:!0},t.toggleSection=t.toggleSection.bind(f(t)),t}return t=m,(n=[{key:"toggleSection",value:function(){var e=this.state.open;this.setState({open:!e})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,l=e.id,u=e.label,s=e.t,f=this.state.open;return r.createElement(r.Fragment,null,r.createElement("div",{className:n.container},r.createElement(o.Z,{className:n.heading,id:l,onClick:this.toggleSection,variant:"overline",component:"h4"},u),r.createElement(c.Z,{"aria-label":s(f?"collapseSection":"expandSection",{section:u}),"aria-expanded":f,className:n.button,onClick:this.toggleSection},f?r.createElement(a.Z,null):r.createElement(i.Z,null))),f&&t)}}])&&l(t.prototype,n),m}(r.Component)},86615:(e,t,n)=>{"use strict";n.d(t,{K:()=>S});var r=n(67294),o=n(52663),i=n(66083),a=n(22318),c=n(282),l=n(89659),u=n(71267),s=n(29829),f=n(85639),p=n(66856),d=n(1753),h=n(58365),y=n(38057),m=n(59298),v=n(82989),b=n(64134),g=n(47733);function w(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function j(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(E,e);var t,n,O=(t=E,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=_(t);if(n){var o=_(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return j(this,e)});function E(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),(t=O.call(this,e)).state={filter:null},t.hideDialog=t.hideDialog.bind(C(t)),t}return k(E,null,[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}]),k(E,[{key:"setFilter",value:function(e){this.setState({filter:e})}},{key:"hideDialog",value:function(){var e=this.props;(0,e.hideCollectionDialog)(e.windowId)}},{key:"selectCollection",value:function(e){var t=this.props,n=t.collectionPath,r=t.manifestId,o=t.showCollectionDialog,i=t.windowId;o(e.id,[].concat(w(n),[r]),i)}},{key:"goToPreviousCollection",value:function(){var e=this.props,t=e.collectionPath,n=e.showCollectionDialog,r=e.windowId;n(t[t.length-1],t.slice(0,-1),r)}},{key:"selectManifest",value:function(e){var t=this.props,n=t.addWindow,r=t.collectionPath,o=t.manifestId,i=t.setWorkspaceAddVisibility,a=t.updateWindow,c=t.windowId;c?a(c,{canvasId:null,collectionPath:[].concat(w(r),[o]),manifestId:e.id}):n({collectionPath:[].concat(w(r),[o]),manifestId:e.id}),this.hideDialog(),i(!1)}},{key:"dialogContainer",value:function(){var e=this.props,t=e.containerId,n=e.windowId;return document.querySelector("#".concat(t," #").concat(n))}},{key:"placeholder",value:function(){var e=this.props.classes;return r.createElement(o.Z,{className:e.dialog,onClose:this.hideDialog,open:!0,container:this.dialogContainer(),BackdropProps:this.backdropProps()},r.createElement(i.Z,{id:"select-collection",disableTypography:!0},r.createElement(h.Z,{className:e.placeholder,variant:"text"})),r.createElement(b.Z,null,r.createElement(h.Z,{className:e.placeholder,variant:"text"}),r.createElement(h.Z,{className:e.placeholder,variant:"text"})))}},{key:"backdropProps",value:function(){return{classes:{root:this.props.classes.dialog}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,h=t.collection,w=t.error,O=t.isMultipart,k=t.manifest,P=t.ready,j=t.t,C=this.state.filter;if(w)return null;if(!this.dialogContainer())return this.forceUpdate(),r.createElement(r.Fragment,null);if(!P)return this.placeholder();var _=k&&(0,y.Z)(k.getProperty("rights")||k.getProperty("license")),S=k&&(0,y.Z)(k.getRequiredStatement()).filter((function(e){return e.getValue()})).map((function(e){return{label:null,values:e.getValues()}})),R=k.getCollections(),x=C||(R.length>0?"collections":"manifests");return r.createElement(o.Z,{className:n.dialog,onClose:this.hideDialog,container:this.dialogContainer(),BackdropProps:this.backdropProps(),open:!0},r.createElement(i.Z,{id:"select-collection",disableTypography:!0},r.createElement(a.Z,{component:"div",variant:"overline"},j(O?"multipartCollection":"collection")),r.createElement(a.Z,{variant:"h3"},E.getUseableLabel(k))),r.createElement(b.Z,{className:n.dialogContent},h&&r.createElement(c.Z,{startIcon:r.createElement(d.Z,null),onClick:function(){return e.goToPreviousCollection()}},E.getUseableLabel(h)),r.createElement("div",{className:n.collectionMetadata},r.createElement(g.Z,{manifestId:k.id}),r.createElement(v.Z,{id:"select-collection-rights",label:j("attributionTitle")},S&&r.createElement(m.K,{labelValuePairs:S,defaultLabel:j("attribution")}),_&&_.length>0&&r.createElement(r.Fragment,null,r.createElement(a.Z,{variant:"subtitle2",component:"dt"},j("rights")),_.map((function(e){return r.createElement(a.Z,{variant:"body1",component:"dd",key:e},r.createElement(l.Z,{target:"_blank",rel:"noopener noreferrer",href:e},e))}))))),r.createElement("div",{className:n.collectionFilter},k.getTotalCollections()>0&&r.createElement(u.Z,{clickable:!0,color:"collections"===x?"primary":"default",onClick:function(){return e.setFilter("collections")},label:j("totalCollections",{count:k.getTotalCollections()})}),k.getTotalManifests()>0&&r.createElement(u.Z,{clickable:!0,color:"manifests"===x?"primary":"default",onClick:function(){return e.setFilter("manifests")},label:j("totalManifests",{count:k.getTotalManifests()})})),"collections"===x&&r.createElement(s.Z,null,R.map((function(t){return r.createElement(f.Z,{key:t.id,onClick:function(){e.selectCollection(t)},className:n.collectionItem},E.getUseableLabel(t))}))),"manifests"===x&&r.createElement(s.Z,null,k.getManifests().map((function(t){return r.createElement(f.Z,{key:t.id,onClick:function(){e.selectManifest(t)},className:n.collectionItem},E.getUseableLabel(t))})))),r.createElement(p.Z,null,r.createElement(c.Z,{onClick:this.hideDialog},j("close"))))}}]),E}(r.Component);S.defaultProps={collection:null,collectionPath:[],containerId:null,error:null,isMultipart:!1,ready:!1,windowId:null}},79099:(e,t,n)=>{"use strict";n.d(t,{a:()=>d});var r=n(67294),o=n(282),i=n(22318),a=n(19252),c=n(82989);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).openCollectionDialog=t.openCollectionDialog.bind(f(t)),t}return t=m,(n=[{key:"openCollectionDialog",value:function(){var e=this.props,t=e.collectionPath,n=e.showCollectionDialog,r=e.windowId;n(t[t.length-1],t.slice(0,-1),r)}},{key:"render",value:function(){var e=this.props,t=e.collectionLabel,n=e.collectionPath,l=e.id,u=e.t;return 0===n.length?null:r.createElement(c.Z,{id:"".concat(l,"-collection"),label:u("collection")},t&&r.createElement(i.Z,{"aria-labelledby":"".concat(l,"-resource ").concat(l,"-resource-heading"),id:"".concat(l,"-resource-heading"),variant:"h4"},t),r.createElement(o.Z,{color:"primary",onClick:this.openCollectionDialog,startIcon:r.createElement(a.Z,null)},u("showCollection")))}}])&&l(t.prototype,n),m}(r.Component);d.defaultProps={collectionLabel:null,collectionPath:[],t:function(e){return e},windowId:null}},49838:(e,t,n)=>{"use strict";n.d(t,{_:()=>y});var r=n(67294),o=n(82285),i=n(37863),a=n(30576),c=n(3685),l=n(82396),u=n(79686);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,e);var t,n,y,m,v=(y=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(y);if(m){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function b(){return s(this,b),v.apply(this,arguments)}return t=b,(n=[{key:"areaLayoutClass",value:function(){var e=this.props,t=e.classes,n=e.position;return"bottom"===n||"far-bottom"===n?t.horizontal:null}},{key:"collapseIcon",value:function(){var e=this.props,t=e.companionAreaOpen;return"rtl"===e.direction?t?r.createElement(a.Z,null):r.createElement(i.Z,null):t?r.createElement(i.Z,null):r.createElement(a.Z,null)}},{key:"slideDirection",value:function(){var e=this.props,t=e.direction,n="rtl"===t?"left":"right",r="rtl"===t?"right":"left";switch(e.position){case"right":case"far-right":return r;case"bottom":case"far-bottom":return"up";default:return n}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.companionWindowIds,i=e.companionAreaOpen,a=e.setCompanionAreaOpen,s=e.position,f=e.sideBarOpen,p=e.t,d=e.windowId;return r.createElement("div",{className:[t.root,this.areaLayoutClass(),(0,u.Z)("companion-area-".concat(s))].join(" ")},r.createElement(o.Z,{in:i,direction:this.slideDirection()},r.createElement("div",{className:[(0,u.Z)("companion-windows"),n.length>0&&t[s],this.areaLayoutClass()].join(" "),style:{display:i?"flex":"none"}},n.map((function(e){return r.createElement(c.Z,{id:e,key:e,windowId:d})})))),a&&"left"===s&&f&&n.length>0&&r.createElement("div",{className:t.toggle},r.createElement(l.Z,{"aria-expanded":i,"aria-label":p(i?"collapseSidePanel":"expandSidePanel"),className:t.toggleButton,key:i?"collapse":"expand",onClick:function(){a(d,!i)},TooltipProps:{placement:"right"}},this.collapseIcon())))}}])&&f(t.prototype,n),b}(r.Component);y.defaultProps={classes:{},setCompanionAreaOpen:function(){},sideBarOpen:!1}},75541:(e,t,n)=>{"use strict";n.d(t,{Q:()=>O});var r=n(67294),o=n(95378),i=n(87337),a=n(45470),c=n(79895),l=n(22318),u=n(28358),s=n(37013),f=n(82396),p=n(79686);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(k,e);var t,n,d,O,E=(d=k,O=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(d);if(O){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function k(){return m(this,k),E.apply(this,arguments)}return t=k,(n=[{key:"openInNewStyle",value:function(){return"rtl"===this.props.direction?{transform:"scale(-1, 1)"}:{}}},{key:"resizeHandles",value:function(){var e=this.props,t=e.direction,n=e.position,r={ltr:{default:"left",opposite:"right"},rtl:{default:"right",opposite:"left"}},o={bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1};return"right"===n||"far-right"===n?h(h({},o),{},y({},r[t].default,!0)):"left"===n?h(h({},o),{},y({},r[t].opposite,!0)):"bottom"===n||"far-bottom"===n?h(h({},o),{},{top:!0}):o}},{key:"render",value:function(){var e=this.props,t=e.ariaLabel,n=e.classes,d=e.paperClassName,h=e.onCloseClick,y=e.updateCompanionWindow,m=e.isDisplayed,v=e.position,b=e.t,g=e.title,w=e.children,O=e.titleControls,E=e.size,k=e.defaultSidebarPanelWidth,P=e.defaultSidebarPanelHeight,j="bottom"===v||"far-bottom"===v,C=r.Children.map(w,(function(e){return e?r.cloneElement(e,{parentactions:{closeCompanionWindow:h}}):null}));return r.createElement(c.Z,{className:[n.root,"bottom"===v?n.horizontal:n.vertical,n["companionWindow-".concat(v)],(0,p.Z)("companion-window-".concat(v)),d].join(" "),style:{display:m?null:"none",order:"left"===v?-1:null},square:!0,component:"aside","aria-label":t||g},r.createElement(s.s,{className:[n.rnd],style:{display:"flex",position:"relative"},default:{height:j?P:"100%",width:j?"auto":k},disableDragging:!0,enableResizing:this.resizeHandles(),minHeight:50,minWidth:"left"===v?235:100},r.createElement(u.Z,{className:[n.toolbar,n.companionWindowHeader,E.width<370?n.small:null,(0,p.Z)("companion-window-header")].join(" "),disableGutters:!0},r.createElement(l.Z,{variant:"h3",className:n.windowSideBarTitle},g),"left"===v?y&&r.createElement(f.Z,{"aria-label":b("openInCompanionWindow"),onClick:function(){y({position:"right"})}},r.createElement(i.Z,{style:this.openInNewStyle()})):r.createElement(r.Fragment,null,y&&r.createElement(f.Z,{"aria-label":b("bottom"===v?"moveCompanionWindowToRight":"moveCompanionWindowToBottom"),className:n.positionButton,onClick:function(){y({position:"bottom"===v?"right":"bottom"})}},r.createElement(a.Z,null)),r.createElement(f.Z,{"aria-label":b("closeCompanionWindow"),className:n.closeButton,onClick:h},r.createElement(o.Z,null))),O&&r.createElement("div",{className:[n.titleControls,j?n.companionWindowTitleControlsBottom:n.companionWindowTitleControls,(0,p.Z)("companion-window-title-controls")].join(" ")},O)),r.createElement(c.Z,{className:[n.content,(0,p.Z)("scrollto-scrollable")].join(" "),elevation:0},C)))}}])&&v(t.prototype,n),k}(r.Component);O.defaultProps={ariaLabel:void 0,children:void 0,defaultSidebarPanelHeight:201,defaultSidebarPanelWidth:235,isDisplayed:!1,onCloseClick:function(){},paperClassName:"",position:null,size:{},t:function(e){return e},title:null,titleControls:null,updateCompanionWindow:void 0}},64533:(e,t,n)=>{"use strict";n.d(t,{L:()=>f});var r=n(67294),o=n(10053),i=n(269),a=n(31229);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(y,e);var t,n,f,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(p);if(d){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=h.call(this,e)).state={},t}return t=y,f=[{key:"getDerivedStateFromError",value:function(e){return{error:e,hasError:!0}}}],(n=[{key:"componentDidUpdate",value:function(e){this.props.content!==e.content&&this.setState({error:null,hasError:!1})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.windowId,c=e.id,l=e.t,u=this.state,s=u.error;if(u.hasError)return r.createElement(i.Z,{title:l("error"),windowId:n,id:c},r.createElement(a.Z,{error:s,windowId:n,companionWindowId:c}));var f=o.Z[t];return f?r.createElement(f,{id:c,windowId:n}):r.createElement(r.Fragment,null)}}])&&c(t.prototype,n),f&&c(t,f),y}(r.Component);f.defaultProps={content:null,t:function(e){return e}}},4399:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(67294),o=n(269);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,s,f,p=(s=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(s);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){return i(this,d),p.apply(this,arguments)}return t=d,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.children,i=e.t,a=e.title,c=e.windowId;return r.createElement(o.Z,{title:i(a),id:t,windowId:c},n)}}])&&a(t.prototype,n),d}(r.Component);s.defaultProps={children:null}},49075:(e,t,n)=>{"use strict";n.d(t,{Q:()=>m});var r=n(67294),o=n(36939),i=n(50743),a=n(61201),c=n(22318),l=n(44562),u=n(64566),s=n(28819);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(g,e);var t,n,m,v,b=(m=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(m);if(v){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function g(){return f(this,g),b.apply(this,arguments)}return t=g,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.error,f=e.metadata,p=e.showJsError,d=e.t;return p?r.createElement(r.Fragment,null,r.createElement(l.Z,{elevation:6,variant:"filled",severity:"error"},d("errorDialogTitle")),p&&r.createElement(o.Z,{square:!0,className:t.alert},r.createElement(i.Z,{expandIcon:r.createElement(u.Z,null)},r.createElement(c.Z,null,d("jsError",{message:n.message,name:n.name}))),r.createElement(a.Z,{className:t.details},r.createElement("pre",null,d("jsStack",{stack:n.stack})),f&&r.createElement("pre",null,JSON.stringify(f,null,2)))),r.createElement(s.M,this.props)):null}}])&&p(t.prototype,n),g}(r.Component);m.defaultProps={metadata:null,showJsError:!0,t:function(e){return e}}},81591:(e,t,n)=>{"use strict";n.d(t,{w:()=>b});var r=n(52353),o=n.n(r),i=n(67294),a=n(52663),c=n(29525),l=n(66083),u=n(22318),s=n(7212),f=n(66856),p=n(282);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(w,e);var t,n,r,b,g=(r=w,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(b){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function w(){return d(this,w),g.apply(this,arguments)}return t=w,(n=[{key:"render",value:function(){var e=this.props,t=e.error,n=e.removeError,r=e.t,d=!o()(t);return t?i.createElement(a.Z,{"aria-labelledby":"error-dialog-title",id:"error-dialog",onClose:function(){return n(t.id)},open:d},i.createElement(l.Z,{id:"error-dialog-title",disableTypography:!0},i.createElement(u.Z,{variant:"h2"},r("errorDialogTitle"))),i.createElement(c.Z,{disableTypography:!0},i.createElement(s.Z,{variant:"body2",noWrap:!0,color:"inherit"},"".concat(t.message)),i.createElement(f.Z,null,i.createElement(p.Z,{onClick:function(){return n(t.id)},variant:"contained"},r("errorDialogConfirm"))))):null}}])&&h(t.prototype,n),w}(i.Component);b.defaultProps={error:null,removeError:function(){},t:function(e){return e}}},38013:(e,t,n)=>{"use strict";n.d(t,{k:()=>p});var r=n(67294),o=n(90639),i=n(43217),a=n(82396);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(p);if(d){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function y(){return c(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isFullscreenEnabled,c=e.setWorkspaceFullscreen,l=e.t;return r.createElement(a.Z,{className:t,"aria-label":l(n?"exitFullScreen":"workspaceFullScreen"),onClick:function(){return c(!n)}},n?r.createElement(i.Z,null):r.createElement(o.Z,null))}}])&&l(t.prototype,n),y}(r.Component);p.defaultProps={className:void 0,isFullscreenEnabled:!1,t:function(e){return e}}},45566:(e,t,n)=>{"use strict";n.d(t,{H:()=>f});var r=n(67294),o=n(79895),i=n(24527);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(h,e);var t,n,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(f);if(p){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function h(){return a(this,h),d.apply(this,arguments)}return t=h,(n=[{key:"render",value:function(){var e=this.props,t=e.canvases,n=e.classes,a=e.viewingDirection,c=e.windowId,l="right-to-left"===a?"rtl":"ltr";return r.createElement(o.Z,{component:"section",dir:l,square:!0,elevation:0,className:n.galleryContainer,id:"".concat(c,"-gallery")},t.map((function(e){return r.createElement(i.Z,{key:e.id,windowId:c,canvas:e})})))}}])&&c(t.prototype,n),h}(r.Component);f.defaultProps={classes:{},viewingDirection:""}},11705:(e,t,n)=>{"use strict";n.d(t,{o:()=>b});var r=n(67294),o=n(33901),i=n(71267),a=n(40480),c=n(75421),l=n(94184),u=n.n(l),s=(n(66337),n(9361)),f=n(11553),p=n(21229);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(w,e);var t,n,l,b,g=(l=w,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(l);if(b){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=g.call(this,e)).state={requestedAnnotations:!1},t.handleSelect=t.handleSelect.bind(m(t)),t.handleKey=t.handleKey.bind(m(t)),t.handleIntersection=t.handleIntersection.bind(m(t)),t}return t=w,(n=[{key:"handleSelect",value:function(){var e=this.props,t=e.canvas,n=e.selected,r=e.setCanvas,o=e.focusOnCanvas;n?o():r(t.id)}},{key:"handleKey",value:function(e){var t=this.props,n=t.canvas,r=t.setCanvas,o=t.focusOnCanvas;this.keys={enter:"Enter",space:" "},this.chars={enter:13,space:32},e.key===this.keys.enter||e.which===this.chars.enter||e.key===this.keys.space||e.which===this.chars.space?o():r(n.id)}},{key:"handleIntersection",value:function(e){var t=e.isIntersecting,n=this.props,r=n.annotationsCount,o=n.requestCanvasAnnotations,i=this.state.requestedAnnotations;!t||void 0===r||r>0||i||(this.setState({requestedAnnotations:!0}),o())}},{key:"render",value:function(){var e=this.props,t=e.annotationsCount,n=e.searchAnnotationsCount,l=e.canvas,d=e.classes,h=e.config,y=e.selected,m=new f.Z(l);return r.createElement(s.ZP,{onChange:this.handleIntersection},r.createElement("div",{key:l.index,className:u()(d.galleryViewItem,y?d.selected:"",n>0?d.hasAnnotations:""),onClick:this.handleSelect,onKeyUp:this.handleKey,role:"button",tabIndex:0},r.createElement(p.Z,{resource:l,labelled:!0,variant:"outside",maxWidth:h.width,maxHeight:h.height,style:{margin:"0 auto",maxWidth:"".concat(Math.ceil(h.height*m.aspectRatio),"px")}},r.createElement("div",{className:d.chips},n>0&&r.createElement(i.Z,{avatar:r.createElement(o.Z,{className:d.avatar,classes:{circle:d.avatarIcon}},r.createElement(c.Z,{fontSize:"small"})),label:n,className:u()(d.searchChip),size:"small"}),(t||0)>0&&r.createElement(i.Z,{avatar:r.createElement(o.Z,{className:d.avatar,classes:{circle:d.avatarIcon}},r.createElement(a.Z,{className:d.annotationIcon})),label:t,className:u()(d.annotationsChip),size:"small"})))))}}])&&d(t.prototype,n),w}(r.Component);b.defaultProps={annotationsCount:void 0,config:{height:100,width:null},requestCanvasAnnotations:function(){},searchAnnotationsCount:0,selected:!1}},18602:(e,t,n)=>{"use strict";n.d(t,{f:()=>E});var r=n(67294),o=n(96622);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,s,f,p=(s=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(s);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=p.call(this,e)).onReceiveAccessTokenMessage=t.onReceiveAccessTokenMessage.bind(l(t)),t}return t=d,(n=[{key:"onReceiveAccessTokenMessage",value:function(e){var t=this.props,n=t.handleAccessTokenMessage,r=t.url;e.data&&e.data.messageId&&e.data.messageId===r&&n(e.data)}},{key:"render",value:function(){var e=this.props.url;return e?r.createElement(o.Z,{attributes:{"aria-hidden":!0,height:1,src:"".concat(e,"?origin=").concat(window.origin,"&messageId=").concat(e),style:{visibility:"hidden"},width:1},handleReceiveMessage:this.onReceiveAccessTokenMessage}):r.createElement(r.Fragment,null)}}])&&i(t.prototype,n),d}(r.Component);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}s.defaultProps={url:void 0};var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).released=void 0,t.window=null,t.checkIfWindowClosed=null,t}return t=a,(n=[{key:"componentDidMount",value:function(){this.openWindow()}},{key:"componentWillUnmount",value:function(){this.window&&this.window.close()}},{key:"onClose",value:function(){var e=this.props,t=e.onClose,n=e.url;this.released||(this.released=!0,clearInterval(this.checkIfWindowClosed),t(n))}},{key:"openWindow",value:function(){var e=this,t=this.props,n=t.depWindow,r=t.features,o=t.name,i=t.url;this.window=(n||window).open(i,o,r),this.released=!1,this.checkIfWindowClosed=setInterval((function(){e.window&&!e.window.closed||e.onClose()}),250)}},{key:"render",value:function(){return null}}])&&f(t.prototype,n),a}(r.Component);y.defaultProps={depWindow:void 0,features:void 0,name:void 0};var m=n(86466);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(o);if(i){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).performLogout=t.performLogout.bind(w(t)),t.onReceiveAccessTokenMessage=t.onReceiveAccessTokenMessage.bind(w(t)),t}return t=c,(n=[{key:"onReceiveAccessTokenMessage",value:function(e){var t=this.props,n=t.authServiceId,r=t.accessTokenServiceId;(0,t.resolveAccessTokenRequest)(n,r,e)}},{key:"defaultAuthBarProps",value:function(){var e=this.props,t=e.authServiceId,n=e.windowId,r=e.status;return{authServiceId:t,hasLogoutService:!!e.logoutServiceId,status:r,windowId:n}}},{key:"performLogout",value:function(){var e=this.props,t=e.accessTokenServiceId,n=e.authServiceId,r=e.features,o=e.logoutServiceId,i=e.resetAuthenticationState;(0,e.openWindow)(o,void 0,r),i({authServiceId:n,tokenServiceId:t})}},{key:"renderLoggedIn",value:function(){var e=this.props,t=e.isInteractive,n=e.logoutConfirm,o=e.t;return t?r.createElement(m.Z,Object.assign({confirmButton:n||o("logout"),onConfirm:this.performLogout},this.defaultAuthBarProps())):null}},{key:"renderFailure",value:function(){var e=this.props,t=e.handleAuthInteraction,n=e.failureHeader,o=e.failureDescription,i=e.t,a=e.authServiceId,c=e.windowId;return r.createElement(m.Z,Object.assign({header:n,description:o,confirmButton:i("retry"),onConfirm:function(){return t(c,a)}},this.defaultAuthBarProps()))}},{key:"renderLoggingInCookie",value:function(){var e=this.props,t=e.accessTokenServiceId,n=e.authServiceId,o=e.resolveAuthenticationRequest,i=e.features;return r.createElement(r.Fragment,null,this.renderLogin(),r.createElement(y,{name:"IiifLoginSender",url:"".concat(n,"?origin=").concat(window.origin),features:i,onClose:function(){return o(n,t)}}))}},{key:"renderLoggingInToken",value:function(){var e=this.props.accessTokenServiceId;return r.createElement(r.Fragment,null,this.renderLogin(),r.createElement(s,{handleAccessTokenMessage:this.onReceiveAccessTokenMessage,url:e}))}},{key:"renderLogin",value:function(){var e=this.props,t=e.confirm,n=e.description,o=e.handleAuthInteraction,i=e.header,a=e.isInteractive,c=e.label,l=e.authServiceId,u=e.windowId;return a?r.createElement(m.Z,Object.assign({header:i,description:n,label:c,confirmButton:t,onConfirm:function(){return o(u,l)}},this.defaultAuthBarProps())):null}},{key:"render",value:function(){var e=this.props,t=e.authServiceId,n=e.status;return t?null===n?this.renderLogin():"cookie"===n?this.renderLoggingInCookie():"token"===n?this.renderLoggingInToken():"failed"===n?this.renderFailure():"ok"===n?this.renderLoggedIn():null:null}}])&&v(t.prototype,n),c}(r.Component);E.defaultProps={confirm:void 0,description:void 0,failureDescription:void 0,failureHeader:void 0,features:"centerscreen",header:void 0,isInteractive:!0,label:void 0,logoutConfirm:void 0,logoutServiceId:void 0,openWindow:window.open,status:null,t:function(e){return e}}},71240:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294),o=n(32692),i=n(26878),a=n(88105),c=n(44586),l=n(42166),u=n(22068),s=n(90841);function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e,t,n){var r,o=n.onDrop;if(e.urls&&e.urls.forEach((function(e){var r=new URL(e),i=r.searchParams.get("manifest"),a=r.searchParams.get("canvas");i&&o({canvasId:a,manifestId:i},n,t)})),e.files){var i,a=e.files.filter((function(e){return"application/json"===e.type})).map((function(e){return new Promise((function(r,i){var a=new FileReader;a.addEventListener("load",(function(){var e=a.result,i=(0,c.Z)();e&&o({manifestId:i,manifestJson:e},n,t),r()})),a.readAsText(e)}))})),l=e.files.filter((function(e){return e.type.startsWith("image/")}));if(l.length>0){var u=(0,c.Z)(),d=l.map((function(e){return(0,s.A)(e)}));i=Promise.all(d).then((function(e){var r={"@context":"http://iiif.io/api/presentation/3/context.json",id:u,items:e.map((function(e,t){var n=e.name,r=e.type,o=e.width,i=e.height,a=e.url;return{height:i,id:"".concat(u,"/canvas/").concat(t),items:[{id:"".concat(u,"/canvas/").concat(t,"/1"),items:[{body:{format:r,id:a,type:"Image"},height:i,id:"".concat(u,"/canvas/").concat(t,"/1/image"),motivation:"painting",target:"".concat(u,"/canvas/").concat(t,"/1"),type:"Annotation",width:o}],type:"AnnotationPage"}],label:n,type:"Canvas",width:o}})),label:e[0].name,type:"Manifest"},i=(0,c.Z)();r&&o({manifestId:i,manifestJson:r},n,t)}))}return Promise.all([].concat(function(e){if(Array.isArray(e))return p(e)}(r=a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||f(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i]))}},h=function(e){var t,n,c=e.children,s=e.onDrop,p=(t=(0,u.L)({accept:[l.URL,l.FILE],collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}},drop:function(t,n){s&&d(t,n,e)}}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,n)||f(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=p[0],y=h.canDrop,m=h.isOver,v=p[1],b=y&&m;return r.createElement("div",{ref:v,onDrop:function(t){if(window.safari&&s&&t.dataTransfer&&t.dataTransfer.types.includes("Files")&&t.dataTransfer.types.includes("text/uri-list")){var n=t.dataTransfer.getData("text/uri-list");if(!n)return;d({urls:[n]},null,e)}},style:{height:"100%",width:"100%"}},c,r.createElement(o.Z,{open:b,style:{zIndex:9999}},r.createElement(i.Z,{style:{color:a.Z[400],fontSize:256}})))}},35819:(e,t,n)=>{"use strict";n.d(t,{G:()=>b});var r=n(67294),o=(n(66337),n(22318)),i=n(9361),a=n(94184),c=n.n(a),l=n(5086);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,a=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=v(t);if(n){var o=v(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return y(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).state={loaded:!1},t.handleIntersection=t.handleIntersection.bind(m(t)),t}return d(u,null,[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}]),d(u,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(t){return s(s({},t),{},{image:e.image()})}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.maxHeight,o=n.maxWidth,i=n.resource;e.maxHeight===r&&e.maxWidth===o&&e.resource===i||this.setState((function(e){return s(s({},e),{},{image:t.image()})}))}},{key:"handleIntersection",value:function(e){!this.state.loaded&&e.isIntersecting&&this.setState((function(e){return s(s({},e),{},{loaded:!0})}))}},{key:"imageStyles",value:function(){var e=this.props,t=e.maxHeight,n=e.maxWidth,r=e.style,o=this.image(),i={height:"auto",width:"auto"};if(!o)return s(s({},r),{},{height:t||"auto",width:n||"auto"});var a=o.height,c=o.width;if(a&&c)if(t&&a>t||n&&c>n){var l=c/a;t&&n?n/t<l?(i.height=Math.round(n/l),i.width=n):(i.height=t,i.width=Math.round(t*l)):t?(i.height=t,i.maxWidth=Math.round(t*l)):n&&(i.width=n,i.maxHeight=Math.round(n/l))}else i.width=c,i.height=a;else a&&!c?i.height=t:!a&&c?i.width=n:(i.width=n,i.height=t);return s(s({},i),r)}},{key:"image",value:function(){var e=this.props,t=e.thumbnail,n=e.resource,r=e.maxHeight,o=e.maxWidth,i=e.thumbnailsConfig;if(t)return t;var a=(0,l.Z)(n,s(s({},i),{},{maxHeight:r,maxWidth:o}));return a&&a.url?a:void 0}},{key:"label",value:function(){var e=this.props,t=e.label,n=e.resource;return t||u.getUseableLabel(n)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.imagePlaceholder,l=e.labelled,u=e.thumbnail,s=e.variant,p=this.state,d=p.image,h=(p.loaded&&(u||d)||{}).url,y=void 0===h?a:h;return r.createElement("div",{className:c()(n.root,f({},n["".concat(s,"Root")],s))},r.createElement(i.ZP,{onChange:this.handleIntersection},r.createElement("img",{alt:"",role:"presentation",src:y,style:this.imageStyles(),className:n.image})),l&&r.createElement("div",{className:c()(n.label,f({},n["".concat(s,"Label")],s))},r.createElement(o.Z,{variant:"caption",classes:{root:c()(n.caption,f({},n["".concat(s,"Caption")],s))}},this.label())),t)}}]),u}(r.Component);b.defaultProps={children:null,classes:{},imagePlaceholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMDQmtBwADgwF/Op8FmAAAAABJRU5ErkJggg==",label:void 0,labelled:!1,maxHeight:null,maxWidth:null,style:{},thumbnail:null,thumbnailsConfig:{},variant:null}},59298:(e,t,n)=>{"use strict";n.d(t,{K:()=>p});var r=n(67294),o=n(22318),i=n(46387),a=n(79686);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(p);if(d){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function y(){return c(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.defaultLabel,n=e.labelValuePairs;return 0===n.length?r.createElement(r.Fragment,null):r.createElement("dl",{className:(0,a.Z)("label-value-metadata")},n.reduce((function(e,n,a){return e.concat([r.createElement(o.Z,{component:"dt",key:"label-".concat(a),variant:"subtitle2"},n.label||t),r.createElement(o.Z,{style:{marginBottom:".5em",marginLeft:"0px"},component:"dd",key:"value-".concat(a),variant:"body1"},r.createElement(i.Z,{htmlString:n.values.join(", "),ruleSet:"iiif"}))])}),[]))}}])&&l(t.prototype,n),y}(r.Component);p.defaultProps={defaultLabel:void 0}},35252:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var r=n(67294),o=n(46869),i=n(95757),a=n(85639),c=n(3409);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(){return l(this,m),y.apply(this,arguments)}return t=m,(n=[{key:"render",value:function(){var e=this.props,t=e.handleClick,n=e.languages;return r.createElement(r.Fragment,null,n.map((function(e){return r.createElement(a.Z,{button:!e.current,key:e.locale,onClick:function(){t(e.locale)}},r.createElement(o.Z,null,e.current&&r.createElement(c.Z,null)),r.createElement(i.Z,{primaryTypographyProps:{variant:"body1"}},e.label))})))}}])&&u(t.prototype,n),m}(r.Component)},22371:(e,t,n)=>{"use strict";n.d(t,{k:()=>f});var r=n(67294),o=n(269),i=n(81997);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(h,e);var t,n,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(f);if(p){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function h(){return a(this,h),d.apply(this,arguments)}return t=h,(n=[{key:"render",value:function(){var e=this.props,t=e.canvasIds,n=e.id,a=e.t,c=e.windowId;return r.createElement(o.Z,{title:a("layers"),id:n,windowId:c},t.map((function(e,n){return r.createElement(i.Z,{canvasId:e,index:n,key:e,totalSize:t.length,windowId:c})})))}}])&&c(t.prototype,n),h}(r.Component);f.defaultProps={canvasIds:[]}},77697:(e,t,n)=>{"use strict";n.d(t,{p:()=>d});var r=n(67294),o=n(85639),i=n(64436),a=n(26209),c=n(22318);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(){return l(this,m),y.apply(this,arguments)}return t=m,(n=[{key:"render",value:function(){var e=this.props,t=e.availableLocales,n=e.classes,l=e.locale,u=e.setLocale;return!u||t.length<2?r.createElement(r.Fragment,null):r.createElement(i.Z,null,r.createElement(a.Z,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null},displayEmpty:!0,value:l,onChange:function(e){u(e.target.value)},name:"locale",classes:{select:n.select},className:n.selectEmpty},t.map((function(e){return r.createElement(o.Z,{key:e,value:e},r.createElement(c.Z,{variant:"body2"},e))}))))}}])&&u(t.prototype,n),m}(r.Component);d.defaultProps={availableLocales:[],classes:{},locale:"",setLocale:void 0}},48709:(e,t,n)=>{"use strict";n.d(t,{b:()=>p});var r=n(67294),o=n(282),i=n(41749),a=n(7784);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(p);if(d){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=h.call(this,e)).state={formValue:""},t.formSubmit=t.formSubmit.bind(s(t)),t.handleCancel=t.handleCancel.bind(s(t)),t.handleInputChange=t.handleInputChange.bind(s(t)),t}return t=y,(n=[{key:"handleCancel",value:function(){(0,this.props.onCancel)(),this.setState({formValue:""})}},{key:"handleInputChange",value:function(e){e.preventDefault(),this.setState({formValue:e.target.value})}},{key:"formSubmit",value:function(e){var t=this.props,n=t.addResource,r=t.onSubmit,o=this.state.formValue;e.preventDefault(),r(),n(o),this.setState({formValue:""})}},{key:"render",value:function(){var e=this.state.formValue,t=this.props,n=t.addResourcesOpen,c=t.classes,l=t.onCancel,u=t.t;return n?r.createElement("form",{onSubmit:this.formSubmit},r.createElement(i.Z,{container:!0,spacing:2},r.createElement(i.Z,{item:!0,xs:12,sm:8,md:9},r.createElement(a.Z,{autoFocus:!0,fullWidth:!0,value:e,id:"manifestURL",type:"text",onChange:this.handleInputChange,variant:"filled",label:u("addManifestUrl"),helperText:u("addManifestUrlHelp"),InputLabelProps:{shrink:!0},InputProps:{className:c.input}})),r.createElement(i.Z,{item:!0,xs:12,sm:4,md:3,className:c.buttons},l&&r.createElement(o.Z,{onClick:this.handleCancel},u("cancel")),r.createElement(o.Z,{id:"fetchBtn",type:"submit",variant:"contained",color:"primary"},u("fetchManifest"))))):null}}])&&c(t.prototype,n),y}(r.Component);p.defaultProps={classes:{},onCancel:null,onSubmit:function(){},t:function(e){return e}}},72572:(e,t,n)=>{"use strict";n.d(t,{h:()=>h});var r=n(67294),o=n(22318),i=n(82989),a=n(46387),c=n(59298),l=n(28819);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(v,e);var t,n,h,y,m=(h=v,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(h);if(y){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function v(){return u(this,v),m.apply(this,arguments)}return t=v,(n=[{key:"render",value:function(){var e=this.props,t=e.manifestDescription,n=e.manifestLabel,u=e.manifestMetadata,s=e.id,f=e.t;return r.createElement(i.Z,{id:"".concat(s,"-resource"),label:f("resource")},n&&r.createElement(o.Z,{"aria-labelledby":"".concat(s,"-resource ").concat(s,"-resource-heading"),id:"".concat(s,"-resource-heading"),variant:"h4",component:"h5"},n),t&&r.createElement(o.Z,{variant:"body1"},r.createElement(a.Z,{htmlString:t,ruleSet:"iiif"})),u.length>0&&r.createElement(c.K,{labelValuePairs:u}),r.createElement(l.M,this.props))}}])&&s(t.prototype,n),v}(r.Component);h.defaultProps={manifestDescription:null,manifestLabel:null,manifestMetadata:[],t:function(e){return e}}},15066:(e,t,n)=>{"use strict";n.d(t,{g:()=>v});var r=n(67294),o=n(50998),i=n(32467),a=n(41749),c=n(22318),l=n(58365),u=n(13324),s=n(63586),f=n(79686);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(w,e);var t,n,v,b,g=(v=w,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(v);if(b){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=g.call(this,e)).handleOpenButtonClick=t.handleOpenButtonClick.bind(y(t)),t}return t=w,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchManifest,n=e.manifestId,r=e.ready,o=e.isFetching,i=e.error,a=e.provider;r||i||o||"file"===a||t(n)}},{key:"handleOpenButtonClick",value:function(){var e=this.props,t=e.addWindow,n=e.handleClose;t({manifestId:e.manifestId}),n()}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.buttonRef,p=e.manifestId,d=e.ready,h=e.title,y=e.thumbnail,m=e.manifestLogo,v=e.size,b=e.classes,g=e.provider,w=e.t,O=e.error,E=e.isCollection,k=e.isMultipart,P=r.createElement(a.Z,{container:!0,className:(0,f.Z)("manifest-list-item"),spacing:2},r.createElement(a.Z,{item:!0,xs:3,sm:2},r.createElement(l.Z,{className:b.placeholder,variant:"rect",height:80,width:120})),r.createElement(a.Z,{item:!0,xs:9,sm:6},r.createElement(l.Z,{className:b.placeholder,variant:"text"})),r.createElement(a.Z,{item:!0,xs:8,sm:2},r.createElement(l.Z,{className:b.placeholder,variant:"text"}),r.createElement(l.Z,{className:b.placeholder,variant:"text"})),r.createElement(a.Z,{item:!0,xs:4,sm:2},r.createElement(l.Z,{className:b.placeholder,variant:"rect",height:60,width:60})));return O?r.createElement(o.Z,{divider:!0,className:b.root,"data-manifestid":p},r.createElement(s.Z,{manifestId:p})):r.createElement(o.Z,{divider:!0,className:[b.root,t?b.active:""].join(" "),"data-manifestid":p},d?r.createElement(a.Z,{container:!0,className:(0,f.Z)("manifest-list-item"),spacing:2},r.createElement(a.Z,{item:!0,xs:12,sm:6,className:b.buttonGrid},r.createElement(i.Z,{ref:n,className:(0,f.Z)("manifest-list-item-title"),style:{width:"100%"},onClick:this.handleOpenButtonClick},r.createElement(a.Z,{container:!0,spacing:2,className:b.label,component:"span"},r.createElement(a.Z,{item:!0,xs:4,sm:3,component:"span"},y?r.createElement(u.Img,{className:[b.thumbnail,(0,f.Z)("manifest-list-item-thumb")].join(" "),src:[y],alt:"",height:"80",unloader:r.createElement(l.Z,{variant:"rect",animation:!1,className:b.placeholder,height:80,width:120})}):r.createElement(l.Z,{className:b.placeholder,variant:"rect",height:80,width:120})),r.createElement(a.Z,{item:!0,xs:8,sm:9,component:"span"},E&&r.createElement(c.Z,{component:"div",variant:"overline"},w(k?"multipartCollection":"collection")),r.createElement(c.Z,{component:"span",variant:"h6"},h||p))))),r.createElement(a.Z,{item:!0,xs:8,sm:4},r.createElement(c.Z,{className:(0,f.Z)("manifest-list-item-provider")},g),r.createElement(c.Z,null,w("numItems",{count:v,number:v}))),r.createElement(a.Z,{item:!0,xs:4,sm:2},m&&r.createElement(u.Img,{src:[m],alt:"",role:"presentation",className:b.logo,unloader:r.createElement(l.Z,{variant:"rect",animation:!1,className:b.placeholder,height:60,width:60})}))):P)}}])&&p(t.prototype,n),w}(r.Component);v.defaultProps={active:!1,buttonRef:void 0,classes:{},error:null,handleClose:function(){},isCollection:!1,isFetching:!1,isMultipart:!1,manifestLogo:null,provider:null,ready:!1,size:0,t:function(e){return e},thumbnail:null,title:null}},29125:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});var r=n(67294),o=n(282),i=n(41842),a=n(41749),c=n(22318);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(){return l(this,m),y.apply(this,arguments)}return t=m,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.manifestId,l=e.onDismissClick,u=e.onTryAgainClick,s=e.t;return r.createElement(a.Z,{container:!0},r.createElement(a.Z,{container:!0},r.createElement(a.Z,{container:!0,item:!0,xs:12,sm:6},r.createElement(a.Z,{item:!0,xs:4,sm:3},r.createElement(a.Z,{container:!0,justify:"center"},r.createElement(i.Z,{className:t.errorIcon}))),r.createElement(a.Z,{item:!0,xs:8,sm:9},r.createElement(c.Z,null,s("manifestError")),r.createElement(c.Z,{className:t.manifestIdText},n)))),r.createElement(a.Z,{container:!0},r.createElement(a.Z,{container:!0,item:!0,xs:12,sm:6,justify:"flex-end"},r.createElement(a.Z,{item:!0},r.createElement(o.Z,{onClick:function(){l(n)}},s("dismiss")),r.createElement(o.Z,{onClick:function(){u(n)}},s("tryAgain"))))))}}])&&u(t.prototype,n),m}(r.Component)},96676:(e,t,n)=>{"use strict";n.d(t,{n:()=>m});var r=n(67294),o=n(22318),i=n(89659),a=n(94184),c=n.n(a),l=n(82989),u=n(79686),s=n(28819);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(b,e);var t,n,a,m,v=(a=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(a);if(m){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function b(){return f(this,b),v.apply(this,arguments)}return t=b,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.homepage,a=e.manifestUrl,f=e.renderings,p=e.seeAlso,d=e.id,h=e.t;return r.createElement(l.Z,{id:"".concat(d,"-related"),label:h("related")},r.createElement(o.Z,{"aria-labelledby":"".concat(d,"-related ").concat(d,"-related-heading"),id:"".concat(d,"-related-heading"),variant:"h4",component:"h5"},h("links")),r.createElement("dl",{className:c()((0,u.Z)("label-value-metadata"),t.labelValueMetadata)},n&&r.createElement(r.Fragment,null,r.createElement(o.Z,{variant:"subtitle2",component:"dt"},h("iiif_homepage")),n.map((function(e){return r.createElement(o.Z,{key:e.value,variant:"body1",component:"dd"},r.createElement(i.Z,{target:"_blank",rel:"noopener noreferrer",href:e.value},e.label||e.value))}))),f&&f.length>0&&r.createElement(r.Fragment,null,r.createElement(o.Z,{variant:"subtitle2",component:"dt"},h("iiif_renderings")),f.map((function(e){return r.createElement(o.Z,{key:e.value,variant:"body1",component:"dd"},r.createElement(i.Z,{target:"_blank",rel:"noopener noreferrer",href:e.value},e.label||e.value))}))),p&&r.createElement(r.Fragment,null,r.createElement(o.Z,{variant:"subtitle2",component:"dt"},h("iiif_seeAlso")),p.map((function(e){return r.createElement(o.Z,{key:e.value,variant:"body1",component:"dd"},r.createElement(i.Z,{target:"_blank",rel:"noopener noreferrer",href:e.value},e.label||e.value),e.format&&r.createElement(o.Z,{component:"span"}," (".concat(e.format,")")))}))),a&&r.createElement(r.Fragment,null,r.createElement(o.Z,{variant:"subtitle2",component:"dt"},h("iiif_manifest")),r.createElement(o.Z,{variant:"body1",component:"dd"},r.createElement(i.Z,{target:"_blank",rel:"noopener noreferrer",href:a},a)))),r.createElement(s.M,this.props))}}])&&p(t.prototype,n),b}(r.Component);m.defaultProps={homepage:null,manifestUrl:null,renderings:null,seeAlso:null,t:function(e){return e}}},48956:(e,t,n)=>{"use strict";n.d(t,{X:()=>g});var r=n(67294),o=n(74743),i=n(94184),a=n.n(i),c=n(79895),l=n(45258),u=n(28358),s=n(22318),f=n(95378),p=n(82396),d=n(79686);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(O,e);var t,n,i,g,w=(i=O,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(i);if(g){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function O(){return h(this,O),w.apply(this,arguments)}return t=O,(n=[{key:"render",value:function(){var e=this.props,t=e.allowClose,n=e.allowWindowSideBar,i=e.ariaLabel,h=e.children,y=e.classes,m=e.label,v=e.removeWindow,b=e.t,g=e.windowId;return r.createElement(c.Z,{component:"section",elevation:1,id:g,className:a()(y.window,(0,d.Z)("placeholder-window")),"aria-label":m&&i?b("window",{label:m}):null},r.createElement(l.Z,{position:"relative",color:"default"},r.createElement(u.Z,{disableGutters:!0,className:a()(y.windowTopBarStyle,(0,d.Z)("window-top-bar")),variant:"dense"},n&&r.createElement(p.Z,{"aria-label":b("toggleWindowSideBar"),disabled:!0},r.createElement(o.Z,null)),r.createElement(s.Z,{variant:"h2",noWrap:!0,color:"inherit",className:y.title},m),t&&v&&r.createElement(p.Z,{"aria-label":b("closeWindow"),className:a()(y.button,(0,d.Z)("window-close")),onClick:v,TooltipProps:{tabIndex:i?"0":"-1"}},r.createElement(f.Z,null)))),h)}}])&&y(t.prototype,n),O}(r.Component);g.defaultProps={allowClose:!0,allowWindowSideBar:!0,ariaLabel:!0,children:null,classes:{},label:"",removeWindow:function(){},t:function(e){return e}}},75590:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var r=n(67294),o=n(59009),i=n(17812),a=n(868),c=n(79686);function l(e){var t=e["aria-label"],n=e.badge,l=e.children,u=e.containerId,s=(e.dispatch,e.BadgeProps),f=e.TooltipProps,p=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["badge","children","containerId","dispatch","BadgeProps","TooltipProps"]),d=r.createElement(i.Z,p,n?r.createElement(o.Z,s,l):l);return p.disabled?d:r.createElement(a.ZP,Object.assign({PopperProps:{container:document.querySelector("#".concat(u," .").concat((0,c.Z)("viewer")))},title:t},f),d)}l.defaultProps={badge:!1,BadgeProps:{},dispatch:function(){},TooltipProps:{}}},26055:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(67294),o=n(25185);function i(e){var t=e.t,n=e.title,i=e.windowId;return r.createElement(o.Z,{windowId:"".concat(i,"-preview"),label:t("previewWindowTitle",{title:n}),ariaLabel:!1})}i.defaultProps={t:function(e){return e},title:""}},97477:(e,t,n)=>{"use strict";n.d(t,{L:()=>S});var r=n(67294),o=n(23279),i=n.n(o),a=n(18446),c=n.n(a),l=n(69203),u=n.n(l),s=n(94184),f=n.n(s),p=n(79686),d=n(73678),h=n(28819),y=n(30088);function m(e,t,n){return m=C()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&k(o,n.prototype),o},m.apply(null,arguments)}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function P(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e);var t,n,o,a,l=(t=s,n=C(),function(){var e,r=_(t);if(n){var o=_(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return P(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={viewer:void 0},t.ref=r.createRef(),t.apiRef=r.createRef(),y.j.set(e.windowId,t.apiRef),t.onCanvasMouseMove=i()(t.onCanvasMouseMove.bind(j(t)),10),t.onViewportChange=t.onViewportChange.bind(j(t)),t.zoomToWorld=t.zoomToWorld.bind(j(t)),t.osdUpdating=!1,t}return o=s,a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.osdConfig,r=t.t,o=t.windowId;if(this.ref.current){var i=new(u())(w({id:this.ref.current.id},n)),a=i.canvas&&i.canvas.firstElementChild;a&&(a.setAttribute("role","img"),a.setAttribute("aria-label",r("digitizedView")),a.setAttribute("aria-describedby","".concat(o,"-osd"))),this.apiRef.current=i,this.setState({viewer:i}),i.addHandler("animation-start",(function(){e.osdUpdating=!0})),i.addHandler("animation-finish",this.onViewportChange),i.addHandler("animation-finish",(function(){e.osdUpdating=!1})),i.innerTracker&&(i.innerTracker.moveHandler=this.onCanvasMouseMove)}}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.viewerConfig,o=n.canvasWorld,i=this.state.viewer;if(this.apiRef.current=i,void 0===t.viewer)return r&&(i.viewport.panTo(r,!0),i.viewport.zoomTo(r.zoom,r,!0),void 0!==r.degrees&&i.viewport.setRotation(r.degrees),void 0!==r.flip&&i.viewport.setFlip(r.flip)),void this.addAllImageSources(!r);if(this.infoResponsesMatch(e.infoResponses)&&this.nonTiledImagedMatch(e.nonTiledImages))if(c()(o.layers,e.canvasWorld.layers)){if(r&&!this.osdUpdating){var a=i.viewport;r.x===a.centerSpringX.target.value&&r.y===a.centerSpringY.target.value||a.panTo(r,!1),r.zoom!==a.zoomSpring.target.value&&a.zoomTo(r.zoom,r,!1),r.rotation!==a.getRotation()&&a.setRotation(r.rotation),r.flip!==a.getFlip()&&a.setFlip(r.flip)}}else this.refreshTileProperties();else{i.close();var l=!c()(o.canvasIds,e.canvasWorld.canvasIds);this.addAllImageSources(l||!r)}}},{key:"componentWillUnmount",value:function(){var e=this.state.viewer;e.innerTracker&&e.innerTracker.moveHandler===this.onCanvasMouseMove&&(e.innerTracker.moveHandler=null),e.removeAllHandlers(),this.apiRef.current=void 0}},{key:"onCanvasMouseMove",value:function(e){this.state.viewer.raiseEvent("mouse-move",e)}},{key:"onViewportChange",value:function(e){var t=this.props,n=t.updateViewport,r=t.windowId,o=e.eventSource.viewport;n(r,{flip:o.getFlip(),rotation:o.getRotation(),x:Math.round(o.centerSpringX.target.value),y:Math.round(o.centerSpringY.target.value),zoom:o.zoomSpring.target.value})}},{key:"addAllImageSources",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.props,r=n.nonTiledImages,o=n.infoResponses;Promise.all(o.map((function(t){return e.addTileSource(t)})),r.map((function(t){return e.addNonTiledImage(t)}))).then((function(){(o[0]||r[0])&&(t&&e.zoomToWorld(),e.refreshTileProperties())}))}},{key:"addNonTiledImage",value:function(e){var t=this.props.canvasWorld,n=this.state.viewer,r=e.getProperty("type"),o=e.getProperty("format")||"";return"Image"===r||"dctypes:Image"===r||o.startsWith("image/")?new Promise((function(r,o){n||o(),n.addSimpleImage({error:function(e){return o(e)},fitBounds:m(u().Rect,v(t.contentResourceToWorldCoordinates(e))),index:t.layerIndexOfImageResource(e),opacity:t.layerOpacityOfImageResource(e),success:function(e){return r(e)},url:e.id})})):Promise.resolve()}},{key:"addTileSource",value:function(e){var t=this.props.canvasWorld,n=this.state.viewer;return new Promise((function(r,o){n||o();var i=w({},e.json),a=t.contentResource(e.id);a&&n.addTiledImage({error:function(e){return o(e)},fitBounds:m(u().Rect,v(t.contentResourceToWorldCoordinates(a))),index:t.layerIndexOfImageResource(a),opacity:t.layerOpacityOfImageResource(a),success:function(e){return r(e)},tileSource:i})}))}},{key:"refreshTileProperties",value:function(){for(var e=this.props.canvasWorld,t=this.state.viewer.world,n=[],r=0;r<t.getItemCount();r+=1)n.push(t.getItemAt(r));n.forEach((function(n,r){var o=e.contentResource(n.source["@id"]||n.source.id);if(o){var i=e.layerIndexOfImageResource(o);r!==i&&t.setItemIndex(n,i),n.setOpacity(e.layerOpacityOfImageResource(o))}}))}},{key:"fitBounds",value:function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=this.state.viewer;i.viewport.fitBounds(new(u().Rect)(e,t,n,r),o)}},{key:"infoResponsesMatch",value:function(e){var t=this.props.infoResponses;return 0===t.length&&0===e.length||t.length===e.length&&t.every((function(t,n){return!!(e[n]&&t.json&&e[n].json&&t.tokenServiceId===e[n].tokenServiceId&&(t.json["@id"]&&t.json["@id"]===e[n].json["@id"]||t.json.id&&t.json.id===e[n].json.id))}))}},{key:"nonTiledImagedMatch",value:function(e){var t=this.props.nonTiledImages;return 0===t.length&&0===e.length||t.some((function(t,n){return!!e[n]&&t.id===e[n].id}))}},{key:"zoomToWorld",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.canvasWorld;this.fitBounds.apply(this,v(t.worldBounds()).concat([e]))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.classes,i=t.label,a=t.t,c=t.windowId,l=t.drawAnnotations,u=this.state.viewer,s=r.Children.map(n,(function(t){return r.cloneElement(t,{zoomToWorld:e.zoomToWorld})}));return r.createElement(r.Fragment,null,r.createElement("section",{className:f()((0,p.Z)("osd-container"),o.osdContainer),id:"".concat(c,"-osd"),ref:this.ref,"aria-label":a("item",{label:i}),"aria-live":"polite"},l&&r.createElement(d.Z,{viewer:u,windowId:c}),s,r.createElement(h.M,Object.assign({viewer:u},w(w({},this.props),{},{children:null})))))}}],a&&E(o.prototype,a),s}(r.Component);S.defaultProps={children:null,drawAnnotations:!1,infoResponses:[],label:null,nonTiledImages:[],osdConfig:{},viewerConfig:null}},28819:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var r=n(67294);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=r.forwardRef((function(e,t){var n=e.PluginComponents,o=(e.classes,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["classes"]));return n?n.map((function(e,n){return r.isValidElement(e)?r.cloneElement(e,i(i({},o),{},{ref:t})):r.createElement(e,Object.assign({ref:t},o,{key:n}))})):null}))},29830:(e,t,n)=>{"use strict";n.d(t,{r:()=>w});var r=n(67294),o=n(94184),i=n.n(o),a=n(11468),c=n(46424),l=n(46615),u=n(79686);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var y=(0,r.lazy)((function(){return Promise.all([n.e(463),n.e(733),n.e(239),n.e(693),n.e(145),n.e(977),n.e(108),n.e(778)]).then(n.bind(n,56412))})),m=(0,r.lazy)((function(){return Promise.all([n.e(463),n.e(733),n.e(239),n.e(693),n.e(145),n.e(977),n.e(108),n.e(778)]).then(n.bind(n,20892))})),v=(0,r.lazy)((function(){return Promise.all([n.e(463),n.e(733),n.e(239),n.e(693),n.e(145),n.e(977),n.e(108),n.e(778)]).then(n.bind(n,90581))})),b=(0,r.lazy)((function(){return Promise.all([n.e(463),n.e(733),n.e(239),n.e(693),n.e(145),n.e(977),n.e(108),n.e(778)]).then(n.bind(n,78256))})),g=(0,r.lazy)((function(){return Promise.all([n.e(463),n.e(733),n.e(239),n.e(693),n.e(145),n.e(977),n.e(108),n.e(778)]).then(n.bind(n,6892))}));m.displayName="GalleryView",v.displayName="SelectCollection",b.displayName="WindowViewer";var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(E,e);var t,n,o,w,O=(o=E,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(o);if(w){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function E(){return s(this,E),O.apply(this,arguments)}return t=E,(n=[{key:"renderViewer",value:function(){var e=this.props,t=e.audioResources,n=e.isCollection,o=e.isFetching,i=e.videoResources,a=e.view,c=e.windowId;return n?r.createElement(r.Fragment,null,r.createElement(v,{windowId:c})):!1===o?"gallery"===a?r.createElement(m,{windowId:c}):i.length>0?r.createElement(g,{windowId:c}):t.length>0?r.createElement(y,{windowId:c}):r.createElement(b,{windowId:c}):null}},{key:"render",value:function(){var e=this.props,t=e.isCollectionDialogVisible,n=e.windowId,o=e.classes,s=e.children;return r.createElement("div",{className:i()((0,u.Z)("primary-window"),o.primaryWindow)},r.createElement(a.Z,{windowId:n}),r.createElement(c.Z,{windowId:n,position:"left"}),t&&r.createElement(l.Z,{windowId:n}),r.createElement(r.Suspense,{fallback:r.createElement("div",null)},s||this.renderViewer()))}}])&&f(t.prototype,n),E}(r.Component);w.defaultProps={audioResources:[],children:void 0,isCollection:!1,isCollectionDialogVisible:!1,isFetching:!1,videoResources:[],view:void 0}},72367:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var r=n(67294),o=n(27856),i=n.n(o),a=n(79686),c=n(16386);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(y,e);var t,n,o,d,h=(o=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(o);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function y(){return l(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.htmlString,o=e.ruleSet;return i().addHook("afterSanitizeAttributes",(function(e){"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})),r.createElement("span",{className:[t.root,(0,a.Z)("third-party-html")].join(" "),dangerouslySetInnerHTML:{__html:i().sanitize(n,c.Z[o])}})}}])&&u(t.prototype,n),y}(r.Component);d.defaultProps={classes:{}}},77153:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(67294),o=n(29525);function i(e){var t=e.classes,n=e.className,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["classes","className"]),a=[n,t.shadowScrollDialog].join(" ");return r.createElement(o.Z,Object.assign({className:a},i))}i.defaultProps={className:""}},65998:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(67294);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,e);var t,n,l,u,s=(l=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(l);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).scrollToRef=r.createRef(),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.scrollTo&&this.scrollToElement()}},{key:"componentDidUpdate",value:function(e){var t=this.props.scrollTo;t&&e.scrollTo!==t&&this.scrollToElement()}},{key:"containerBoundingRect",value:function(){var e=this.props.containerRef;return e&&e.current&&e.current.domEl?e.current.domEl.getBoundingClientRect():{}}},{key:"scrollToBoundingRect",value:function(){return this.elementToScrollTo()?this.elementToScrollTo().getBoundingClientRect():{}}},{key:"elementToScrollTo",value:function(){return this.scrollToRef&&this.scrollToRef.current?this.scrollToRef.current:null}},{key:"scrollabelContainer",value:function(){var e=this.props.containerRef;return e&&e.current&&e.current.domEl?e.current.domEl.getElementsByClassName("mirador-scrollto-scrollable")[0]:null}},{key:"elementIsVisible",value:function(){var e=this.props.offsetTop;return!(this.scrollToBoundingRect().top<this.containerBoundingRect().top+e||this.scrollToBoundingRect().bottom>this.containerBoundingRect().bottom)}},{key:"scrollToElement",value:function(){var e=this.props,t=e.offsetTop;if(e.scrollTo&&this.elementToScrollTo()&&!this.elementIsVisible()&&this.scrollabelContainer()){var n=this.elementToScrollTo().offsetTop-this.containerBoundingRect().height/2+t;this.scrollabelContainer().scrollTo(0,n)}}},{key:"render",value:function(){var e=this.props,t=e.children;return e.scrollTo?r.createElement("div",{ref:this.scrollToRef},t):t}}])&&o(t.prototype,n),f}(r.Component);l.defaultProps={offsetTop:0}},31610:(e,t,n)=>{"use strict";n.d(t,{B:()=>g});var r=n(67294),o=n(86010),i=n(282),a=n(50998),c=n(95757),l=n(22318),u=n(71267),s=n(46387),f=n(94518),p=n(65998);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(E,e);var t,n,g,w,O=(g=E,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(g);if(w){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function E(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),(t=O.call(this,e)).handleClick=t.handleClick.bind(v(t)),t}return t=E,(n=[{key:"componentDidMount",value:function(){this.props.selected&&this.announceHit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.selected;t&&t!==e.selected&&this.announceHit()}},{key:"handleClick",value:function(){var e=this.props,t=e.annotation,n=e.annotationId,r=e.selectAnnotation;t&&n&&r(n)}},{key:"announceHit",value:function(){var e=this.props,t=e.annotation,n=e.annotationLabel,r=e.announcer,o=e.canvasLabel,i=e.hit,a=e.index,c=e.t,l=e.total;if(i){var u=new f.Z(i,t);r([c("pagination",{current:a+1,total:l}),o,n,u.before,u.match,u.after].join(" "))}}},{key:"render",value:function(){var e,t=this.props,n=t.adjacent,h=t.annotation,y=t.annotationLabel,m=t.canvasLabel,v=t.classes,b=t.companionWindowId,g=t.containerRef,w=t.hit,O=t.focused,E=t.index,k=t.showDetails,P=t.selected,j=t.t,C=t.windowSelected;if(O&&!P)return null;var _=O?w:w&&new f.Z(w,h),S=w&&_.before!==w.before&&_.after!==w.after,R="".concat(b,"-").concat(E);return r.createElement(p.h,{containerRef:g,offsetTop:96,scrollTo:C&&!O},r.createElement(a.Z,{className:(0,o.Z)(v.listItem,(e={},d(e,v.adjacent,n),d(e,v.selected,P),d(e,v.focused,O),d(e,v.windowSelected,C),e)),button:!P,component:"li",onClick:this.handleClick,selected:P},r.createElement(c.Z,{primaryTypographyProps:{variant:"body1"}},r.createElement(l.Z,{variant:"subtitle2",className:v.subtitle},r.createElement(u.Z,{component:"span",label:E+1,className:v.hitCounter}),r.createElement("span",{id:R},m)),y&&r.createElement(l.Z,{variant:"subtitle2"},y),w&&r.createElement(r.Fragment,null,r.createElement(s.Z,{ruleSet:"iiif",htmlString:_.before})," ",r.createElement("strong",null,r.createElement(s.Z,{ruleSet:"iiif",htmlString:_.match}))," ",r.createElement(s.Z,{ruleSet:"iiif",htmlString:_.after})," ",S&&!O&&r.createElement(i.Z,{className:v.inlineButton,onClick:k,color:"secondary",size:"small","aria-describedby":R},j("more"))),!w&&h&&r.createElement(s.Z,{ruleSet:"iiif",htmlString:h.chars}))))}}])&&h(t.prototype,n),E}(r.Component);g.defaultProps={adjacent:!1,annotation:void 0,annotationId:void 0,annotationLabel:void 0,canvasLabel:void 0,classes:{},companionWindowId:void 0,containerRef:void 0,focused:!1,hit:void 0,index:void 0,selectAnnotation:function(){},selected:!1,showDetails:function(){},t:function(e){return e},total:void 0,windowSelected:!1}},14091:(e,t,n)=>{"use strict";n.d(t,{E:()=>h});var r=n(67294),o=n(282),i=n(71267),a=n(22318),c=n(269),l=n(66998),u=n(26537);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(v,e);var t,n,h,y,m=(h=v,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(h);if(y){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=m.call(this,e)).containerRef=r.createRef(),t}return t=v,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.fetchSearch,s=e.windowId,f=e.id,p=e.query,d=e.removeSearch,h=e.searchService,y=e.suggestedSearches,m=e.t;return r.createElement(c.Z,{ariaLabel:m("searchTitle"),title:r.createElement(r.Fragment,null,m("searchTitle"),p&&""!==p&&r.createElement(i.Z,{className:t.clearChip,color:"secondary",label:m("clearSearch"),onClick:d,onDelete:d,size:"small",variant:"outlined"})),windowId:s,id:f,titleControls:r.createElement(l.Z,{companionWindowId:f,windowId:s}),ref:this.containerRef},r.createElement(u.Z,{containerRef:this.containerRef,companionWindowId:f,windowId:s}),n&&y&&""===p&&y.map((function(e){return r.createElement(a.Z,{component:"p",key:e,variant:"body1"},r.createElement(o.Z,{className:t.inlineButton,color:"secondary",onClick:function(){return n("".concat(h.id,"?q=").concat(e),e)}},m("suggestSearch",{query:e})))})))}}])&&s(t.prototype,n),v}(r.Component);h.defaultProps={classes:{},fetchSearch:void 0,query:"",suggestedSearches:[],t:function(e){return e}}},36513:(e,t,n)=>{"use strict";n.d(t,{p:()=>j});var r=n(67294),o=n(53816),i=n.n(o),a=n(23279),c=n.n(a),l=n(13218),u=n.n(l),s=n(96588),f=n(95477),p=n(7784),d=n(75421),h=n(82396),y=n(13282);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function O(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var P=function(e){return u()(e)?e.match:e},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(u,e);var t,n,o,a,l=(o=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(o);if(a){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).state={search:e.query,suggestions:[]},t.handleChange=t.handleChange.bind(E(t)),t.submitSearch=t.submitSearch.bind(E(t)),t.getSuggestions=t.getSuggestions.bind(E(t)),t.selectItem=t.selectItem.bind(E(t)),t.fetchAutocomplete=c()(t.fetchAutocomplete.bind(E(t)),500),t.receiveAutocomplete=t.receiveAutocomplete.bind(E(t)),t}return t=u,n=[{key:"componentDidUpdate",value:function(e){var t=this.props.query;t!==e.query&&this.setState({search:t})}},{key:"handleChange",value:function(e,t,n){("reset"!==n||t)&&(this.setState({search:t,suggestions:[]}),t&&this.fetchAutocomplete(t))}},{key:"getSuggestions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.showEmpty,r=void 0!==n&&n,o=this.state.suggestions,a=i()(e.trim()).toLowerCase(),c=a.length;return 0!==c||r?o:[]}},{key:"fetchAutocomplete",value:function(e){var t=this.props.autocompleteService;t&&e&&fetch("".concat(t.id,"?q=").concat(e)).then((function(e){return e.json()})).then(this.receiveAutocomplete)}},{key:"receiveAutocomplete",value:function(e){this.setState({suggestions:e.terms})}},{key:"submitSearch",value:function(e){var t=this.props,n=t.companionWindowId,r=t.fetchSearch,o=t.searchService,i=t.windowId,a=this.state.search;e&&e.preventDefault(),a&&r(i,n,"".concat(o.id,"?q=").concat(a),a)}},{key:"selectItem",value:function(e,t,n){t&&P(t)&&this.setState({search:P(t)},this.submitSearch)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.companionWindowId,o=e.searchIsFetching,a=e.t,c=e.windowId,l=this.state,u=l.search,m=l.suggestions,b="search-".concat(n);return r.createElement(r.Fragment,null,r.createElement("form",{onSubmit:this.submitSearch,className:t.form},r.createElement(s.ZP,{id:b,inputValue:u,options:m,getOptionLabel:P,getOptionSelected:function(e,t){return i()(P(e).trim()).toLowerCase()===i()(P(t).trim()).toLowerCase()},noOptionsText:"",onChange:this.selectItem,onInputChange:this.handleChange,freeSolo:!0,renderInput:function(e){return r.createElement(p.Z,Object.assign({},e,{label:a("searchInputLabel"),InputProps:v(v({},e.InputProps),{},{endAdornment:r.createElement("div",{className:t.endAdornment},r.createElement(h.Z,{"aria-label":a("searchSubmitAria"),type:"submit"},r.createElement(d.Z,null)),Boolean(o)&&r.createElement(f.Z,{className:t.searchProgress,size:50}))})}))}})),r.createElement(y.Z,{windowId:c,companionWindowId:n}))}}],n&&g(t.prototype,n),u}(r.Component);j.defaultProps={autocompleteService:void 0,classes:{},query:"",t:function(e){return e}}},68780:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});var r=n(67294),o=n(80589),i=n(2814),a=n(22318),c=n(82396);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(){return l(this,m),y.apply(this,arguments)}return t=m,(n=[{key:"nextSearchResult",value:function(e){var t=this.props,n=t.searchHits;(0,t.selectAnnotation)(n[e+1].annotations[0])}},{key:"previousSearchResult",value:function(e){var t=this.props,n=t.searchHits;(0,t.selectAnnotation)(n[e-1].annotations[0])}},{key:"hasNextResult",value:function(e){var t=this.props.searchHits;return 0!==t.length&&e<t.length-1}},{key:"hasPreviousResult",value:function(e){return 0!==this.props.searchHits.length&&e>0}},{key:"render",value:function(){var e=this,t=this.props,n=t.numTotal,l=t.searchHits,u=t.selectedContentSearchAnnotation,s=t.classes,f=t.t,p="rtl"===t.direction?{transform:"rotate(180deg)"}:{},d=l.findIndex((function(e){return e.annotations.includes(u[0])})),h=l.length;return l.length<n&&(h+="+"),r.createElement(r.Fragment,null,l.length>0&&r.createElement(a.Z,{variant:"body2",align:"center",classes:s},r.createElement(c.Z,{"aria-label":f("searchPreviousResult"),disabled:!this.hasPreviousResult(d),onClick:function(){return e.previousSearchResult(d)}},r.createElement(o.Z,{style:p})),r.createElement("span",{style:{unicodeBidi:"plaintext"}},f("pagination",{current:d+1,total:h})),r.createElement(c.Z,{"aria-label":f("searchNextResult"),disabled:!this.hasNextResult(d),onClick:function(){return e.nextSearchResult(d)}},r.createElement(i.Z,{style:p}))))}}])&&u(t.prototype,n),m}(r.Component);d.defaultProps={classes:{},numTotal:void 0,searchHits:[],t:function(e){return e}}},72619:(e,t,n)=>{"use strict";n.d(t,{s:()=>m});var r=n(67294),o=n(282),i=n(62822),a=n(22318),c=n(1753),l=n(86746),u=n(83523),s=n(65998);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(g,e);var t,n,m,v,b=(m=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(m);if(v){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=b.call(this,e)).state={focused:!1},t.toggleFocus=t.toggleFocus.bind(h(t)),t}return t=g,(n=[{key:"toggleFocus",value:function(){var e=this.state.focused;this.setState({focused:!e})}},{key:"renderSearchHitsAndAnnotations",value:function(e){var t=this,n=this.props,o=n.companionWindowId,i=n.containerRef,a=n.searchAnnotations,c=n.searchHits,l=n.windowId,s=this.state.focused;return 0===c.length&&a.length>0?a.map((function(n,c){return r.createElement(u.Z,{announcer:e,annotationId:n.id,companionWindowId:o,containerRef:i,key:n.id,focused:s,index:c,total:a.length,windowId:l,showDetails:t.toggleFocus})})):c.map((function(n,a){return r.createElement(u.Z,{announcer:e,containerRef:i,companionWindowId:o,key:n.annotations[0],focused:s,hit:n,index:a,total:c.length,windowId:l,showDetails:t.toggleFocus})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,u=t.companionWindowId,f=t.containerRef,p=t.isFetching,d=t.fetchSearch,h=t.nextSearch,y=t.query,m=t.searchAnnotations,v=t.searchHits,b=t.searchNumTotal,g=t.t,w=t.windowId,O=this.state.focused,E=y&&!p&&0===v.length&&0===m.length;return r.createElement(r.Fragment,null,O&&r.createElement(s.h,{containerRef:f,offsetTop:96,scrollTo:!0},r.createElement(o.Z,{onClick:this.toggleFocus,className:n.navigation,size:"small"},r.createElement(c.Z,null),g("backToResults"))),E&&r.createElement(a.Z,{className:n.noResults},g("searchNoResults")),r.createElement(i.Z,{disablePadding:!0},r.createElement(l.TJ,null,(function(t){var n=t.announcePolite;return e.renderSearchHitsAndAnnotations(n)}))),h&&r.createElement(o.Z,{className:n.moreButton,color:"secondary",onClick:function(){return d(w,u,h,y)}},g("moreResults"),r.createElement("br",null),"(".concat(g("searchResultsRemaining",{numLeft:b-v.length}),")")))}}])&&f(t.prototype,n),g}(r.Component);m.defaultProps={classes:{},containerRef:void 0,isFetching:!1,nextSearch:void 0,query:void 0,searchAnnotations:[],searchHits:[],searchNumTotal:void 0,t:function(e){return e}}},85528:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var r=n(67294),o=n(282),i=n(41749),a=n(22318),c=n(74693);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).openCollectionDialog=t.openCollectionDialog.bind(f(t)),t}return t=m,(n=[{key:"openCollectionDialog",value:function(){var e=this.props,t=e.collectionPath,n=e.manifestId,r=e.showCollectionDialog,o=e.windowId;r(n,t.slice(0,-1),o)}},{key:"render",value:function(){var e=this.props.t;return r.createElement(i.Z,{container:!0,justify:"center",alignItems:"center"},r.createElement(i.Z,{container:!0,direction:"column",alignItems:"center"},r.createElement(a.Z,{variant:"h4",paragraph:!0},r.createElement("em",null,e("noItemSelected"))),r.createElement(o.Z,{color:"primary",variant:"contained",onClick:this.openCollectionDialog,startIcon:r.createElement(c.Z,null)},e("showCollection"))))}}])&&l(t.prototype,n),m}(r.Component);d.defaultProps={collectionPath:[],manifestId:null,t:function(){},windowId:null}},43886:(e,t,n)=>{"use strict";n.d(t,{d:()=>p});var r=n(67294),o=n(22318),i=n(94184),a=n.n(i);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,i,p,d=(i=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(i);if(p){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function h(){return c(this,h),d.apply(this,arguments)}return t=h,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.label;return r.createElement(r.Fragment,null,r.createElement(o.Z,{className:a()(t.label),variant:"body1"},n))}}])&&l(t.prototype,n),h}(r.Component)},86864:(e,t,n)=>{"use strict";n.d(t,{P:()=>y});var r=n(67294),o=n(29829),i=n(85639),a=n(65998),c=n(11553),l=n(60128),u=n(20080);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,e);var t,n,y,m,v=(y=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(y);if(m){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function b(){return s(this,b),v.apply(this,arguments)}return t=b,(n=[{key:"getIdAndLabelOfCanvases",value:function(){return this.props.canvases.map((function(e,t){return{id:e.id,label:new c.Z(e).getLabel()}}))}},{key:"render",value:function(){var e,t=this.props,n=t.canvases,c=t.classes,s=t.containerRef,f=t.selectedCanvasIds,p=t.setCanvas,d=t.variant,h=t.windowId,y=this.getIdAndLabelOfCanvases(n);return e="thumbnail"===d?u.Z:l.Z,r.createElement(o.Z,{variant:"selectedMenu"},y.map((function(t,o){return r.createElement(a.h,{containerRef:s,key:"".concat(t.id,"-").concat(d),offsetTop:96,scrollTo:f.includes(t.id)},r.createElement(i.Z,{key:t.id,className:c.listItem,alignItems:"flex-start",onClick:function(){p(h,t.id)},button:!0,component:"li",selected:f.includes(t.id)},r.createElement(e,{label:t.label,canvas:n[o]})))})))}}])&&f(t.prototype,n),b}(r.Component);y.defaultProps={selectedCanvasIds:[],variant:"item"}},61341:(e,t,n)=>{"use strict";n.d(t,{n:()=>y});var r=n(67294),o=n(95425),i=n(64566),a=n(66735),c=n(65207),l=n(86010),u=n(65998);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,e);var t,n,y,m,v=(y=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(y);if(m){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function b(){return s(this,b),v.apply(this,arguments)}return t=b,(n=[{key:"handleKeyPressed",value:function(e,t){var n=this.props,r=n.expandedNodeIds,o=n.toggleNode;"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||this.selectTreeItem(t),("ArrowLeft"===e.key&&-1!==r.indexOf(t.id)||"ArrowRight"===e.key&&-1===r.indexOf(t.id)&&t.nodes.length>0)&&o(t.id)}},{key:"selectTreeItem",value:function(e){var t=this.props,n=t.setCanvas,r=t.toggleNode,o=t.windowId;if(e.nodes.length>0&&r(e.id),e.data.getCanvasIds()&&0!==e.data.getCanvasIds().length&&!(e.nodes.length>0)){var i=function(e){var t=e.data.__jsonld;if(t.startCanvas&&"string"==typeof t.startCanvas)return t.startCanvas;if(t.start){if("Canvas"===t.start.type&&"string"==typeof t.start.id)return t.start.id;if("SpecificResource"===t.start.type&&"string"==typeof t.start.source)return t.start.source}return e.data.getCanvasIds()[0]}(e);n(o,-1===i.indexOf("#")?i:i.substr(0,i.indexOf("#")))}}},{key:"buildTreeItems",value:function(e,t,n,o){var i=this,a=this.props.classes;return e?e.map((function(e){return r.createElement(u.h,{containerRef:n,key:"".concat(e.id,"-scroll"),offsetTop:96,scrollTo:o===e.id},r.createElement(c.Z,{key:e.id,nodeId:e.id,classes:{content:a.content,group:a.group,label:a.label,root:a.treeItemRoot,selected:a.selected},label:r.createElement("div",{className:(0,l.Z)((s={},f=a.visibleNode,p=-1!==t.indexOf(e.id),f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s))},e.label),onClick:function(){return i.selectTreeItem(e)},onKeyDown:function(t){return i.handleKeyPressed(t,e)}},e.nodes&&e.nodes.length>0?i.buildTreeItems(e.nodes,t,n,o):null));var s,f,p})):null}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.treeStructure,c=e.visibleNodeIds,l=e.expandedNodeIds,u=e.containerRef,s=e.nodeIdToScrollTo;return n?r.createElement(r.Fragment,null,r.createElement(o.Z,{className:t.root,defaultCollapseIcon:r.createElement(i.Z,{color:"action"}),defaultExpandIcon:r.createElement(a.Z,{color:"action"}),defaultEndIcon:r.createElement(r.Fragment,null),expanded:l},this.buildTreeItems(n.nodes,c,u,s))):r.createElement(r.Fragment,null)}}])&&f(t.prototype,n),b}(r.Component)},3554:(e,t,n)=>{"use strict";n.d(t,{m:()=>d});var r=n(67294),o=n(22318),i=n(94184),a=n.n(i),c=n(21229);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(y,e);var t,n,i,d,h=(i=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(i);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function y(){return l(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.canvas,i=e.height,l=e.label,u=e.width;return r.createElement(r.Fragment,null,r.createElement("div",{style:{minWidth:50}},r.createElement(c.Z,{label:l,resource:n,className:a()(t.clickable),maxHeight:i,maxWidth:u})),r.createElement(o.Z,{className:a()(t.label),variant:"body1"},l))}}])&&u(t.prototype,n),y}(r.Component);d.defaultProps={height:void 0,width:void 0}},50144:(e,t,n)=>{"use strict";n.d(t,{u:()=>m});var r=n(67294),o=n(94184),i=n.n(o),a=n(21229),c=n(79686);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(v,e);var t,n,o,l,m=(o=v,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(o);if(l){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=m.call(this,e)).setCanvas=t.setCanvas.bind(h(t)),t}return t=v,(n=[{key:"setCanvas",value:function(e){(0,this.props.setCanvas)(e.currentTarget.dataset.canvasId)}},{key:"currentCanvasClass",value:function(e){var t=this.props.index;return e.includes(t)?"current-canvas-grouping":""}},{key:"render",value:function(){var e=this.props,t=e.index,n=e.style,o=e.data,l=e.classes,f=e.currentCanvasId,p=o.canvasGroupings,d=o.position,h=o.height,y=p[t];return r.createElement("div",{style:u(u({},n),{},{boxSizing:"content-box",height:Number.isInteger(n.height)?n.height-8:null,left:Number.isInteger(n.left)?n.left+8:null,top:n.top+8,width:Number.isInteger(n.width)?n.width-8:null}),className:(0,c.Z)("thumbnail-nav-container"),role:"gridcell","aria-colindex":t+1},r.createElement("div",{role:"button","data-canvas-id":y[0].id,"data-canvas-index":y[0].index,onClick:this.setCanvas,tabIndex:-1,style:{height:"far-right"===d?"auto":"".concat(h-8,"px"),width:"far-bottom"===d?"auto":"".concat(n.width,"px")},className:i()((0,c.Z)(["thumbnail-nav-canvas","thumbnail-nav-canvas-".concat(t),this.currentCanvasClass(y.map((function(e){return e.index})))]),l.canvas,s({},l.currentCanvas,y.map((function(e){return e.id})).includes(f)))},y.map((function(e,t){return r.createElement(a.Z,{key:e.id,resource:e,labelled:!0,maxHeight:"far-right"===d?n.height-12:h-12,variant:"inside"})}))))}}])&&f(t.prototype,n),v}(r.PureComponent)},38090:(e,t,n)=>{"use strict";n.d(t,{j:()=>v});var r=n(67294),o=n(79895),i=n(11728),a=n(74061),c=n(94184),l=n.n(c),u=n(36248),s=n(21320),f=n(79686);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(g,e);var t,n,c,v,b=(c=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(c);if(v){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=b.call(this,e)).scrollbarSize=15,t.spacing=8,t.calculateScaledSize=t.calculateScaledSize.bind(y(t)),t.itemCount=t.itemCount.bind(y(t)),t.gridRef=r.createRef(),t}return t=g,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasIndex,r=t.position,o=t.view;if(e.view!==o&&"off"!==r&&this.gridRef.current.resetAfterIndex(0),e.canvasIndex!==n){var i=n;"book"===o&&(i=Math.ceil(i/2)),this.gridRef.current.scrollToItem(i,"center")}}},{key:"calculateScaledSize",value:function(e){var t=this.props,n=t.thumbnailNavigation,r=t.canvasGroupings,o=t.position,i=r[e]||[],a=new u.Z(i).worldBounds();if("far-right"===o){var c=Math.floor(this.calculatingWidth(i.length)*a[3]/a[2]);return Number.isInteger(c)?c+this.spacing:n.width+this.spacing}return 0===a[3]?n.width+this.spacing:Math.ceil((n.height-this.scrollbarSize-this.spacing-4)*a[2]/a[3])}},{key:"calculatingWidth",value:function(e){var t=this.props.thumbnailNavigation;return 1===e?t.width:2*t.width}},{key:"rightWidth",value:function(){var e=this.props,t=e.view,n=e.thumbnailNavigation;return"book"===t?2*n.width:n.width}},{key:"style",value:function(){var e=this.props,t=e.position,n=e.thumbnailNavigation;return"far-right"===t?{height:"100%",minHeight:0,width:"".concat(this.rightWidth()+this.scrollbarSize+this.spacing,"px")}:{height:"".concat(n.height,"px"),width:"100%"}}},{key:"areaHeight",value:function(e){var t=this.props,n=t.position,r=t.thumbnailNavigation;return"far-right"===n?e:r.height}},{key:"itemCount",value:function(){return this.props.canvasGroupings.length}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,c=t.canvasGroupings,u=t.classes,p=t.position,d=t.thumbnailNavigation,h=t.viewingDirection,y=t.windowId;if("off"===p)return r.createElement(r.Fragment,null);var m="right-to-left"===h?"rtl":"ltr",v={canvasGroupings:c,height:d.height-this.spacing-this.scrollbarSize,position:p,windowId:y};return r.createElement(o.Z,{className:l()((0,f.Z)("thumb-navigation"),u.thumbNavigation),"aria-label":n("thumbnailNavigation"),square:!0,elevation:0,style:this.style(),tabIndex:0,role:"grid"},r.createElement("div",{role:"row",style:{height:"100%",width:"100%"}},r.createElement(i.Z,{defaultHeight:100,defaultWidth:400},(function(t){var n=t.height,o=t.width;return r.createElement(a.S_,{direction:m,height:e.areaHeight(n),itemCount:e.itemCount(),itemSize:e.calculateScaledSize,width:o,layout:"far-bottom"===p?"horizontal":"vertical",itemData:v,ref:e.gridRef},s.Z)}))))}}])&&p(t.prototype,n),g}(r.Component);v.defaultProps={view:void 0,viewingDirection:""}},72718:(e,t,n)=>{"use strict";n.d(t,{R:()=>u});var r=n(67294);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,n,u,s,f=(u=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(u);if(s){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function p(){return o(this,p),f.apply(this,arguments)}return t=p,(n=[{key:"render",value:function(){var e=this.props,t=e.captions,n=e.classes,o=e.videoOptions,i=e.videoResources;return r.createElement("div",{className:n.container},r.createElement("video",Object.assign({className:n.video},o),i.map((function(e){return r.createElement(r.Fragment,{key:e.id},r.createElement("source",{src:e.id,type:e.getFormat()}))})),t.map((function(e){return r.createElement(r.Fragment,{key:e.id},r.createElement("track",{src:e.id,label:e.getDefaultLabel(),srcLang:e.getProperty("language")}))}))))}}])&&i(t.prototype,n),p}(r.Component);u.defaultProps={captions:[],videoOptions:{},videoResources:[]}},71043:(e,t,n)=>{"use strict";n.d(t,{D:()=>d});var r=n(67294),o=n(22318),i=n(94184),a=n.n(i),c=n(79686);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(y,e);var t,n,i,d,h=(i=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(i);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function y(){return l(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.canvasCount,n=e.canvasIndex,i=e.canvasLabel,l=e.classes,u=e.t;return r.createElement("div",{className:a()((0,c.Z)("osd-info"),l.osdInfo)},r.createElement(o.Z,{display:"inline",variant:"caption",className:(0,c.Z)("canvas-count")},u("pagination",{current:n+1,total:t})),r.createElement(o.Z,{display:"inline",variant:"caption",className:(0,c.Z)("canvas-label")},i&&" • ".concat(i)))}}])&&u(t.prototype,n),y}(r.Component);d.defaultProps={canvasLabel:void 0,t:function(){}}},35286:(e,t,n)=>{"use strict";n.d(t,{L:()=>h});var r=n(67294),o=n(99049),i=n(94184),a=n.n(i),c=n(82396),l=n(79686);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(m,e);var t,n,i,h,y=(i=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(i);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function m(){return u(this,m),y.apply(this,arguments)}return t=m,(n=[{key:"render",value:function(){var e=this.props,t=e.hasNextCanvas,n=e.hasPreviousCanvas,i=e.setNextCanvas,u=e.setPreviousCanvas,s=e.t,f=e.classes,p="ltr",d={},h={};switch(e.viewingDirection){case"top-to-bottom":d={transform:"rotate(270deg)"},h={transform:"rotate(90deg)"};break;case"bottom-to-top":d={transform:"rotate(90deg)"},h={transform:"rotate(270deg)"};break;case"right-to-left":p="rtl",d={},h={transform:"rotate(180deg)"};break;default:d={transform:"rotate(180deg)"},h={}}return r.createElement("div",{className:a()((0,l.Z)("osd-navigation"),f.osdNavigation),dir:p},r.createElement(c.Z,{"aria-label":s("previousCanvas"),className:(0,l.Z)("previous-canvas-button"),disabled:!n,onClick:function(){n&&u()}},r.createElement(o.Z,{style:d})),r.createElement(c.Z,{"aria-label":s("nextCanvas"),className:(0,l.Z)("next-canvas-button"),disabled:!t,onClick:function(){t&&i()}},r.createElement(o.Z,{style:h})))}}])&&s(t.prototype,n),m}(r.Component);h.defaultProps={hasNextCanvas:!1,hasPreviousCanvas:!1,setNextCanvas:function(){},setPreviousCanvas:function(){},viewingDirection:""}},69979:(e,t,n)=>{"use strict";n.d(t,{R:()=>w});var r=n(67294),o=n(94184),i=n.n(o),a=n(79895),c=n(49801),l=n(79686),u=n(35576),s=n(71809),f=n(46424),p=n(25185),d=n(31229),h=n(67497),y=n(28819);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(E,e);var t,n,o,c,w,O=(c=E,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(c);if(w){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function E(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),(t=O.call(this,e)).state={},t}return t=E,o=[{key:"getDerivedStateFromError",value:function(e){return{error:e,hasError:!0}}}],(n=[{key:"wrappedTopBar",value:function(){var e=this.props,t=e.windowId,n=e.workspaceType,o=e.windowDraggable,i=r.createElement("div",null,r.createElement(u.Z,{windowId:t,windowDraggable:o}),r.createElement(h.Z,{windowId:t}));return"mosaic"===n&&o?this.context.mosaicWindowActions.connectDragSource(i):i}},{key:"render",value:function(){var e=this.props,t=e.focusWindow,n=e.label,o=e.isFetching,c=e.maximized,u=e.sideBarOpen,h=e.view,m=e.windowId,v=e.classes,b=e.t,g=e.manifestError,w=this.state,O=w.error;return w.hasError?r.createElement(p.Z,{windowId:m},r.createElement(d.Z,{error:O,windowId:m})):r.createElement(a.Z,{onFocus:t,component:"section",elevation:1,id:m,className:i()(v.window,(0,l.Z)("window"),c?v.maximized:null),"aria-label":b("window",{label:n})},this.wrappedTopBar(),g&&r.createElement(d.Z,{error:{stack:g},windowId:m}),r.createElement("div",{className:v.middle},r.createElement("div",{className:v.middleLeft},r.createElement("div",{className:v.primaryWindow},r.createElement(s.Z,{view:h,windowId:m,isFetching:o,sideBarOpen:u})),r.createElement("div",{className:v.companionAreaBottom},r.createElement(f.Z,{windowId:m,position:"bottom"}))),r.createElement("div",{className:v.companionAreaRight},r.createElement(f.Z,{windowId:m,position:"right"}),r.createElement(f.Z,{windowId:m,position:"far-right"}))),r.createElement(f.Z,{windowId:m,position:"far-bottom"}),r.createElement(y.M,this.props))}}])&&m(t.prototype,n),o&&m(t,o),E}(r.Component);w.contextType=c.MosaicWindowContext,w.defaultProps={classes:{},focusWindow:function(){},isFetching:!1,label:null,manifestError:null,maximized:!1,sideBarOpen:!1,view:void 0,windowDraggable:null,workspaceType:null}},29616:(e,t,n)=>{"use strict";n.d(t,{c:()=>w});var r=n(67294),o=n(282),i=n(79895),a=n(66037),c=n(66856),l=n(22318),u=n(68963),s=n(46387),f=n(28819);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(O,e);var t,n,p,h,w=(p=O,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(p);if(h){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function O(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),(t=w.call(this,e)).state={open:!1},t.setOpen=t.setOpen.bind(b(t)),t.onSubmit=t.onSubmit.bind(b(t)),t}return t=O,(n=[{key:"onSubmit",value:function(){var e=this.props.onConfirm;this.setOpen(!1),e()}},{key:"setOpen",value:function(e){this.setState((function(t){return d(d({},t),{},{open:e})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,p=t.confirmButton,d=t.continueLabel,h=t.header,y=t.description,m=t.icon,v=t.label,b=t.t,g=t.ruleSet,w=t.hasLogoutService,O=t.status,E=t.ConfirmProps;if("ok"===O&&!w)return null;var k=this.state.open,P=r.createElement(o.Z,Object.assign({onClick:this.onSubmit,className:n.buttonInvert,color:"secondary"},E),p||b("login"));return y||h?r.createElement(i.Z,{square:!0,elevation:4,color:"secondary",classes:{root:n.paper}},r.createElement(o.Z,{fullWidth:!0,className:n.topBar,onClick:function(){return e.setOpen(!0)},component:"div",color:"inherit"},m||r.createElement(u.Z,{className:n.icon}),r.createElement(l.Z,{className:n.label,component:"h3",variant:"body1",color:"inherit"},g?r.createElement(s.Z,{htmlString:v,ruleSet:g}):v),r.createElement(f.M,this.props),r.createElement("span",{className:n.fauxButton},!k&&r.createElement(l.Z,{variant:"button",color:"inherit"},d||b("continue")))),r.createElement(a.Z,{in:k,onClose:function(){return e.setOpen(!1)}},r.createElement(l.Z,{variant:"body1",color:"inherit",className:n.expanded},g?r.createElement(s.Z,{htmlString:h,ruleSet:g}):h,h&&y?": ":"",g?r.createElement(s.Z,{htmlString:y,ruleSet:g}):y),r.createElement(c.Z,null,r.createElement(o.Z,{onClick:function(){return e.setOpen(!1)},color:"inherit"},b("cancel")),P))):r.createElement(i.Z,{square:!0,elevation:4,color:"secondary",classes:{root:n.paper}},r.createElement("div",{className:n.topBar},m||r.createElement(u.Z,{className:n.icon}),r.createElement(l.Z,{className:n.label,component:"h3",variant:"body1",color:"inherit"},g?r.createElement(s.Z,{htmlString:v,ruleSet:g}):v),r.createElement(f.M,this.props),P))}}])&&y(t.prototype,n),O}(r.Component);w.defaultProps={confirmButton:void 0,ConfirmProps:{},continueLabel:void 0,description:void 0,hasLogoutService:!0,header:void 0,icon:void 0,ruleSet:"iiif",status:void 0,t:function(e){return e}}},82799:(e,t,n)=>{"use strict";n.d(t,{g:()=>b});var r=n(67294),o=n(94184),i=n.n(o),a=n(79895),c=n(22318),l=n(98046),u=n(33968),s=n(85597),f=n(79686),p=n(28819);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(w,e);var t,n,o,b,g=(o=w,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(b){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function w(){return d(this,w),g.apply(this,arguments)}return t=w,(n=[{key:"canvasNavControlsAreStacked",value:function(){var e=this.props.size;return e&&e.width&&e.width<=253}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.visible,d=t.windowId,h=t.zoomToWorld;return o?r.createElement(a.Z,{square:!0,className:i()(n.controls,(0,f.Z)("canvas-nav"),n.canvasNav,this.canvasNavControlsAreStacked()?(0,f.Z)("canvas-nav-stacked"):null,this.canvasNavControlsAreStacked()?n.canvasNavStacked:null),elevation:0,onKeyUp:function(t){var n=e.props,r=n.hasPreviousCanvas,o=n.setPreviousCanvas,i=n.hasNextCanvas,a=n.setNextCanvas,c=n.viewingDirection;("left-to-right"===c&&"ArrowLeft"===t.key||"right-to-left"===c&&"ArrowRight"===t.key||!c&&"ArrowRight"===t.key)&&r&&o(),("left-to-right"===c&&"ArrowRight"===t.key||"right-to-left"===c&&"ArrowLeft"===t.key||!c&&"ArrowLeft"===t.key)&&i&&a()}},r.createElement(l.Z,{displayDivider:!this.canvasNavControlsAreStacked(),windowId:d,zoomToWorld:h}),r.createElement(s.Z,{windowId:d}),r.createElement(u.Z,{windowId:d}),r.createElement(p.M,this.props)):r.createElement(c.Z,{variant:"srOnly",component:"div"},r.createElement(u.Z,{windowId:d}))}}])&&h(t.prototype,n),w}(r.Component);b.defaultProps={classes:{},hasNextCanvas:!1,hasPreviousCanvas:!1,setNextCanvas:function(){},setPreviousCanvas:function(){},viewingDirection:"",visible:!0}},30089:(e,t,n)=>{"use strict";n.d(t,{y:()=>h});var r=n(67294),o=n(99050),i=n(85639),a=n(95757),c=n(96837),l=n(79686);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(b,e);var t,n,h,y,m,v=(y=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(y);if(m){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function b(){return u(this,b),v.apply(this,arguments)}return t=b,h=[{key:"focus2ndListIitem",value:function(e){!e.querySelectorAll("li")||e.querySelectorAll("li").length<2||e.querySelectorAll("li")[1].focus()}}],(n=[{key:"titleContent",value:function(e){var t=this.props,n=t.titles,r=t.t;return n[e]||r("untitled")}},{key:"render",value:function(){var e=this,t=this.props,n=t.containerId,u=t.handleClose,s=t.anchorEl,f=t.windowIds,p=t.focusWindow,d=t.t;return r.createElement(o.Z,{anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},id:"window-list-menu",container:document.querySelector("#".concat(n," .").concat((0,l.Z)("viewer"))),disableAutoFocusItem:!0,anchorEl:s,open:Boolean(s),onClose:u,onEntering:b.focus2ndListIitem},r.createElement(c.Z,{role:"presentation",selected:!1,disabled:!0,tabIndex:"-1"},d("openWindows")),f.map((function(t,n){return r.createElement(i.Z,{key:t,onClick:function(e){p(t,!0),u(e)}},r.createElement(a.Z,{primaryTypographyProps:{variant:"body1"}},e.titleContent(t)))})))}}])&&s(t.prototype,n),h&&s(t,h),b}(r.Component);h.defaultProps={anchorEl:null,t:function(e){return e},titles:{}}},62037:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var r=n(67294),o=n(422),i=n(94184),a=n.n(i),c=n(32254),l=n(82396);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,i,h,y=(i=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(i);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).state={windowListAnchor:null},t.handleClose=t.handleClose.bind(p(t)),t.handleOpen=t.handleOpen.bind(p(t)),t}return t=m,(n=[{key:"handleClose",value:function(){this.setState({windowListAnchor:null})}},{key:"handleOpen",value:function(e){this.setState({windowListAnchor:e.currentTarget})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,i=t.disabled,u=t.t,s=t.windowCount,f=this.state.windowListAnchor;return r.createElement(r.Fragment,null,r.createElement(l.Z,{"aria-haspopup":"true","aria-label":u("listAllOpenWindows"),"aria-owns":f?"window-list":null,className:a()(n.ctrlBtn,f?n.ctrlBtnSelected:null),disabled:i,badge:!0,BadgeProps:{badgeContent:s,classes:{badge:n.badge}},onClick:function(t){return e.handleOpen(t)}},r.createElement(o.Z,null)),Boolean(f)&&r.createElement(c.Z,{anchorEl:f,id:"window-list",open:Boolean(f),handleClose:this.handleClose}))}}])&&u(t.prototype,n),m}(r.Component);h.defaultProps={classes:{},disabled:!1}},8698:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});var r=n(67294),o=n(94184),i=n.n(o),a=n(39636),c=n(68446);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(y,e);var t,n,o,d,h=(o=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(o);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function y(){return l(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.direction,o=e.t,l=e.windowId,u=e.sideBarOpen;return r.createElement(r.Fragment,null,r.createElement(a.ZP,{variant:"persistent",className:i()(t.drawer),classes:{paper:i()(t.paper)},anchor:"rtl"===n?"right":"left",PaperProps:{"aria-label":o("sidebarPanelsNavigation"),component:"nav",style:{height:"100%",position:"relative"}},SlideProps:{direction:"rtl"===n?"left":"right",mountOnEnter:!0,unmountOnExit:!0},open:u},r.createElement(c.Z,{windowId:l})))}}])&&u(t.prototype,n),y}(r.Component);d.defaultProps={sideBarOpen:!1}},4523:(e,t,n)=>{"use strict";n.d(t,{i:()=>d});var r=n(67294),o=n(22318),i=n(24277),a=n(56743),c=n(269),l=n(79686);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).containerRef=r.createRef(),t}return t=m,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.annotationCount,u=t.classes,s=t.canvasIds,f=t.t,p=t.windowId,d=t.id;return r.createElement(c.Z,{title:f("annotations"),paperClassName:(0,l.Z)("window-sidebar-annotation-panel"),windowId:p,id:d,ref:this.containerRef,otherRef:this.containerRef,titleControls:r.createElement(i.Z,{windowId:p})},r.createElement("div",{className:u.section},r.createElement(o.Z,{component:"p",variant:"subtitle2"},f("showingNumAnnotations",{count:n,number:n}))),s.map((function(t,n){return r.createElement(a.Z,{canvasId:t,containerRef:e.containerRef,key:t,index:n,totalSize:s.length,windowId:p})})))}}])&&u(t.prototype,n),m}(r.Component);d.defaultProps={canvasIds:[],t:function(e){return e}}},74279:(e,t,n)=>{"use strict";n.d(t,{X:()=>w});var r=n(67294),o=n(59009),i=n(70065),a=n(41423),c=n(868),l=n(18257),u=n(40480),s=n(28890),f=n(88957),p=n(75421),d=n(62087);function h(e){return r.createElement(d.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M6.924,21H21V19H6.924ZM3,17H21V15H3Zm3.924-4H21V11H6.924Zm0-4H21V7H6.924ZM3,3V5H21V3Z"})))}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(E,e);var t,n,d,w,O=(d=E,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(d);if(w){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function E(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),(t=O.call(this,e)).handleChange=t.handleChange.bind(b(t)),t}return t=E,(n=[{key:"handleChange",value:function(e,t){(0,this.props.addCompanionWindow)(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,d=t.hasAnnotations,y=t.hasAnyAnnotations,m=t.hasAnyLayers,v=t.hasCurrentLayers,b=t.hasSearchResults,g=t.hasSearchService,w=t.panels,O=t.PluginComponents,E=t.sideBarPanel,k=t.t,P=function(t){return r.createElement(c.ZP,{title:k("openCompanionWindow",{context:t.value})},r.createElement(a.Z,Object.assign({},t,{classes:{root:n.tab,selected:n.tabSelected},"aria-label":k("openCompanionWindow",{context:t.value}),disableRipple:!0,onKeyUp:e.handleKeyUp})))};return r.createElement(i.Z,{classes:{flexContainer:n.tabsFlexContainer,indicator:n.tabsIndicator},value:"closed"!==E&&E,onChange:this.handleChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",orientation:"vertical","aria-orientation":"vertical","aria-label":k("sidebarPanelsNavigation")},w.info&&r.createElement(P,{value:"info",icon:r.createElement(l.Z,null)}),w.attribution&&r.createElement(P,{value:"attribution",icon:r.createElement(s.Z,null)}),w.canvas&&r.createElement(P,{value:"canvas",icon:r.createElement(h,null)}),w.annotations&&(d||y)&&r.createElement(P,{value:"annotations",icon:r.createElement(o.Z,{classes:{badge:n.badge},invisible:!d,variant:"dot"},r.createElement(u.Z,null))}),w.search&&g&&r.createElement(P,{value:"search",icon:r.createElement(o.Z,{classes:{badge:n.badge},invisible:!b,variant:"dot"},r.createElement(p.Z,null))}),w.layers&&m&&r.createElement(P,{value:"layers",icon:r.createElement(o.Z,{classes:{badge:n.badge},invisible:!v,variant:"dot"},r.createElement(f.Z,null))}),O&&O.map((function(e){return r.createElement(P,{key:e.value,value:e.value,icon:r.createElement(e,null)})})))}}])&&y(t.prototype,n),E}(r.Component);w.defaultProps={classes:{},hasAnnotations:!1,hasAnyAnnotations:!1,hasAnyLayers:!1,hasCurrentLayers:!1,hasSearchResults:!1,hasSearchService:!1,panels:[],PluginComponents:null,sideBarPanel:"closed",t:function(e){return e}}},86697:(e,t,n)=>{"use strict";n.d(t,{x:()=>P});var r=n(67294),o=n(70065),i=n(41423),a=n(868),c=n(282),l=n(67411),u=n(34113),s=n(19252),f=n(22318),p=n(49024),d=n(64436),h=n(26209),y=n(85639),m=n(269),v=n(94835),b=n(34447);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function O(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(S,e);var t,n,P,j,C,_=(j=S,C=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(j);if(C){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function S(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),(t=_.call(this,e)).handleSequenceChange=t.handleSequenceChange.bind(E(t)),t.handleVariantChange=t.handleVariantChange.bind(E(t)),t.containerRef=r.createRef(),t}return t=S,P=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():e.id}}],(n=[{key:"handleSequenceChange",value:function(e){(0,this.props.updateSequence)(e.target.value)}},{key:"handleVariantChange",value:function(e,t){(0,this.props.updateVariant)(t)}},{key:"render",value:function(){var e,t=this.props,n=t.classes,g=t.collection,w=t.id,O=t.showMultipart,E=t.sequenceId,k=t.sequences,P=t.t,j=t.variant,C=t.showToc,_=t.windowId;return e="tableOfContents"===j?r.createElement(b.Z,{id:w,containerRef:this.containerRef,windowId:_}):r.createElement(v.Z,{id:w,containerRef:this.containerRef,windowId:_}),r.createElement(m.Z,{title:P("canvasIndex"),id:w,windowId:_,ref:this.containerRef,otherRef:this.containerRef,titleControls:r.createElement(r.Fragment,null,k&&k.length>1&&r.createElement(d.Z,null,r.createElement(h.Z,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null},displayEmpty:!0,value:E,onChange:this.handleSequenceChange,name:"sequenceId",classes:{select:n.select},className:n.selectEmpty},k.map((function(e,t){return r.createElement(y.Z,{value:e.id,key:e.id},r.createElement(f.Z,{variant:"body2"},S.getUseableLabel(e,t)))})))),r.createElement("div",{className:n.break}),r.createElement(o.Z,{value:j,onChange:this.handleVariantChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},C&&r.createElement(a.ZP,{title:P("tableOfContentsList"),value:"tableOfContents"},r.createElement(i.Z,{className:n.variantTab,value:"tableOfContents","aria-label":P("tableOfContentsList"),"aria-controls":"tab-panel-".concat(w),icon:r.createElement(u.Z,{style:{transform:"scale(-1, 1)"}})})),r.createElement(a.ZP,{title:P("itemList"),value:"item"},r.createElement(i.Z,{className:n.variantTab,value:"item","aria-label":P("itemList"),"aria-controls":"tab-panel-".concat(w),icon:r.createElement(l.Z,null)})),r.createElement(a.ZP,{title:P("thumbnailList"),value:"thumbnail"},r.createElement(i.Z,{className:n.variantTab,value:"thumbnail","aria-label":P("thumbnailList"),"aria-controls":"tab-panel-".concat(w),icon:r.createElement(s.Z,null)}))))},r.createElement("div",{id:"tab-panel-".concat(w)},g&&r.createElement(c.Z,{fullWidth:!0,onClick:O,endIcon:r.createElement(p.Z,null)},r.createElement(f.Z,{className:n.collectionNavigationButton},S.getUseableLabel(g))),e))}}])&&g(t.prototype,n),P&&g(t,P),S}(r.Component);P.defaultProps={collection:null,sequenceId:null,sequences:[],showToc:!1}},5677:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(67294),o=n(62822),i=n(50998),a=n(46869),c=n(95757),l=n(29829),u=n(85639),s=n(22318),f=n(58365),p=n(992),d=n(269),h=n(21229);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(j,e);var t,n,O,E,k,P=(E=j,k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(E);if(k){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function j(){return m(this,j),P.apply(this,arguments)}return t=j,O=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():e.id}}],(n=[{key:"isMultipart",value:function(){var e=this.props.collection;if(!e)return!1;var t=e.getProperty("behavior");return Array.isArray(t)?t.includes("multi-part"):"multi-part"===t}},{key:"render",value:function(){var e=this.props,t=e.canvasNavigation,n=e.classes,m=e.collectionPath,v=e.collection,b=e.id,g=e.isFetching,w=e.manifestId,O=e.parentCollection,E=e.updateCompanionWindow,k=e.updateWindow,P=e.t,C=e.variant,_=e.windowId,S=function(e){var o=e.manifest,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["manifest"]);return r.createElement(u.Z,Object.assign({className:n.menuItem,alignItems:"flex-start",button:!0,component:"li",selected:w===o.id},i),"thumbnail"===C&&r.createElement(a.Z,null,r.createElement(h.Z,{resource:o,maxHeight:t.height,maxWidth:t.width})),r.createElement(c.Z,null,j.getUseableLabel(o)))};return r.createElement(d.Z,{title:P(this.isMultipart()?"multipartCollection":"collection"),windowId:_,id:b,titleControls:r.createElement(r.Fragment,null,O&&r.createElement(o.Z,null,r.createElement(i.Z,{button:!0,onClick:function(){return E({collectionPath:m.slice(0,-1)})}},r.createElement(a.Z,null,r.createElement(p.Z,null)),r.createElement(c.Z,{primaryTypographyProps:{variant:"body1"}},j.getUseableLabel(O)))),r.createElement(s.Z,{variant:"h6"},v&&j.getUseableLabel(v),g&&r.createElement(f.Z,{className:n.placeholder,variant:"text"})))},r.createElement(l.Z,null,g&&r.createElement(u.Z,null,r.createElement(c.Z,null,r.createElement(f.Z,{className:n.placeholder,variant:"text"}),r.createElement(f.Z,{className:n.placeholder,variant:"text"}),r.createElement(f.Z,{className:n.placeholder,variant:"text"}))),v&&v.getCollections().map((function(e){return r.createElement(S,{key:e.id,onClick:function(){var t;E({collectionPath:[].concat((t=m,function(e){if(Array.isArray(e))return y(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e.id])})},manifest:e})})),v&&v.getManifests().map((function(e){return r.createElement(S,{key:e.id,onClick:function(){k({canvasId:null,collectionPath:m,manifestId:e.id}),E({multipart:!1})},manifest:e})}))))}}])&&v(t.prototype,n),O&&v(t,O),j}(r.Component);O.defaultProps={collection:null,collectionPath:[],error:null,isFetching:!1,parentCollection:null,ready:!1,t:function(e){return e},variant:null}},77054:(e,t,n)=>{"use strict";n.d(t,{p:()=>m});var r=n(67294),o=n(269),i=n(47205),a=n(42576),c=n(47733),l=n(98576),u=n(76223),s=n(79686);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(g,e);var t,n,m,v,b=(m=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(m);if(v){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function g(){return f(this,g),b.apply(this,arguments)}return t=g,(n=[{key:"render",value:function(){var e=this.props,t=e.windowId,n=e.id,f=e.canvasIds,p=e.classes,d=e.collectionPath,h=e.t,y=e.locale,m=e.setLocale,v=e.availableLocales,b=e.showLocalePicker;return r.createElement(o.Z,{title:h("aboutThisItem"),paperClassName:(0,s.Z)("window-sidebar-info-panel"),windowId:t,id:n,titleControls:b&&r.createElement(a.Z,{locale:y,setLocale:m,availableLocales:v})},f.map((function(e,o){return r.createElement("div",{key:e,className:p.section},r.createElement(i.Z,{id:n,canvasId:e,index:o,totalSize:f.length,windowId:t}))})),d.length>0&&r.createElement("div",{className:p.section},r.createElement(l.Z,{id:n,windowId:t})),r.createElement("div",{className:p.section},r.createElement(c.Z,{id:n,windowId:t})),r.createElement("div",{className:p.section},r.createElement(u.Z,{id:n,windowId:t})))}}])&&p(t.prototype,n),g}(r.Component);m.defaultProps={availableLocales:[],canvasIds:[],classes:{},collectionPath:[],locale:"",setLocale:void 0,showLocalePicker:!1,t:function(e){return e}}},66563:(e,t,n)=>{"use strict";n.d(t,{M:()=>m});var r=n(67294),o=n(30553),i=n(96837),a=n(85639),c=n(97263),l=n(62087);function u(e){return r.createElement(l.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M3,3H21V5H3Z",transform:"translate(0 16)"}),r.createElement("path",{d:"M21,5H3V19H21ZM19,17H5V7H19Z",transform:"translate(0 -2)"})))}function s(e){return r.createElement(l.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M0,0H24V24H0Z",transform:"translate(24) rotate(90)",fill:"none"}),r.createElement("path",{d:"M3,3H21V5H3Z",transform:"translate(24) rotate(90)"}),r.createElement("path",{d:"M19,3H5V21H19ZM17,19H7V5H17Z",transform:"translate(-2)"})))}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,e);var t,n,l,m,v=(l=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(l);if(m){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=v.call(this,e)).handleChange=t.handleChange.bind(h(t)),t}return t=b,(n=[{key:"handleChange",value:function(e){var t=this.props,n=t.windowId;(0,t.setWindowThumbnailPosition)(n,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,l=t.handleClose,f=t.t,p=t.thumbnailNavigationPosition,d=t.direction;return r.createElement(r.Fragment,null,r.createElement(i.Z,{role:"presentation",disableSticky:!0,tabIndex:"-1"},f("thumbnails")),r.createElement(a.Z,{className:n.MenuItem,onClick:function(){e.handleChange("off"),l()}},r.createElement(o.Z,{value:"off",classes:{label:"off"===p?n.selectedLabel:n.label},control:r.createElement(c.Z,{color:"off"===p?"secondary":void 0}),label:f("off"),labelPlacement:"bottom"})),r.createElement(a.Z,{className:n.MenuItem,onClick:function(){e.handleChange("far-bottom"),l()}},r.createElement(o.Z,{value:"far-bottom",classes:{label:"far-bottom"===p?n.selectedLabel:n.label},control:r.createElement(u,{color:"far-bottom"===p?"secondary":void 0}),label:f("bottom"),labelPlacement:"bottom"})),r.createElement(a.Z,{className:n.MenuItem,onClick:function(){e.handleChange("far-right"),l()}},r.createElement(o.Z,{value:"far-right",classes:{label:"far-right"===p?n.selectedLabel:n.label},control:r.createElement(s,{color:"far-right"===p?"secondary":void 0,style:"rtl"===d?{transform:"rotate(180deg)"}:{}}),label:f("right"),labelPlacement:"bottom"})))}}])&&f(t.prototype,n),b}(r.Component);m.defaultProps={handleClose:function(){},t:function(e){return e}}},41781:(e,t,n)=>{"use strict";n.d(t,{t:()=>j});var r=n(67294),o=n(74743),i=n(95378),a=n(28358),c=n(45258),l=n(94184),u=n.n(l),s=n(49425),f=n(53523),p=n(76109),d=n(11940),h=n(82396),y=n(27398),m=n(62087);function v(e){return r.createElement(m.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M7,14H5v5h5V17H7Zm7-9V7h3v3h2V5Z"}),r.createElement("path",{d:"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z"})))}function b(e){return r.createElement(m.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M5,16H8v3h2V14H5ZM16,8V5H14v5h5V8Z"}),r.createElement("path",{d:"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z"})))}var g=n(79686);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function k(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(C,e);var t,n,l,m,j=(l=C,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(l);if(m){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function C(){return w(this,C),j.apply(this,arguments)}return t=C,(n=[{key:"render",value:function(){var e=this.props,t=e.removeWindow,n=e.windowId,l=e.classes,m=e.toggleWindowSideBar,w=e.t,O=e.windowDraggable,E=e.maximizeWindow,k=e.maximized,P=e.minimizeWindow,j=e.focused,C=e.allowClose,_=e.allowMaximize,S=e.focusWindow,R=e.allowFullscreen,x=e.allowTopMenuButton,Z=e.allowWindowSideBar;return r.createElement(c.Z,{position:"relative",color:"default"},r.createElement("nav",{"aria-label":w("windowNavigation")},r.createElement(a.Z,{disableGutters:!0,onMouseDown:S,className:u()(l.windowTopBarStyle,O?l.windowTopBarStyleDraggable:null,j?l.focused:null,(0,g.Z)("window-top-bar")),variant:"dense"},Z&&r.createElement(h.Z,{"aria-label":w("toggleWindowSideBar"),onClick:m},r.createElement(o.Z,null)),r.createElement(d.Z,{windowId:n}),x&&r.createElement(s.Z,{className:(0,g.Z)("window-menu-btn"),windowId:n}),r.createElement(f.Z,{windowId:n}),r.createElement(p.Z,{windowId:n}),_&&r.createElement(h.Z,{"aria-label":w(k?"minimizeWindow":"maximizeWindow"),className:(0,g.Z)("window-maximize"),onClick:k?P:E},k?r.createElement(b,null):r.createElement(v,null)),R&&r.createElement(y.Z,null),C&&r.createElement(h.Z,{"aria-label":w("closeWindow"),className:(0,g.Z)("window-close"),onClick:t},r.createElement(i.Z,null)))))}}])&&O(t.prototype,n),C}(r.Component);j.defaultProps={allowClose:!0,allowFullscreen:!1,allowMaximize:!0,allowTopMenuButton:!0,allowWindowSideBar:!0,focused:!1,focusWindow:function(){},maximized:!1,maximizeWindow:function(){},minimizeWindow:function(){},t:function(e){return e},windowDraggable:!0}},48415:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(67294),o=n(28819);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,s,f,p=(s=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(s);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(){return i(this,d),p.apply(this,arguments)}return t=d,(n=[{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(o.M,this.props))}}])&&a(t.prototype,n),d}(r.Component)},11303:(e,t,n)=>{"use strict";n.d(t,{d:()=>h});var r=n(67294),o=n(72156),i=n(99050),a=n(82396),c=n(28819),l=n(79686);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,o,h,y=(o=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(p(t)),t.handleMenuClose=t.handleMenuClose.bind(p(t)),t}return t=m,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.containerId,u=t.PluginComponents,s=t.t,f=t.windowId,p=t.menuIcon,d=this.state.anchorEl;return u&&0!==u.length?r.createElement(r.Fragment,null,r.createElement(a.Z,{"aria-haspopup":"true","aria-label":s("windowPluginMenu"),"aria-owns":d?"window-plugin-menu_".concat(f):void 0,className:d?n.ctrlBtnSelected:null,onClick:this.handleMenuClick},p),r.createElement(i.Z,{id:"window-plugin-menu_".concat(f),container:document.querySelector("#".concat(o," .").concat((0,l.Z)("viewer"))),anchorEl:d,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},getContentAnchorEl:null,open:Boolean(d),onClose:function(){return e.handleMenuClose()}},r.createElement(c.M,Object.assign({handleClose:function(){return e.handleMenuClose()}},this.props)))):r.createElement(r.Fragment,null)}}])&&u(t.prototype,n),m}(r.Component);h.defaultProps={classes:{},menuIcon:r.createElement(o.Z,null),PluginComponents:[]}},36906:(e,t,n)=>{"use strict";n.d(t,{j:()=>p});var r=n(67294),o=n(22318),i=n(58365),a=n(41842);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(p);if(d){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function y(){return c(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.error,c=e.hideWindowTitle,l=e.isFetching,u=e.manifestTitle,s=function(e){return r.createElement(o.Z,Object.assign({variant:"h2",noWrap:!0,color:"inherit",className:t.title},e),e.children)};return l?r.createElement(s,null,r.createElement(i.Z,{variant:"text"})):n?r.createElement(r.Fragment,null,r.createElement(a.Z,{color:"error"}),r.createElement(s,{color:"textSecondary"},n)):c?r.createElement("div",{className:t.title}):r.createElement(s,null,u)}}])&&l(t.prototype,n),y}(r.Component);p.defaultProps={error:null,hideWindowTitle:!1,isFetching:!1,manifestTitle:""}},12105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(67294),o=n(99050),i=n(96837),a=n(12412),c=n(37886),l=n(28819),u=n(79686);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e){var t=e.PluginComponents,n=e.t;return t?r.createElement(r.Fragment,null,r.createElement(i.Z,{role:"presentation",disableSticky:!0,tabIndex:"-1"},n("windowPluginButtons")),r.createElement(l.M,e)):null}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(v,e);var t,n,i,l,m=(i=v,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(i);if(l){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function v(){return s(this,v),m.apply(this,arguments)}return t=v,(n=[{key:"render",value:function(){var e=this.props,t=e.containerId,n=e.handleClose,i=e.anchorEl,l=e.showThumbnailNavigationSettings,s=e.toggleDraggingEnabled,f=e.windowId;return r.createElement(o.Z,{id:"window-menu_".concat(f),container:document.querySelector("#".concat(t," .").concat((0,u.Z)("viewer"))),anchorEl:i,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},getContentAnchorEl:null,open:Boolean(i),onClose:n,onEntering:s,onExit:s,orientation:"horizontal"},r.createElement(c.Z,{windowId:f,handleClose:n}),l&&r.createElement(a.Z,{windowId:f,handleClose:n}),r.createElement(y,this.props))}}])&&f(t.prototype,n),v}(r.Component);m.defaultProps={anchorEl:null,showThumbnailNavigationSettings:!0}},9439:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var r=n(67294),o=n(11127),i=n(82396),a=n(62087);function c(e){return r.createElement(a.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M0,0H24V24H0Z",fill:"none"}),r.createElement("path",{d:"M24.852,17.981,3,18V15.945l21.852-.019Z",transform:"translate(-2 5)"}),r.createElement("path",{d:"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8Z",transform:"translate(0 -2)"})))}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,n,a,d,h=(a=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(a);if(d){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=h.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(f(t)),t.handleMenuClose=t.handleMenuClose.bind(f(t)),t}return t=y,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,a=e.windowId,l=this.state.anchorEl;return r.createElement(r.Fragment,null,r.createElement(i.Z,{"aria-haspopup":"true","aria-label":n("windowMenu"),"aria-owns":l?"window-menu_".concat(a):void 0,className:l?t.ctrlBtnSelected:null,onClick:this.handleMenuClick},r.createElement(c,null)),r.createElement(o.Z,{windowId:a,anchorEl:l,handleClose:this.handleMenuClose}))}}])&&l(t.prototype,n),y}(r.Component);d.defaultProps={t:function(e){return e}}},1013:(e,t,n)=>{"use strict";n.d(t,{X:()=>v});var r=n(67294),o=n(30553),i=n(85639),a=n(96837),c=n(46583),l=n(51724),u=n(62087);function s(e){return r.createElement(u.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8ZM14,9.5h6V11H14ZM14,12h6v1.5H14Zm0,2.5h6V16H14Z"})))}function f(e){return r.createElement(u.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M19.974,2H2V19.974H19.974V2ZM7.392,18.177H3.8V14.582H7.392Zm0-5.392H3.8V9.19H7.392Zm0-5.392H3.8V3.8H7.392Zm5.392,10.785H9.19V14.582h3.595Zm0-5.392H9.19V9.19h3.595Zm0-5.392H9.19V3.8h3.595Zm5.392,10.785H14.582V14.582h3.595Zm0-5.392H14.582V9.19h3.595Zm0-5.392H14.582V3.8h3.595Z",transform:"translate(1 1)"})))}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(g,e);var t,n,u,v,b=(u=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(u);if(v){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=b.call(this,e)).handleChange=t.handleChange.bind(y(t)),t}return t=g,(n=[{key:"handleChange",value:function(e){var t=this.props,n=t.windowId;(0,t.setWindowViewType)(n,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,u=t.handleClose,p=t.t,d=t.windowViewType,h=t.viewTypes,y={book:s,gallery:f,scroll:l.Z,single:c.Z};return 0===h.length?null:r.createElement(r.Fragment,null,r.createElement(a.Z,{role:"presentation",disableSticky:!0,tabIndex:"-1"},p("view")),h.map((function(t){return function(t){var a=t.value,c=t.Icon;return r.createElement(i.Z,{key:a,className:n.MenuItem,autoFocus:d===a,onClick:function(){e.handleChange(a),u()}},r.createElement(o.Z,{value:a,classes:{label:d===a?n.selectedLabel:n.label},control:r.createElement(c,{color:d===a?"secondary":void 0}),label:p(a),labelPlacement:"bottom"}))}({Icon:y[t],value:t})})))}}])&&p(t.prototype,n),g}(r.Component);v.defaultProps={handleClose:function(){},t:function(e){return e},viewTypes:[]}},18382:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(67294),o=n(67865);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var u=(0,r.lazy)((function(){return Promise.all([n.e(463),n.e(733),n.e(239),n.e(693),n.e(145),n.e(977),n.e(108),n.e(778)]).then(n.bind(n,77400))})),s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,s,f,p,d=(f=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(f);if(p){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=d.call(this,e)).state={},t}return t=h,s=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}],(n=[{key:"render",value:function(){var e=this.props.windowId;return this.state.hasError?r.createElement(r.Fragment,null):r.createElement(r.Suspense,{fallback:r.createElement("div",null)},r.createElement(u,{windowId:e},r.createElement(o.Z,{windowId:e})))}}])&&i(t.prototype,n),s&&i(t,s),h}(r.Component)},9795:(e,t,n)=>{"use strict";n.d(t,{j:()=>b});var r=n(67294),o=n(94184),i=n.n(o),a=n(41749),c=n(22318),l=n(24506),u=n(23556),s=n(73011),f=n(79686),p=n(71240);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(w,e);var t,n,o,b,g=(o=w,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(b){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=g.call(this,e)).handleDrop=t.handleDrop.bind(m(t)),t}return t=w,(n=[{key:"handleDrop",value:function(e,t,n){var r=e.canvasId,o=e.manifestId,i=e.manifestJson,a=this.props,c=a.addWindow;a.allowNewWindows&&c({canvasId:r,manifest:i,manifestId:o})}},{key:"workspaceByType",value:function(){var e=this.props,t=e.workspaceId,n=e.workspaceType,o=e.windowIds;if(this.maximizedWindows())return this.maximizedWindows();if(0===o.length)return this.zeroWindows();switch(n){case"elastic":return r.createElement(s.Z,null);case"mosaic":return r.createElement(u.Z,null);default:return o.map((function(e){return r.createElement(l.Z,{key:"".concat(e,"-").concat(t),windowId:e})}))}}},{key:"zeroWindows",value:function(){var e=this.props.t;return r.createElement(a.Z,{alignItems:"center",container:!0,style:{height:"100%"}},r.createElement(a.Z,{xs:12,item:!0},r.createElement(c.Z,{variant:"h1",component:"div",align:"center"},e("welcome"))))}},{key:"maximizedWindows",value:function(){var e=this.props,t=e.maximizedWindowIds,n=e.workspaceId;return t.length>0&&t.map((function(e){return r.createElement(l.Z,{key:"".concat(e,"-").concat(n),windowId:e,className:i()((0,f.Z)("workspace-maximized-window"))})}))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isWorkspaceControlPanelVisible,o=e.t;return r.createElement(p.Z,{onDrop:this.handleDrop},r.createElement("div",{className:i()((0,f.Z)("workspace-viewport"),n&&(0,f.Z)("workspace-with-control-panel"),n&&t.workspaceWithControlPanel,t.workspaceViewport)},r.createElement(c.Z,{variant:"srOnly",component:"h1"},o("miradorViewer")),this.workspaceByType()))}}])&&d(t.prototype,n),w}(r.Component);b.defaultProps={addWindow:function(){},allowNewWindows:!0,maximizedWindowIds:[],windowIds:[]}},57864:(e,t,n)=>{"use strict";n.d(t,{P:()=>_});var r=n(67294),o=n(94184),i=n.n(o),a=n(8972),c=n(16562),l=n(45258),u=n(39636),s=n(41749),f=n(33758),p=n(62822),d=n(79895),h=n(28358),y=n(22318),m=n(79686),v=n(98340),b=n(11674),g=n(82396),w=n(71240),O=n(28819);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function P(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(R,e);var t,n,o,_,S=(o=R,_=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(o);if(_){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function R(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R),(t=S.call(this,e)).state={addResourcesOpen:!1},t.ref=r.createRef(),t.onSubmit=t.onSubmit.bind(j(t)),t.setAddResourcesVisibility=t.setAddResourcesVisibility.bind(j(t)),t.handleDrop=t.handleDrop.bind(j(t)),t}return t=R,(n=[{key:"handleDrop",value:function(e,t,n){var r=e.manifestId,o=e.manifestJson,i=this.props.addResource;o?i(r,o,{provider:"file"}):i(r),this.scrollToTop()}},{key:"onSubmit",value:function(){this.setAddResourcesVisibility(!1),this.scrollToTop()}},{key:"setAddResourcesVisibility",value:function(e){this.setState({addResourcesOpen:e})}},{key:"scrollToTop",value:function(){this.ref.current&&this.ref.current.scrollTo({behavior:"smooth",left:0,top:0})}},{key:"render",value:function(){var e,t,n,o=this,E=this.props,k=E.catalog,P=E.setWorkspaceAddVisibility,j=E.t,C=E.classes,_=this.state.addResourcesOpen,S=k.map((function(e,t){return r.createElement(b.Z,Object.assign({},0===t&&{buttonRef:function(e){return e&&e.focus()}},{key:e.manifestId,manifestId:e.manifestId,provider:e.provider,handleClose:function(){return P(!1)}}))}));return r.createElement(w.Z,{onDrop:this.handleDrop},r.createElement("div",{ref:this.ref,className:i()((0,m.Z)("workspace-add"),C.workspaceAdd)},k.length<1?r.createElement(s.Z,{alignItems:"center",container:!0,style:{height:"100%"}},r.createElement(s.Z,{xs:12,item:!0},r.createElement(y.Z,{variant:"h1",component:"div",align:"center"},j("emptyResourceList")))):r.createElement(d.Z,{className:C.list},r.createElement(y.Z,{variant:"srOnly",component:"h1"},j("miradorResources")),r.createElement(O.M,this.props),r.createElement(p.Z,{disablePadding:!0},S)),r.createElement(f.Z,{variant:"extended",disabled:_,className:i()(C.fab,(0,m.Z)("add-resource-button")),color:"primary",onClick:function(){return o.setAddResourcesVisibility(!0)}},r.createElement(a.Z,null),j("addResource")),r.createElement(u.ZP,{className:i()((e={},t=C.displayNone,n=!_,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),classes:{paper:C.paper},variant:"persistent",anchor:"bottom",open:_,ModalProps:{disablePortal:!0,hideBackdrop:!0,style:{position:"absolute"}}},r.createElement(d.Z,{className:C.form},r.createElement(l.Z,{position:"absolute",color:"primary",onClick:function(){return o.setAddResourcesVisibility(!1)}},r.createElement(h.Z,{variant:"dense"},r.createElement(g.Z,{"aria-label":j("closeAddResourceForm"),className:C.menuButton,color:"inherit"},r.createElement(c.Z,null)),r.createElement(y.Z,{variant:"h2",noWrap:!0,color:"inherit",className:C.typographyBody},j("addResource")))),r.createElement(v.Z,{addResourcesOpen:_,onSubmit:this.onSubmit,onCancel:function(){return o.setAddResourcesVisibility(!1)}})))))}}])&&E(t.prototype,n),R}(r.Component);_.defaultProps={addResource:function(){},catalog:[],classes:{},t:function(e){return e}}},1323:(e,t,n)=>{"use strict";n.d(t,{P:()=>d});var r=n(67294),o=n(33758),i=n(868),a=n(8972),c=n(95378);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,d,h,y=(d=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(d);if(h){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(){return l(this,m),y.apply(this,arguments)}return t=m,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,l=e.setWorkspaceAddVisibility,u=e.isWorkspaceAddVisible,s=e.useExtendedFab;return r.createElement(i.ZP,{title:n(u?"closeAddResourceMenu":"addResource")},r.createElement(o.Z,{size:"medium",color:"primary",id:"addBtn",disableRipple:!0,"aria-label":u?n("closeAddResourceMenu"):s&&n("startHere")||n("addResource"),className:t.fab,classes:{primary:t.fabPrimary,secondary:t.fabSecondary},variant:s?"extended":"round",onClick:function(){l(!u)}},u?r.createElement(c.Z,null):r.createElement(a.Z,null),s&&n("startHere")))}}])&&u(t.prototype,n),m}(r.Component);d.defaultProps={isWorkspaceAddVisible:!1,t:function(e){return e}}},47173:(e,t,n)=>{"use strict";n.d(t,{l:()=>v});var r=n(67294),o=n(94184),i=n.n(o),a=n(28149),c=n(99999),l=n(17395),u=n(35107),s=n(49288),f=n(79686);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(g,e);var t,n,o,v,b=(o=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(v){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function g(){return p(this,g),b.apply(this,arguments)}return t=g,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.controlPanelVariant,o=e.isWorkspaceAddVisible,p=e.isWorkspaceControlPanelVisible,d=e.lang,h=e.t;return r.createElement(r.Fragment,null,p&&r.createElement(c.Z,{variant:n}),r.createElement("main",{className:i()(t.viewer,(0,f.Z)("viewer")),lang:d,"aria-label":h("workspace")},o?r.createElement(u.Z,null):r.createElement(l.Z,null),r.createElement(a.Z,null),r.createElement(s.Z,null)))}}])&&d(t.prototype,n),g}(r.Component);v.defaultProps={controlPanelVariant:void 0,isWorkspaceAddVisible:!1,lang:void 0}},91484:(e,t,n)=>{"use strict";n.d(t,{e:()=>v});var r=n(67294),o=n(94184),i=n.n(o),a=n(45258),c=n(28358),l=n(34273),u=n(2878),s=n(4332),f=n(79686);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(g,e);var t,n,o,v,b=(o=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(v){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function g(){return p(this,g),b.apply(this,arguments)}return t=g,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,o=e.variant;return r.createElement(a.Z,{className:i()(t.root,(0,f.Z)("workspace-control-panel"),"wide"===o?t.wide:null),color:"default",position:"absolute",component:"nav","aria-label":n("workspaceNavigation")},r.createElement(c.Z,{disableGutters:!0,className:t.toolbar},r.createElement(l.Z,null),r.createElement("div",{className:t.workspaceButtons},r.createElement(u.Z,null))),r.createElement(s.Z,{className:t.branding,t:n,variant:o}))}}])&&d(t.prototype,n),g}(r.Component);v.defaultProps={variant:"default"}},62084:(e,t,n)=>{"use strict";n.d(t,{z:()=>h});var r=n(67294),o=n(27398),i=n(4818),a=n(80357),c=n(41027),l=n(28819);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(v,e);var t,n,h,y,m=(h=v,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(h);if(y){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function v(){return u(this,v),m.apply(this,arguments)}return t=v,(n=[{key:"render",value:function(){var e=this.props.classes;return r.createElement(r.Fragment,null,r.createElement(c.Z,null),r.createElement(i.Z,null),r.createElement(a.Z,null),r.createElement(o.Z,{className:e.ctrlBtn}),r.createElement(l.M,this.props))}}])&&s(t.prototype,n),v}(r.Component);h.defaultProps={classes:{}}},34908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(67294),o=n(37013),i=n(62893),a=n(94184),c=n.n(a),l=n(11811),u=n(79686);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}const y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(v,e);var t,n,a,y,m=(a=v,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(a);if(y){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function v(){return s(this,v),m.apply(this,arguments)}return t=v,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.workspace,a=e.elasticLayout,s=e.setWorkspaceViewportDimensions,f=e.setWorkspaceViewportPosition,p=n.viewportPosition,d=n.width/2,h=n.height/2;return r.createElement("div",{style:{height:"100%",position:"relative",width:"100%"}},r.createElement(i.Z,{onResize:function(e){s(e)}}),r.createElement(o.s,{size:{height:n.height,width:n.width},position:{x:-1*p.x-d,y:-1*p.y-h},enableResizing:{bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1},onDragStop:function(e,t){f({x:-1*t.x-d,y:-1*t.y-h})},cancel:".".concat((0,u.Z)("window")),className:c()(t.workspace,(0,u.Z)("workspace")),disableDragging:!n.draggingEnabled},Object.keys(a).map((function(e){return r.createElement(l.Z,{key:e,windowId:e})}))))}}])&&f(t.prototype,n),v}(r.Component)},17270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(37013),i=n(24506),a=n(79686);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,n,p,d,h=(p=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(p);if(d){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function y(){return c(this,y),h.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.companionWindowDimensions,c=e.focused,l=e.layout,u=e.workspace,s=e.updateElasticWindowLayout,f=u.width/2,p=u.height/2;return r.createElement(o.s,{key:"".concat(l.windowId,"-").concat(u.id),size:{height:l.height+n.height,width:l.width+n.width},position:{x:l.x+f,y:l.y+p},bounds:"parent",onDragStop:function(e,t){s(l.windowId,{x:t.x-f,y:t.y-p})},onResize:function(e,t,r,o,i){s(l.windowId,{height:Number.parseInt(r.style.height,10)-n.height,width:Number.parseInt(r.style.width,10)-n.width,x:i.x-f,y:i.y-p})},dragHandleClassName:(0,a.Z)("window-top-bar"),className:c?t.focused:null},r.createElement(i.Z,{windowId:l.windowId}))}}])&&l(t.prototype,n),y}(r.Component);p.defaultProps={classes:{},companionWindowDimensions:{height:0,width:0},focused:!1};const d=p},66144:(e,t,n)=>{"use strict";n.d(t,{c:()=>k});var r=n(67294),o=n(282),i=n(52663),a=n(66856),c=n(66083),l=n(29525),u=n(22318),s=n(96912),f=n(17812),p=n(64566),d=n(80366),h=n(36939),y=n(50743),m=n(61201),v=n(74855);function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(C,e);var t,n,k,P,j=(k=C,P=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(k);if(P){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function C(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),(t=j.call(this,e)).state={copied:!1},t.onCopy=t.onCopy.bind(O(t)),t.handleClose=t.handleClose.bind(O(t)),t}return t=C,(n=[{key:"handleClose",value:function(){(0,this.props.handleClose)()}},{key:"onCopy",value:function(){this.setState({copied:!0})}},{key:"exportedState",value:function(){var e=this.props.exportableState;return JSON.stringify(e,null,2)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,b=e.container,g=e.open,w=e.t;return this.state.copied?r.createElement(s.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!0,autoHideDuration:6e3,onClose:this.handleClose,message:w("exportCopied"),action:r.createElement(f.Z,{size:"small","aria-label":w("dismiss"),color:"inherit",onClick:this.handleClose},r.createElement(d.default,{fontSize:"small"}))}):r.createElement(i.Z,{id:"workspace-settings",container:b,open:g,onClose:this.handleClose,scroll:"paper",fullWidth:!0,maxWidth:"sm"},r.createElement(c.Z,{id:"form-dialog-title",disableTypography:!0},r.createElement(u.Z,{variant:"h2"},w("downloadExport"))),r.createElement(l.Z,null,r.createElement(h.Z,{elevation:0},r.createElement(y.Z,{classes:{root:n.accordionTitle},expandIcon:r.createElement(p.Z,null)},r.createElement(u.Z,{variant:"h4"},w("viewWorkspaceConfiguration"))),r.createElement(m.Z,null,t,r.createElement("pre",null,this.exportedState())))),r.createElement(a.Z,null,r.createElement(o.Z,{onClick:this.handleClose},w("cancel")),r.createElement(v.CopyToClipboard,{onCopy:this.onCopy,text:this.exportedState()},r.createElement(o.Z,{variant:"contained",color:"primary"},w("copy")))))}}])&&b(t.prototype,n),C}(r.Component);k.defaultProps={children:null,classes:{},container:null,open:!1,t:function(e){return e}}},8569:(e,t,n)=>{"use strict";n.d(t,{d:()=>m});var r=n(67294),o=n(52663),i=n(66083),a=n(22318),c=n(7784),l=n(66856),u=n(282),s=n(64134);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(g,e);var t,n,m,v,b=(m=g,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(m);if(v){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=b.call(this,e)).state={configImportValue:""},t.handleImportConfig=t.handleImportConfig.bind(h(t)),t.handleChange=t.handleChange.bind(h(t)),t}return t=g,(n=[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({configImportValue:e.target.value})}},{key:"handleImportConfig",value:function(e){var t=this.props,n=t.handleClose,r=t.importConfig,o=this.state.configImportValue;try{r(JSON.parse(o)),n()}catch(e){(0,this.props.addError)(e.toString())}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleClose,f=e.open,p=e.t;return r.createElement(o.Z,{"aria-labelledby":"workspace-import-title",id:"workspace-import",onEscapeKeyDown:n,onClose:n,open:f,fullWidth:!0,maxWidth:"sm"},r.createElement(i.Z,{id:"workspace-import-title",disableTypography:!0},r.createElement(a.Z,{variant:"h2"},p("importWorkspace"))),r.createElement(s.Z,null,r.createElement(c.Z,{className:t.textField,id:"workspace-import-input",multiline:!0,onChange:this.handleChange,rows:"15",variant:"filled",inputProps:{autoFocus:"autofocus",className:t.textInput},helperText:p("importWorkspaceHint")})),r.createElement(l.Z,null,r.createElement(u.Z,{className:t.cancelBtn,onClick:n},p("cancel")),r.createElement(u.Z,{color:"primary",onClick:this.handleImportConfig,variant:"contained"},p("import"))))}}])&&f(t.prototype,n),g}(r.Component);m.defaultProps={classes:{},open:!1,t:function(e){return e}}},46370:(e,t,n)=>{"use strict";n.d(t,{k:()=>_});var r=n(67294),o=n(99050),i=n(85639),a=n(22318),c=n(12927),l=n(46869),u=n(95757),s=n(17212),f=n(16562);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(v,e);var t,n,o,a,c=(o=v,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(a){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=c.call(this,e)).state={nestedMenuIsOpen:!1},t.handleMenuClick=t.handleMenuClick.bind(y(t)),t}return t=v,(n=[{key:"handleMenuClick",value:function(){var e=this.state.nestedMenuIsOpen;this.setState({nestedMenuIsOpen:!e})}},{key:"render",value:function(){var e=this.state.nestedMenuIsOpen,t=this.props,n=t.children,o=t.icon,a=t.label,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["children","icon","label"]);return r.createElement(r.Fragment,null,r.createElement(i.Z,Object.assign({onClick:this.handleMenuClick,divider:e},c),o&&r.createElement(l.Z,null,o),r.createElement(u.Z,{primaryTypographyProps:{variant:"body1"}},a),e?r.createElement(s.Z,null):r.createElement(f.Z,null)),e&&n)}}])&&p(t.prototype,n),v}(r.Component);v.defaultProps={icon:null};var b=n(30846),g=n(79686),w=n(64717),O=n(28819);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function P(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(f,e);var t,n,l,u,s=(l=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(l);if(u){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={changeTheme:{},toggleZoom:{},workspaceSelection:{}},t.handleMenuItemClick=t.handleMenuItemClick.bind(j(t)),t.handleMenuItemClose=t.handleMenuItemClose.bind(j(t)),t}return t=f,(n=[{key:"handleMenuItemClick",value:function(e,t){var n={};n[e]={},n[e].open=!0,n[e].anchorEl=t.currentTarget,this.setState(n)}},{key:"handleMenuItemClose",value:function(e){var t=this;return function(n){var r={};r[e]={},r[e].open=!1,r[e].anchorEl=null,t.setState(r)}}},{key:"handleZoomToggleClick",value:function(){var e=this.props;(0,e.toggleZoomControls)(!e.showZoomControls)}},{key:"render",value:function(){var e=this,t=this.props,n=t.containerId,l=t.handleClose,u=t.anchorEl,s=t.showThemePicker,f=t.isWorkspaceAddVisible,p=t.t,d=t.showZoomControls,h=this.state,y=h.changeTheme,m=h.toggleZoom,E=h.workspaceSelection,k=document.querySelector("#".concat(n," .").concat((0,g.Z)("viewer")));return r.createElement(r.Fragment,null,r.createElement(o.Z,{id:"workspace-menu",container:k,anchorEl:u,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},open:Boolean(u),onClose:l},r.createElement(i.Z,{"aria-haspopup":"true",disabled:f,onClick:function(t){e.handleZoomToggleClick(t),l(t)},"aria-owns":m.anchorEl?"toggle-zoom-menu":void 0},r.createElement(a.Z,{variant:"body1"},p(d?"hideZoomControls":"showZoomControls"))),r.createElement(i.Z,{"aria-haspopup":"true",onClick:function(t){e.handleMenuItemClick("workspaceSelection",t),l(t)},"aria-owns":E.anchorEl?"workspace-selection":void 0},r.createElement(a.Z,{variant:"body1"},p("selectWorkspaceMenu"))),r.createElement(v,{label:p("language")},r.createElement(c.Z,{afterSelect:l})),s&&r.createElement(i.Z,{"aria-haspopup":"true",onClick:function(t){e.handleMenuItemClick("changeTheme",t),l(t)},"aria-owns":y.anchorEl?"change-theme":void 0},r.createElement(a.Z,{variant:"body1"},p("changeTheme"))),r.createElement(O.M,this.props)),Boolean(y.open)&&r.createElement(w.Z,{container:k,handleClose:this.handleMenuItemClose("changeTheme"),open:Boolean(y.open)}),Boolean(E.open)&&r.createElement(b.Z,{open:Boolean(E.open),container:k,handleClose:this.handleMenuItemClose("workspaceSelection")}))}}])&&E(t.prototype,n),f}(r.Component);_.defaultProps={anchorEl:null,isWorkspaceAddVisible:!1,showThemePicker:!1,showZoomControls:!1,t:function(e){return e},toggleZoomControls:function(){}}},75483:(e,t,n)=>{"use strict";n.d(t,{G:()=>h});var r=n(67294),o=n(21276),i=n(94184),a=n.n(i),c=n(32902),l=n(82396);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,i,h,y=(i=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(i);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(p(t)),t.handleMenuClose=t.handleMenuClose.bind(p(t)),t}return t=m,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,i=this.state.anchorEl;return r.createElement(r.Fragment,null,r.createElement(l.Z,{"aria-haspopup":"true","aria-label":n("workspaceMenu"),"aria-owns":i?"workspace-menu":void 0,className:a()(t.ctrlBtn,i?t.ctrlBtnSelected:null),id:"menuBtn",onClick:this.handleMenuClick},r.createElement(o.Z,null)),r.createElement(c.Z,{anchorEl:i,handleClose:this.handleMenuClose}))}}])&&u(t.prototype,n),m}(r.Component);h.defaultProps={t:function(e){return e}}},76378:(e,t,n)=>{"use strict";n.d(t,{D:()=>g});var r=n(67294),o=n(57024),i=n(91966),a=n.n(i),c=n(18446),l=n.n(c),u=n(94184),s=n.n(u),f=n(31522),p=n(24506),d=n(32241);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(w,e);var t,n,i,c,u,g=(c=w,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(c);if(u){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=g.call(this,e)).tileRenderer=t.tileRenderer.bind(v(t)),t.mosaicChange=t.mosaicChange.bind(v(t)),t.determineWorkspaceLayout=t.determineWorkspaceLayout.bind(v(t)),t.zeroStateView=r.createElement("div",null),t.windowPaths={},t.toolbarControls=[],t.additionalControls=[],t}return t=w,i=[{key:"renderPreview",value:function(e){return r.createElement("div",{className:"mosaic-preview","aria-hidden":!0},r.createElement(f.Z,{windowId:e.windowId}))}}],(n=[{key:"componentDidMount",value:function(){var e=this.props.updateWorkspaceMosaicLayout,t=this.determineWorkspaceLayout();t&&e(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.windowIds,r=t.layout,o=t.updateWorkspaceMosaicLayout,i=e.windowIds;if(n.every((function(e){return i.includes(e)}))){if(!i.every((function(e){return n.includes(e)}))){if(0===n.length)return void o(null);var c=a()(i,n),u=new d.Z(r);u.removeWindows(c,this.windowPaths),o(u.layout)}}else{var s=this.determineWorkspaceLayout();l()(s,r)||o(s)}}},{key:"bookkeepPath",value:function(e,t){this.windowPaths[e]=t}},{key:"determineWorkspaceLayout",value:function(){var e=this.props,t=e.windowIds,n=e.layout,r=(0,o.fY)(n);if(!t.every((function(e){return r.includes(e)}))){if(r.length<2)return(0,o.C4)(t);var i=a()(t,r),c=new d.Z(n);return c.addWindows(i),c.layout}return r.every((function(e){return t.includes(e)}))?n:(0,o.C4)(t)}},{key:"tileRenderer",value:function(e,t){var n=this.props,i=n.windowIds,a=n.workspaceId;return i.includes(e)?(this.bookkeepPath(e,t),r.createElement(o.h1,{toolbarControls:this.toolbarControls,additionalControls:this.additionalControls,path:t,windowId:e,renderPreview:w.renderPreview},r.createElement(p.Z,{key:"".concat(e,"-").concat(a),windowId:e}))):null}},{key:"mosaicChange",value:function(e){(0,this.props.updateWorkspaceMosaicLayout)(e)}},{key:"render",value:function(){var e=this.props,t=e.layout,n=e.classes;return r.createElement(o.wB,{renderTile:this.tileRenderer,initialValue:t||this.determineWorkspaceLayout(),onChange:this.mosaicChange,className:s()("mirador-mosaic",n.root),zeroStateView:this.zeroStateView})}}])&&h(t.prototype,n),i&&h(t,i),w}(r.Component);g.defaultProps={layout:void 0,windowIds:[]}},68471:(e,t,n)=>{"use strict";n.d(t,{I:()=>h});var r=n(67294),o=n(94184),i=n.n(o),a=n(27368),c=n(82396),l=n(70347);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,o,h,y=(o=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(o);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).state={anchorEl:null},t.handleMenuClick=t.handleMenuClick.bind(p(t)),t.handleMenuClose=t.handleMenuClose.bind(p(t)),t}return t=m,(n=[{key:"handleMenuClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.t,o=this.state.anchorEl;return r.createElement(r.Fragment,null,r.createElement(c.Z,{"aria-label":n("workspaceOptions"),className:i()(t.ctrlBtn,o?t.ctrlBtnSelected:null),onClick:this.handleMenuClick},r.createElement(a.Z,null)),r.createElement(l.Z,{anchorEl:o,handleClose:this.handleMenuClose}))}}])&&u(t.prototype,n),m}(r.Component)},48646:(e,t,n)=>{"use strict";n.d(t,{O:()=>g});var r=n(67294),o=n(42192),i=n(94445),a=n(46869),c=n(99050),l=n(85639),u=n(22318),s=n(69351),f=n(6480),p=n(28819),d=n(79686);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(E,e);var t,n,g,w,O=(g=E,w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(g);if(w){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function E(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),(t=O.call(this,e)).state={exportWorkspace:{},importWorkspace:{}},t.handleMenuItemClick=t.handleMenuItemClick.bind(v(t)),t.handleMenuItemClose=t.handleMenuItemClose.bind(v(t)),t}return t=E,(n=[{key:"handleMenuItemClick",value:function(e){var t={};t[e]={},t[e].open=!0,this.setState(t)}},{key:"handleMenuItemClose",value:function(e){var t=this;return function(n){var r={};r[e]={},r[e].open=!1,t.setState(r)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchorEl,h=t.containerId,y=t.handleClose,m=t.t,v=this.state,b=v.exportWorkspace,g=v.importWorkspace,w=document.querySelector("#".concat(h," .").concat((0,d.Z)("viewer")));return r.createElement(r.Fragment,null,r.createElement(c.Z,{id:"workspace-options-menu",container:w,anchorEl:n,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},open:Boolean(n),onClose:y},r.createElement(l.Z,{"aria-haspopup":"true",onClick:function(){e.handleMenuItemClick("exportWorkspace"),y()},"aria-owns":b.open?"workspace-export":void 0},r.createElement(a.Z,null,r.createElement(i.Z,null)),r.createElement(u.Z,{variant:"body1"},m("downloadExportWorkspace"))),r.createElement(l.Z,{"aria-haspopup":"true",id:"workspace-menu-import",onClick:function(){e.handleMenuItemClick("importWorkspace"),y()},"aria-owns":b.open?"workspace-import":void 0},r.createElement(a.Z,null,r.createElement(o.Z,null)),r.createElement(u.Z,{variant:"body1"},m("importWorkspace"))),r.createElement(p.M,this.props)),Boolean(b.open)&&r.createElement(s.Z,{open:Boolean(b.open),container:w,handleClose:this.handleMenuItemClose("exportWorkspace")}),Boolean(g.open)&&r.createElement(f.Z,{open:Boolean(g.open),container:w,handleClose:this.handleMenuItemClose("importWorkspace")}))}}])&&h(t.prototype,n),E}(r.Component);g.defaultProps={anchorEl:null}},49453:(e,t,n)=>{"use strict";n.d(t,{q:()=>O});var r=n(67294),o=n(52663),i=n(66083),a=n(22318),c=n(29829),l=n(85639),u=n(18463),s=n(79912),f=n(62087);function p(e){return r.createElement(f.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"90",viewBox:"0 0 300 225"},r.createElement("defs",null,r.createElement("linearGradient",{id:"linear-gradient",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},r.createElement("stop",{offset:"0"}),r.createElement("stop",{offset:"0.14",stopOpacity:"0.631"}),r.createElement("stop",{offset:"1",stopOpacity:"0"})),r.createElement("linearGradient",{id:"linear-gradient-2",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},r.createElement("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),r.createElement("stop",{offset:"0.23",stopColor:"#fff",stopOpacity:"0.012"}),r.createElement("stop",{offset:"0.36",stopColor:"#fff",stopOpacity:"0.039"}),r.createElement("stop",{offset:"0.47",stopColor:"#fff",stopOpacity:"0.102"}),r.createElement("stop",{offset:"0.57",stopColor:"#fff",stopOpacity:"0.18"}),r.createElement("stop",{offset:"0.67",stopColor:"#fff",stopOpacity:"0.278"}),r.createElement("stop",{offset:"0.75",stopColor:"#fff",stopOpacity:"0.412"}),r.createElement("stop",{offset:"0.83",stopColor:"#fff",stopOpacity:"0.561"}),r.createElement("stop",{offset:"0.91",stopColor:"#fff",stopOpacity:"0.741"}),r.createElement("stop",{offset:"0.98",stopColor:"#fff",stopOpacity:"0.929"}),r.createElement("stop",{offset:"1",stopColor:"#fff"})),r.createElement("clipPath",{id:"clip-elastic_icon"},r.createElement("rect",{width:"300",height:"225"}))),r.createElement("g",{id:"elastic_icon","data-name":"elastic icon",clipPath:"url(#clip-elastic_icon)"},r.createElement("rect",{width:"300",height:"225",fill:"#fff"}),r.createElement("g",{id:"Rectangle_278","data-name":"Rectangle 278",transform:"translate(232 159)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"54",height:"54",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"53",height:"53",fill:"none"})),r.createElement("g",{id:"Rectangle_8","data-name":"Rectangle 8",transform:"translate(7 148)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"70",height:"70",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"69",height:"69",fill:"none"})),r.createElement("g",{id:"Rectangle_258","data-name":"Rectangle 258",transform:"translate(224 6)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"70",height:"100",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"69",height:"99",fill:"none"})),r.createElement("g",{id:"Rectangle_259","data-name":"Rectangle 259",transform:"translate(71 64)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"115",height:"75",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"114",height:"74",fill:"none"})),r.createElement("g",{id:"Rectangle_260","data-name":"Rectangle 260",transform:"translate(99 87)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"115",height:"75",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"114",height:"74",fill:"none"})),r.createElement("g",{id:"Group_689","data-name":"Group 689"},r.createElement("g",{id:"Group_687","data-name":"Group 687",transform:"translate(0 3)"},r.createElement("path",{id:"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.164 -1.063)",fill:"#010101",fillRule:"evenodd",opacity:"0.246"}),r.createElement("g",{id:"Path_821","data-name":"Path 821",transform:"translate(40 36)",fill:"none"},r.createElement("path",{d:"M0,0H220V147H0Z",stroke:"none"}),r.createElement("path",{d:"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z",stroke:"none",fill:"#01579b"}))),r.createElement("g",{id:"Rectangle_257","data-name":"Rectangle 257",transform:"translate(40 39)",fill:"#fff",stroke:"#01579b",strokeWidth:"2"},r.createElement("rect",{width:"20",height:"147",stroke:"none"}),r.createElement("rect",{x:"1",y:"1",width:"18",height:"145",fill:"none"})),r.createElement("g",{id:"Group_688","data-name":"Group 688",transform:"translate(-27.5 -126)"},r.createElement("circle",{id:"teal_circle","data-name":"teal circle",cx:"7.5",cy:"7.5",r:"7.5",transform:"translate(70 171)",fill:"#009688"}),r.createElement("g",{id:"Group_333","data-name":"Group 333",transform:"translate(70 171)",opacity:"0.12"},r.createElement("path",{id:"gradient_border_2","data-name":"gradient border 2",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient)"}),r.createElement("path",{id:"gradient_border_1","data-name":"gradient border 1",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient-2)"})))))))}function d(e){return r.createElement(f.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"90",viewBox:"0 0 300 225"},r.createElement("defs",null,r.createElement("linearGradient",{id:"linear-gradient",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},r.createElement("stop",{offset:"0"}),r.createElement("stop",{offset:"0.14",stopOpacity:"0.631"}),r.createElement("stop",{offset:"1",stopOpacity:"0"})),r.createElement("linearGradient",{id:"linear-gradient-2",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},r.createElement("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),r.createElement("stop",{offset:"0.23",stopColor:"#fff",stopOpacity:"0.012"}),r.createElement("stop",{offset:"0.36",stopColor:"#fff",stopOpacity:"0.039"}),r.createElement("stop",{offset:"0.47",stopColor:"#fff",stopOpacity:"0.102"}),r.createElement("stop",{offset:"0.57",stopColor:"#fff",stopOpacity:"0.18"}),r.createElement("stop",{offset:"0.67",stopColor:"#fff",stopOpacity:"0.278"}),r.createElement("stop",{offset:"0.75",stopColor:"#fff",stopOpacity:"0.412"}),r.createElement("stop",{offset:"0.83",stopColor:"#fff",stopOpacity:"0.561"}),r.createElement("stop",{offset:"0.91",stopColor:"#fff",stopOpacity:"0.741"}),r.createElement("stop",{offset:"0.98",stopColor:"#fff",stopOpacity:"0.929"}),r.createElement("stop",{offset:"1",stopColor:"#fff"})),r.createElement("clipPath",{id:"clip-mosaic_icon"},r.createElement("rect",{width:"300",height:"225"}))),r.createElement("g",{id:"mosaic_icon","data-name":"mosaic icon",clipPath:"url(#clip-mosaic_icon)"},r.createElement("rect",{width:"300",height:"225",fill:"#fff"}),r.createElement("path",{id:"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.163 1.938)",fill:"#010101",fillRule:"evenodd",opacity:"0.5"}),r.createElement("path",{id:"checkbox-2","data-name":"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.164 1.938)",fill:"#010101",fillRule:"evenodd",opacity:"0.246"}),r.createElement("g",{id:"Path_821","data-name":"Path 821",transform:"translate(40 39)",fill:"none"},r.createElement("path",{d:"M0,0H220V147H0Z",stroke:"none"}),r.createElement("path",{d:"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z",stroke:"none",fill:"#01579b"})),r.createElement("g",{id:"Rectangle_257","data-name":"Rectangle 257",transform:"translate(40 39)",fill:"#fff",stroke:"#01579b",strokeWidth:"2"},r.createElement("rect",{width:"20",height:"147",stroke:"none"}),r.createElement("rect",{x:"1",y:"1",width:"18",height:"145",fill:"none"})),r.createElement("g",{id:"Group_688","data-name":"Group 688",transform:"translate(-27.5 -126)"},r.createElement("circle",{id:"teal_circle","data-name":"teal circle",cx:"7.5",cy:"7.5",r:"7.5",transform:"translate(70 171)",fill:"#009688"}),r.createElement("g",{id:"Group_333","data-name":"Group 333",transform:"translate(70 171)",opacity:"0.12"},r.createElement("path",{id:"gradient_border_2","data-name":"gradient border 2",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient)"}),r.createElement("path",{id:"gradient_border_1","data-name":"gradient border 1",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient-2)"}))),r.createElement("g",{id:"Rectangle_270","data-name":"Rectangle 270",transform:"translate(60 40.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"99",height:"72",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"98",height:"71",fill:"none"})),r.createElement("g",{id:"Rectangle_271","data-name":"Rectangle 271",transform:"translate(159 40.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"99",height:"72",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"98",height:"71",fill:"none"})),r.createElement("g",{id:"Rectangle_272","data-name":"Rectangle 272",transform:"translate(192 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})),r.createElement("g",{id:"Rectangle_284","data-name":"Rectangle 284",transform:"translate(60 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})),r.createElement("g",{id:"Rectangle_285","data-name":"Rectangle 285",transform:"translate(126 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},r.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),r.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})))))}var h=n(64134);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(y,e);var t,n,f=(t=y,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=w(t);if(n){var o=w(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return b(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=f.call(this,e)).handleWorkspaceTypeChange=t.handleWorkspaceTypeChange.bind(g(t)),t}return m(y,null,[{key:"setInitialFocus",value:function(e,t){var n=e.querySelectorAll('li[value="'.concat(t,'"]'));n&&0!==n.length&&n[0].focus()}}]),m(y,[{key:"handleWorkspaceTypeChange",value:function(e){var t=this.props,n=t.handleClose;(0,t.updateWorkspace)({type:e}),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,f=t.container,m=t.handleClose,v=t.open,b=t.children,g=t.t,w=t.workspaceType;return r.createElement(o.Z,{"aria-labelledby":"workspace-selection-dialog-title",container:f,id:"workspace-selection-dialog",onClose:m,onEntered:function(e){return y.setInitialFocus(e,w)},onEscapeKeyDown:m,open:v},r.createElement(i.Z,{id:"workspace-selection-dialog-title",disableTypography:!0},r.createElement(a.Z,{variant:"h2"},g("workspaceSelectionTitle"))),r.createElement(h.Z,null,b,r.createElement(c.Z,{classes:{root:n.list},selected:w},r.createElement(l.Z,{className:n.menuItem,onClick:function(){return e.handleWorkspaceTypeChange("elastic")},selected:"elastic"===w,value:"elastic"},r.createElement(u.Z,{className:n.card},r.createElement(p,{className:n.svgIcon,viewBox:"0 0 120 90"}),r.createElement("div",{className:n.details},r.createElement(s.Z,{classes:{root:n.root},className:n.content},r.createElement(a.Z,{className:n.headline,component:"p",variant:"h3"},g("elastic")),r.createElement(a.Z,{variant:"body1"},g("elasticDescription")))))),r.createElement(l.Z,{className:n.menuItem,onClick:function(){return e.handleWorkspaceTypeChange("mosaic")},selected:"mosaic"===w,value:"mosaic"},r.createElement(u.Z,{className:n.card},r.createElement(d,{className:n.svgIcon,viewBox:"0 0 120 90"}),r.createElement("div",{className:n.details},r.createElement(s.Z,{className:n.content,classes:{root:n.root}},r.createElement(a.Z,{className:n.headline,component:"p",variant:"h3"},g("mosaic")),r.createElement(a.Z,{variant:"body1"},g("mosaicDescription")))))))))}}]),y}(r.Component);O.defaultProps={children:null,container:null,open:!1,t:function(e){return e}}},62562:(e,t,n)=>{"use strict";n.d(t,{F:()=>h});var r=n(67294),o=n(77206),i=n(59169),a=n(62087);function c(e){return r.createElement(a.Z,e,r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("path",{d:"M6,15H9v3h2V13H6Zm9-6V6H13v5h5V9Z"}),r.createElement("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8,8,8,0,0,1-8,8Z"})))}var l=n(82396);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,a,h,y=(a=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(a);if(h){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).handleZoomInClick=t.handleZoomInClick.bind(p(t)),t.handleZoomOutClick=t.handleZoomOutClick.bind(p(t)),t}return t=m,(n=[{key:"handleZoomInClick",value:function(){var e=this.props,t=e.windowId;(0,e.updateViewport)(t,{zoom:2*e.viewer.zoom})}},{key:"handleZoomOutClick",value:function(){var e=this.props,t=e.windowId;(0,e.updateViewport)(t,{zoom:e.viewer.zoom/2})}},{key:"render",value:function(){var e=this.props,t=e.displayDivider,n=e.showZoomControls,a=e.classes,u=e.t,s=e.zoomToWorld;return n?r.createElement("div",{className:a.zoom_controls},r.createElement(l.Z,{"aria-label":u("zoomIn"),onClick:this.handleZoomInClick},r.createElement(o.Z,null)),r.createElement(l.Z,{"aria-label":u("zoomOut"),onClick:this.handleZoomOutClick},r.createElement(i.Z,null)),r.createElement(l.Z,{"aria-label":u("zoomReset"),onClick:function(){return s(!1)}},r.createElement(c,null)),t&&r.createElement("span",{className:a.divider})):r.createElement(r.Fragment,null)}}])&&u(t.prototype,n),m}(r.Component);h.defaultProps={displayDivider:!0,showZoomControls:!1,t:function(e){return e},updateViewport:function(){},viewer:{},windowId:""}},79686:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(73677),o=n(85564),i=n.n(o);const a=function(e){return i()([e]).map((function(e){return[r.Z.createGenerateClassNameOptions.productionPrefix,e].join("-")})).join(" ")}},73677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(44586);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={state:{},canvasNavigation:{height:50,width:50},selectedTheme:"light",themes:{dark:{palette:{type:"dark",primary:{main:"#4db6ac"},secondary:{main:"#4db6ac"},shades:{dark:"#000000",main:"#424242",light:"#616161"}}},light:{palette:{type:"light"}}},theme:{palette:{type:"light",primary:{main:"#1967d2"},secondary:{main:"#1967d2"},shades:{dark:"#eeeeee",main:"#ffffff",light:"#f5f5f5"},error:{main:"#b00020"},notification:{main:"#ffa224"},hitCounter:{default:"#bdbdbd"},highlights:{primary:"#ffff00",secondary:"#00BFFF"},section_divider:"rgba(0, 0, 0, 0.25)",annotations:{hidden:{globalAlpha:0},default:{strokeStyle:"#00BFFF",globalAlpha:1},hovered:{strokeStyle:"#BF00FF",globalAlpha:1},selected:{strokeStyle:"#ffff00",globalAlpha:1}},search:{default:{fillStyle:"#00BFFF",globalAlpha:.3},hovered:{fillStyle:"#00FFFF",globalAlpha:.3},selected:{fillStyle:"#ffff00",globalAlpha:.3}}},typography:{body1:{fontSize:"1rem",letterSpacing:"0em",lineHeight:"1.6em"},body2:{fontSize:"0.878rem",letterSpacing:"0.015em",lineHeight:"1.6em"},button:{fontSize:"0.878rem",letterSpacing:"0.09em",lineHeight:"2.25rem",textTransform:"uppercase"},caption:{fontSize:"0.772rem",letterSpacing:"0.033em",lineHeight:"1.6rem"},body1Next:{fontSize:"1rem",letterSpacing:"0em",lineHeight:"1.6em"},body2Next:{fontSize:"0.878rem",letterSpacing:"0.015em",lineHeight:"1.6em"},buttonNext:{fontSize:"0.878rem",letterSpacing:"0.09em",lineHeight:"2.25rem"},captionNext:{fontSize:"0.772rem",letterSpacing:"0.33em",lineHeight:"1.6rem"},overline:{fontSize:"0.678rem",fontWeight:500,letterSpacing:"0.166em",lineHeight:"2em",textTransform:"uppercase"},h1:{fontSize:"2.822rem",letterSpacing:"-0.015em",lineHeight:"1.2em"},h2:{fontSize:"1.575rem",letterSpacing:"0em",lineHeight:"1.33em"},h3:{fontSize:"1.383rem",fontWeight:300,letterSpacing:"0em",lineHeight:"1.33em"},h4:{fontSize:"1.215rem",letterSpacing:"0.007em",lineHeight:"1.45em"},h5:{fontSize:"1.138rem",letterSpacing:"0.005em",lineHeight:"1.55em"},h6:{fontSize:"1.067rem",fontWeight:400,letterSpacing:"0.01em",lineHeight:"1.6em"},subtitle1:{fontSize:"0.937rem",letterSpacing:"0.015em",lineHeight:"1.6em",fontWeight:300},subtitle2:{fontSize:"0.878rem",fontWeight:500,letterSpacing:"0.02em",lineHeight:"1.75em"},useNextVariants:!0},overrides:{MuiListSubheader:{root:{'&[role="presentation"]:focus':{outline:0}}},MuiTooltip:{tooltipPlacementLeft:i({},"@media (min-width:600px)",{margin:0}),tooltipPlacementRight:i({},"@media (min-width:600px)",{margin:0}),tooltipPlacementTop:i({},"@media (min-width:600px)",{margin:0}),tooltipPlacementBottom:i({},"@media (min-width:600px)",{margin:0})},MuiTouchRipple:{childPulsate:{animation:"none"},rippleVisible:{animation:"none"}}},props:{MuiButtonBase:{disableTouchRipple:!0},MuiLink:{underline:"always"}}},language:"en",availableLanguages:{ar:"العربية",de:"Deutsch",en:"English",fr:"Français",ja:"日本語",kr:"한국어",lt:"Lietuvių",nl:"Nederlands","nb-NO":"Norwegian Bokmål",pl:"Polski","pt-BR":"Português do Brasil",vi:"Tiếng Việt","zh-CN":"中文(简体)","zh-TW":"中文(繁體)",it:"Italiano",sr:"Српски",sv:"Svenska"},annotations:{htmlSanitizationRuleSet:"iiif",filteredMotivations:["oa:commenting","oa:tagging","sc:painting","commenting","tagging"]},createGenerateClassNameOptions:{productionPrefix:"mirador"},requests:{preprocessors:[],postprocessors:[]},translations:{},window:{allowClose:!0,allowFullscreen:!1,allowMaximize:!0,allowTopMenuButton:!0,allowWindowSideBar:!0,authNewWindowCenter:"parent",sideBarPanel:"info",defaultSidebarPanelHeight:201,defaultSidebarPanelWidth:235,defaultView:"single",forceDrawAnnotations:!1,hideWindowTitle:!1,highlightAllAnnotations:!1,showLocalePicker:!1,sideBarOpen:!1,switchCanvasOnSearch:!0,panels:{info:!0,attribution:!0,canvas:!0,annotations:!0,search:!0,layers:!0},views:[{key:"single",behaviors:["individuals"]},{key:"book",behaviors:["paged"]},{key:"scroll",behaviors:["continuous"]},{key:"gallery"}],elastic:{height:400,width:480}},windows:[],thumbnails:{preferredFormats:["jpg","png","webp","tif"]},thumbnailNavigation:{defaultPosition:"off",displaySettings:!0,height:130,width:100},workspace:{draggingEnabled:!0,allowNewWindows:!0,id:(0,r.Z)(),isWorkspaceAddVisible:!1,exposeModeOn:!1,height:5e3,showZoomControls:!1,type:"mosaic",viewportPosition:{x:0,y:0},width:5e3},workspaceControlPanel:{enabled:!0},galleryView:{height:120,width:null},osdConfig:{alwaysBlend:!1,blendTime:.1,preserveImageSizeOnResize:!0,preserveViewport:!0,showNavigationControl:!1},export:{catalog:!0,companionWindows:!0,config:!0,elasticLayout:!0,layers:!0,manifests:{filter:function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0];return r[1],!i.startsWith("http")}},viewers:!0,windows:!0,workspace:!0},audioOptions:{controls:!0,crossOrigin:"anonymous"},videoOptions:{controls:!0,crossOrigin:"anonymous"},auth:{serviceProfiles:[{profile:"http://iiif.io/api/auth/1/external",external:!0},{profile:"http://iiif.io/api/auth/1/kiosk",kiosk:!0},{profile:"http://iiif.io/api/auth/1/clickthrough"},{profile:"http://iiif.io/api/auth/1/login"},{profile:"http://iiif.io/api/auth/0/external",external:!0},{profile:"http://iiif.io/api/auth/0/kiosk",kiosk:!0},{profile:"http://iiif.io/api/auth/0/clickthrough"},{profile:"http://iiif.io/api/auth/0/login"}]}}},98129:(e,t,n)=>{"use strict";var r=n(60690);function o(){var e={},t=0,n=0,r=0;return{add:function(o,i){i||(i=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(i),t++},process:function(){for(var t=r;t<=n;t++)for(var o=e[t],i=0;i<o.length;i++)(0,o[i])()},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),i=r.getOption(e,"auto",!0);i&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,c=o(),l=!1;function u(){for(l=!0;c.size();){var e=c;c=o(),e.process()}l=!1}function s(){a=setTimeout(u,0)}return{add:function(e,t){!l&&i&&n&&0===c.size()&&s(),c.add(e,t)},force:function(e){l||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?s():u())}}}},60690:e=>{"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}},94184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var c in n)r.call(n,c)&&n[c]&&e.push(c);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},86010:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{Z:()=>o})},20640:(e,t,n)=>{"use strict";var r=n(11742),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,a,c,l,u,s=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),c=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),c.selectNodeContents(u),l.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),u&&document.body.removeChild(u),a()}return s}},27642:(e,t,n)=>{"use strict";n.d(t,{Dz:()=>o,Oq:()=>p,cv:()=>s,dO:()=>l,iz:()=>d,jn:()=>i,oc:()=>f});var r=n(2177),o=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},i=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},a=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},c={top:0,right:0,bottom:0,left:0},l=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?c:n,l=e.border,u=void 0===l?c:l,s=e.padding,f=void 0===s?c:s,p=o(i(t,r)),d=o(a(t,u)),h=o(a(d,f));return{marginBox:p,borderBox:o(t),paddingBox:d,contentBox:h,margin:r,border:u,padding:f}},u=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&(0,r.Z)(!1),n},s=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,c=e.padding,u=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return l({borderBox:u,border:i,margin:a,padding:c})},f=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),s(e,t)},p=function(e,t){var n={top:u(t.marginTop),right:u(t.marginRight),bottom:u(t.marginBottom),left:u(t.marginLeft)},r={top:u(t.paddingTop),right:u(t.paddingRight),bottom:u(t.paddingBottom),left:u(t.paddingLeft)},o={top:u(t.borderTopWidth),right:u(t.borderRightWidth),bottom:u(t.borderBottomWidth),left:u(t.borderLeftWidth)};return l({borderBox:e,margin:n,padding:r,border:o})},d=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return p(t,n)}},55730:(e,t,n)=>{"use strict";n.d(t,{HO:()=>ne,if:()=>b,wR:()=>Y});var r=n(33827),o=n(93433),i="",a="",c="",l="",u=r.Z&&"ontouchstart"in document.documentElement;if(r.Z){var s={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},f=document.createElement("p").style;for(var p in s)if(p+"Transform"in f){i=p,a=s[p];break}"Webkit"===i&&"msHyphens"in f&&(i="ms",a=s.ms,l="edge"),"Webkit"===i&&"-apple-trailing-word"in f&&(c="apple")}var d=i,h=a,y=c,m=l,v=u;function b(e){return"-"===e[1]||"ms"===d?e:"@"+h+"keyframes"+e.substr(10)}var g={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===d?"-webkit-"+e:h+e)}},w={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===d?h+"print-"+e:e)}},O=/[-\s]+(.)?/g;function E(e,t){return t?t.toUpperCase():""}function k(e){return e.replace(O,E)}function P(e){return k("-"+e)}var j,C={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===d){var n="mask-image";if(k(n)in t)return e;if(d+P(n)in t)return h+e}return e}},_={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==y||v?e:h+e)}},S={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:h+e)}},R={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:h+e)}},x={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===d||"ms"===d&&"edge"!==m?h+e:e)}},Z={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===d||"ms"===d||"apple"===y?h+e:e)}},I={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===d?"WebkitColumn"+P(e)in t&&h+"column-"+e:"Moz"===d&&"page"+P(e)in t&&"page-"+e)}},T={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===d)return e;var n=e.replace("-inline","");return d+P(n)in t&&h+n}},D={supportedProperty:function(e,t){return k(e)in t&&e}},A={supportedProperty:function(e,t){var n=P(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:d+n in t?h+e:"Webkit"!==d&&"Webkit"+n in t&&"-webkit-"+e}},N={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===d?""+h+e:e)}},M={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===d?h+"scroll-chaining":e)}},L={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},W={supportedProperty:function(e,t){var n=L[e];return!!n&&d+P(n)in t&&h+n}},H={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},z=Object.keys(H),B=function(e){return h+e},F={supportedProperty:function(e,t,n){var r=n.multiple;if(z.indexOf(e)>-1){var o=H[e];if(!Array.isArray(o))return d+P(o)in t&&h+o;if(!r)return!1;for(var i=0;i<o.length;i++)if(!(d+P(o[0])in t))return!1;return o.map(B)}return!1}},V=[g,w,C,_,S,R,x,Z,I,T,D,A,N,M,W,F],U=V.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),G=V.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,o.Z)(t.noPrefill)),e}),[]),q={};if(r.Z){j=document.createElement("p");var K=window.getComputedStyle(document.documentElement,"");for(var $ in K)isNaN($)||(q[K[$]]=K[$]);G.forEach((function(e){return delete q[e]}))}function Y(e,t){if(void 0===t&&(t={}),!j)return e;if(null!=q[e])return q[e];"transition"!==e&&"transform"!==e||(t[e]=e in j.style);for(var n=0;n<U.length&&(q[e]=U[n](e,j.style,t),!q[e]);n++);try{j.style[e]=""}catch(e){return!1}return q[e]}var J,X={},Q={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ee=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function te(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":(t?Y(t):", "+Y(n))||t||n}function ne(e,t){var n=t;if(!J||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=X[r])return X[r];try{J.style[e]=n}catch(e){return X[r]=!1,!1}if(Q[e])n=n.replace(ee,te);else if(""===J.style[e]&&("-ms-flex"===(n=h+n)&&(J.style[e]="-ms-flexbox"),J.style[e]=n,""===J.style[e]))return X[r]=!1,!1;return J.style[e]="",X[r]=n,X[r]}r.Z&&(J=document.createElement("p"))},44020:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var o=i(n[0]);o!==n[0]&&(t[n[0]]=o)}n=r.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),c=0;c<a.length;c++){var l=a[c];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function c(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(e)?u?l.arrayMerge(e,n,l):function(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(a(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}(e,n,l):r(n,l)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},20234:(e,t,n)=>{"use strict";n.d(t,{i:()=>_e});var r=n(14890),o="dnd-core/INIT_COORDS",i="dnd-core/BEGIN_DRAG",a="dnd-core/PUBLISH_DRAG_SOURCE",c="dnd-core/HOVER",l="dnd-core/DROP",u="dnd-core/END_DRAG",s=function(e,t){return e===t};function f(e,t){return!e&&!t||!(!e||!t)&&e.x===t.x&&e.y===t.y}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case o:case i:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case c:return f(e.clientOffset,n.clientOffset)?e:h({},e,{clientOffset:n.clientOffset});case u:case l:return m;default:return e}}var b="dnd-core/ADD_SOURCE",g="dnd-core/ADD_TARGET",w="dnd-core/REMOVE_SOURCE",O="dnd-core/REMOVE_TARGET";function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function k(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function P(e,t){return e.filter((function(e){return e!==t}))}function j(e){return"object"===E(e)}function C(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e,t){1===e&&o.push(t)})),o}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case i:return S({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case a:return S({},e,{isSourcePublic:!0});case c:return S({},e,{targetIds:n.targetIds});case O:return-1===e.targetIds.indexOf(n.targetId)?e:S({},e,{targetIds:P(e.targetIds,n.targetId)});case l:return S({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case u:return S({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case g:return e+1;case w:case O:return e-1;default:return e}}var T=[],D=[];function A(e,t){return e!==T&&(e===D||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function N(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c:break;case b:case g:case O:case w:return T;default:return D}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,o=t.prevTargetIds,i=void 0===o?[]:o,a=C(r,i),l=a.length>0||!p(r,i);if(!l)return T;var u=i[i.length-1],s=r[r.length-1];return u!==s&&(u&&a.push(u),s&&a.push(s)),a}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:N(e.dirtyHandlerIds,{type:t.type,payload:W({},t.payload,{prevTargetIds:k(e,"dragOperation.targetIds",[])})}),dragOffset:v(e.dragOffset,t),refCount:I(e.refCount,t),dragOperation:Z(e.dragOperation,t),stateId:M(e.stateId)}}T.__IS_NONE__=!0,D.__IS_ALL__=!0;var B=n(28195);function F(e,t){return{type:o,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var V={type:o,payload:{clientOffset:null,sourceClientOffset:null}};function U(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,o=void 0===r||r,a=n.clientOffset,c=n.getSourceClientOffset,l=e.getMonitor(),u=e.getRegistry();e.dispatch(F(a)),G(t,l,u);var s=$(t,l);if(null!==s){var f=null;a&&(q(c),f=c(s)),e.dispatch(F(a,f));var p=u.getSource(s),d=p.beginDrag(l,s);K(d),u.pinSource(s);var h=u.getSourceType(s);return{type:i,payload:{itemType:h,item:d,sourceId:s,clientOffset:a||null,sourceClientOffset:f||null,isSourcePublic:!!o}}}e.dispatch(V)}}function G(e,t,n){(0,B.k)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){(0,B.k)(n.getSource(e),"Expected sourceIds to be registered.")}))}function q(e){(0,B.k)("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function K(e){(0,B.k)(j(e),"Item must be an object.")}function $(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function Y(e){return function(){if(e.getMonitor().isDragging())return{type:a}}}function J(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function X(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;Q(t);var o=t.slice(0),i=e.getMonitor(),a=e.getRegistry();ee(o,i,a);var l=i.getItemType();return te(o,a,l),ne(o,i,a),{type:c,payload:{targetIds:o,clientOffset:r||null}}}}function Q(e){(0,B.k)(Array.isArray(e),"Expected targetIds to be an array.")}function ee(e,t,n){(0,B.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,B.k)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];(0,B.k)(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");var i=n.getTarget(o);(0,B.k)(i,"Expected targetIds to be registered.")}}function te(e,t,n){for(var r=e.length-1;r>=0;r--){var o=e[r];J(t.getTargetType(o),n)||e.splice(r,1)}}function ne(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();ce(n);var o=ue(n);o.forEach((function(o,i){var a=le(o,i,r,n),c={type:l,payload:{dropResult:oe({},t,{},a)}};e.dispatch(c)}))}}function ce(e){(0,B.k)(e.isDragging(),"Cannot call drop while not dragging."),(0,B.k)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function le(e,t,n,r){var o=n.getTarget(e),i=o?o.drop(r,e):void 0;return function(e){(0,B.k)(void 0===e||j(e),"Drop result must either be an object or undefined.")}(i),void 0===i&&(i=0===t?{}:r.getDropResult()),i}function ue(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function se(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){(0,B.k)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:u}}}function fe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var de,he=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;(0,B.k)("function"==typeof e,"listener must be a function."),(0,B.k)(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,i=function(){var n=t.store.getState(),i=n.stateId;try{i===o||i===o+1&&!A(n.dirtyHandlerIds,r)||e()}finally{o=i}};return this.store.subscribe(i)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,B.k)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return(0,B.k)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return(0,B.k)(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&J(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return(0,B.k)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!J(r,o))return!1;var i=this.getTargetIds();if(!i.length)return!1;var a=i.indexOf(e);return n?a===i.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return r=(e=this.store.getState().dragOffset).clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset,r&&o&&i?fe((n=i,{x:(t=r).x+n.x,y:t.y+n.y}),o):null;var e,t,n,r,o,i}},{key:"getDifferenceFromInitialOffset",value:function(){return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,t&&n?fe(t,n):null;var e,t,n}}],n&&pe(t.prototype,n),e}(),ye=0;function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){t&&Array.isArray(e)?e.forEach((function(e){return ve(e,!1)})):(0,B.k)("string"==typeof e||"symbol"===me(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(de||(de={}));var be=n(36098);function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e){switch(e[0]){case"S":return de.SOURCE;case"T":return de.TARGET;default:(0,B.k)(!1,"Cannot parse handler ID: ".concat(e))}}function Oe(e,t){var n,r,o=e.entries(),i=!1;do{var a=o.next(),c=a.done;if((n=a.value,r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[1]===t)return!0;i=!!c}while(!i);return!1}var Ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n;return t=e,n=[{key:"addSource",value:function(e,t){ve(e),function(e){(0,B.k)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,B.k)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,B.k)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(de.SOURCE,e,t);return this.store.dispatch(function(e){return{type:b,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){ve(e,!0),function(e){(0,B.k)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,B.k)("function"==typeof e.hover,"Expected hover to be a function."),(0,B.k)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(de.TARGET,e,t);return this.store.dispatch(function(e){return{type:g,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Oe(this.dragSources,e)||Oe(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,B.k)(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return(0,B.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return(0,B.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return(0,B.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return we(e)===de.SOURCE}},{key:"isTargetId",value:function(e){return we(e)===de.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,B.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:w,payload:{sourceId:e}}}(e)),(0,be.e)((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){(0,B.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:O,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,B.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,B.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(ye++).toString();switch(e){case de.SOURCE:return"S".concat(t);case de.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===de.SOURCE?this.dragSources.set(r,n):e===de.TARGET&&this.dropTargets.set(r,n),r}}],n&&ge(t.prototype,n),e}();function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,r.MT)(z,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Ce=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ke(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=je(n);this.store=r,this.monitor=new he(r,new Ee(r)),r.subscribe(this.handleRefCountChange)}var t,n;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:U(e),publishDragSource:Y(e),hover:X(e),drop:ae(e),endDrag:se(e)}}(this);return Object.keys(n).reduce((function(r,o){var i,a=n[o];return r[o]=(i=a,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=i.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&Pe(t.prototype,n),e}();function _e(e,t,n,r){var o=new Ce(r),i=e(o,t,n);return o.receiveBackend(i),o}},86479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HTML5DragTransition:()=>i,MouseTransition:()=>a,MultiBackend:()=>f,PreviewManager:()=>s,TouchTransition:()=>o,createTransition:()=>r,default:()=>p});const r=function(e,t){return{_isMBTransition:!0,event:e,check:t}};var o=r("touchstart",(function(e){return null!=e.touches})),i=r("dragstart",(function(e){return!!e.type&&(-1!==e.type.indexOf("drag")||-1!==e.type.indexOf("drop"))})),a=r("mousedown",(function(e){return!!e.type&&-1===e.type.indexOf("touch")&&-1!==e.type.indexOf("mouse")}));function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=new function e(){var t=this;u(this,e),this.register=function(e){t.previews.push(e)},this.unregister=function(e){for(var n;-1!==(n=t.previews.indexOf(e));)t.previews.splice(n,1)},this.backendChanged=function(e){var n,r=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(t.previews);try{for(r.s();!(n=r.n()).done;)n.value.backendChanged(e)}catch(e){r.e(e)}finally{r.f()}},this.previews=[]},f=function e(t,n,r){var o=this;u(this,e),this.setup=function(){if("undefined"!=typeof window){if(o.constructor.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");o.constructor.isSetUp=!0,o.addEventListeners(window),o.backends[o.current].instance.setup()}},this.teardown=function(){"undefined"!=typeof window&&(o.constructor.isSetUp=!1,o.removeEventListeners(window),o.backends[o.current].instance.teardown())},this.connectDragSource=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.connectBackend("connectDragSource",t)},this.connectDragPreview=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.connectBackend("connectDragPreview",t)},this.connectDropTarget=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.connectBackend("connectDropTarget",t)},this.previewEnabled=function(){return o.backends[o.current].preview},this.addEventListeners=function(e){o.backends.forEach((function(t){t.transition&&e.addEventListener(t.transition.event,o.backendSwitcher,!0)}))},this.removeEventListeners=function(e){o.backends.forEach((function(t){t.transition&&e.removeEventListener(t.transition.event,o.backendSwitcher,!0)}))},this.backendSwitcher=function(e){var t=o.current,n=0;if(o.backends.some((function(t){return n!==o.current&&t.transition&&t.transition.check(e)?(o.current=n,!0):(n+=1,!1)})),o.current!==t){o.backends[t].instance.teardown(),Object.keys(o.nodes).forEach((function(e){var t=o.nodes[e];t.handler(),t.handler=o.callBackend(t.func,t.args)})),s.backendChanged(o);var r=o.backends[o.current];if(r.instance.setup(),r.skipDispatchOnTransition)return;var i=null;try{i=new e.constructor(e.type,e)}catch(t){(i=document.createEvent("Event")).initEvent(e.type,e.bubbles,e.cancelable)}e.target.dispatchEvent(i)}},this.callBackend=function(e,t){var n,r;return(n=o.backends[o.current].instance)[e].apply(n,function(e){if(Array.isArray(e))return l(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||c(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},this.connectBackend=function(e,t){var n="".concat(e,"_").concat(t[0]),r=o.callBackend(e,t);return o.nodes[n]={func:e,args:t,handler:r},function(){var e,t=(e=o.nodes[n]).handler.apply(e,arguments);return delete o.nodes[n],t}};var i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}({backends:[]},r||{});if(i.backends.length<1)throw new Error("You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx");this.current=0,this.backends=[],i.backends.forEach((function(e){if(!e.backend)throw new Error("You must specify a 'backend' property in your Backend entry: ".concat(e));var r=e.transition;if(r&&!r._isMBTransition)throw new Error("You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: ".concat(e));o.backends.push({instance:e.backend(t,n,e.options),preview:e.preview||!1,transition:r,skipDispatchOnTransition:Boolean(e.skipDispatchOnTransition)})})),this.nodes={}};const p=function(e,t,n){return new f(e,t,n)}},27856:function(e){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,a=Object.seal,c=Object.create,l="undefined"!=typeof Reflect&&Reflect,u=l.apply,s=l.construct;u||(u=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),a||(a=function(e){return e}),s||(s=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var f,p=E(Array.prototype.forEach),d=E(Array.prototype.pop),h=E(Array.prototype.push),y=E(String.prototype.toLowerCase),m=E(String.prototype.match),v=E(String.prototype.replace),b=E(String.prototype.indexOf),g=E(String.prototype.trim),w=E(RegExp.prototype.test),O=(f=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(f,t)});function E(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return u(e,t,r)}}function k(e,r){t&&t(e,null);for(var o=r.length;o--;){var i=r[o];if("string"==typeof i){var a=y(i);a!==i&&(n(r)||(r[o]=a),i=a)}e[i]=!0}return e}function P(t){var n=c(null),r=void 0;for(r in t)u(e,t,[r])&&(n[r]=t[r]);return n}function j(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return E(n.get);if("function"==typeof n.value)return E(n.value)}e=r(e)}return function(e){return console.warn("fallback value for",e),null}}var C=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),S=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=i(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Z=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I=i(["#text"]),T=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),D=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),A=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),M=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),L=a(/<%[\s\S]*|[\s\S]*%>/gm),W=a(/^data-[\-\w.\u00B7-\uFFFF]/),H=a(/^aria-[\-\w]+$/),z=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),F=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),V=a(/^html$/i),U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function G(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var q=function(){return"undefined"==typeof window?null:window},K=function(e,t){if("object"!==(void 0===e?"undefined":U(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),n=function(t){return e(t)};if(n.version="2.3.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,a=t.DocumentFragment,c=t.HTMLTemplateElement,l=t.Node,u=t.Element,s=t.NodeFilter,f=t.NamedNodeMap,E=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,$=t.HTMLFormElement,Y=t.DOMParser,J=t.trustedTypes,X=u.prototype,Q=j(X,"cloneNode"),ee=j(X,"nextSibling"),te=j(X,"childNodes"),ne=j(X,"parentNode");if("function"==typeof c){var re=o.createElement("template");re.content&&re.content.ownerDocument&&(o=re.content.ownerDocument)}var oe=K(J,r),ie=oe?oe.createHTML(""):"",ae=o,ce=ae.implementation,le=ae.createNodeIterator,ue=ae.createDocumentFragment,se=ae.getElementsByTagName,fe=r.importNode,pe={};try{pe=P(o).documentMode?o.documentMode:{}}catch(e){}var de={};n.isSupported="function"==typeof ne&&ce&&void 0!==ce.createHTMLDocument&&9!==pe;var he=M,ye=L,me=W,ve=H,be=B,ge=F,we=z,Oe=null,Ee=k({},[].concat(G(C),G(_),G(S),G(x),G(I))),ke=null,Pe=k({},[].concat(G(T),G(D),G(A),G(N))),je=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,_e=null,Se=!0,Re=!0,xe=!1,Ze=!1,Ie=!1,Te=!1,De=!1,Ae=!1,Ne=!1,Me=!1,Le=!0,We=!0,He=!1,ze={},Be=null,Fe=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,Ue=k({},["audio","video","img","source","image","track"]),Ge=null,qe=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",$e="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml",Je=Ye,Xe=!1,Qe=void 0,et=["application/xhtml+xml","text/html"],tt="text/html",nt=void 0,rt=null,ot=o.createElement("form"),it=function(e){return e instanceof RegExp||e instanceof Function},at=function(e){rt&&rt===e||(e&&"object"===(void 0===e?"undefined":U(e))||(e={}),e=P(e),Oe="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS):Ee,ke="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR):Pe,Ge="ADD_URI_SAFE_ATTR"in e?k(P(qe),e.ADD_URI_SAFE_ATTR):qe,Ve="ADD_DATA_URI_TAGS"in e?k(P(Ue),e.ADD_DATA_URI_TAGS):Ue,Be="FORBID_CONTENTS"in e?k({},e.FORBID_CONTENTS):Fe,Ce="FORBID_TAGS"in e?k({},e.FORBID_TAGS):{},_e="FORBID_ATTR"in e?k({},e.FORBID_ATTR):{},ze="USE_PROFILES"in e&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,xe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ze=e.SAFE_FOR_TEMPLATES||!1,Ie=e.WHOLE_DOCUMENT||!1,Ae=e.RETURN_DOM||!1,Ne=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,We=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||we,Je=e.NAMESPACE||Ye,e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(je.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(je.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(je.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qe=Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,nt="application/xhtml+xml"===Qe?function(e){return e}:y,Ze&&(Re=!1),Ne&&(Ae=!0),ze&&(Oe=k({},[].concat(G(I))),ke=[],!0===ze.html&&(k(Oe,C),k(ke,T)),!0===ze.svg&&(k(Oe,_),k(ke,D),k(ke,N)),!0===ze.svgFilters&&(k(Oe,S),k(ke,D),k(ke,N)),!0===ze.mathMl&&(k(Oe,x),k(ke,A),k(ke,N))),e.ADD_TAGS&&(Oe===Ee&&(Oe=P(Oe)),k(Oe,e.ADD_TAGS)),e.ADD_ATTR&&(ke===Pe&&(ke=P(ke)),k(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&k(Ge,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(Be===Fe&&(Be=P(Be)),k(Be,e.FORBID_CONTENTS)),We&&(Oe["#text"]=!0),Ie&&k(Oe,["html","head","body"]),Oe.table&&(k(Oe,["tbody"]),delete Ce.tbody),i&&i(e),rt=e)},ct=k({},["mi","mo","mn","ms","mtext"]),lt=k({},["foreignobject","desc","title","annotation-xml"]),ut=k({},_);k(ut,S),k(ut,R);var st=k({},x);k(st,Z);var ft=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Ye,tagName:"template"});var n=y(e.tagName),r=y(t.tagName);if(e.namespaceURI===$e)return t.namespaceURI===Ye?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===r||ct[r]):Boolean(ut[n]);if(e.namespaceURI===Ke)return t.namespaceURI===Ye?"math"===n:t.namespaceURI===$e?"math"===n&&lt[r]:Boolean(st[n]);if(e.namespaceURI===Ye){if(t.namespaceURI===$e&&!lt[r])return!1;if(t.namespaceURI===Ke&&!ct[r])return!1;var o=k({},["title","style","font","a","script"]);return!st[n]&&(o[n]||!ut[n])}return!1},pt=function(e){h(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ie}catch(t){e.remove()}}},dt=function(e,t){try{h(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){h(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Ae||Ne)try{pt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ht=function(e){var t=void 0,n=void 0;if(De)e="<remove></remove>"+e;else{var r=m(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===Qe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=oe?oe.createHTML(e):e;if(Je===Ye)try{t=(new Y).parseFromString(i,Qe)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(Je,"template",null);try{t.documentElement.innerHTML=Xe?"":i}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),Je===Ye?se.call(t,Ie?"html":"body")[0]:Ie?t.documentElement:a},yt=function(e){return le.call(e.ownerDocument||e,e,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT,null,!1)},mt=function(e){return e instanceof $&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof E)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},vt=function(e){return"object"===(void 0===l?"undefined":U(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":U(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},bt=function(e,t,r){de[e]&&p(de[e],(function(e){e.call(n,t,r,rt)}))},gt=function(e){var t=void 0;if(bt("beforeSanitizeElements",e,null),mt(e))return pt(e),!0;if(m(e.nodeName,/[\u0080-\uFFFF]/))return pt(e),!0;var r=nt(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:Oe}),!vt(e.firstElementChild)&&(!vt(e.content)||!vt(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return pt(e),!0;if("select"===r&&w(/<template/i,e.innerHTML))return pt(e),!0;if(!Oe[r]||Ce[r]){if(!Ce[r]&&Ot(r)){if(je.tagNameCheck instanceof RegExp&&w(je.tagNameCheck,r))return!1;if(je.tagNameCheck instanceof Function&&je.tagNameCheck(r))return!1}if(We&&!Be[r]){var o=ne(e)||e.parentNode,i=te(e)||e.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(Q(i[a],!0),ee(e))}return pt(e),!0}return e instanceof u&&!ft(e)?(pt(e),!0):"noscript"!==r&&"noembed"!==r||!w(/<\/no(script|embed)/i,e.innerHTML)?(Ze&&3===e.nodeType&&(t=e.textContent,t=v(t,he," "),t=v(t,ye," "),e.textContent!==t&&(h(n.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1):(pt(e),!0)},wt=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in o||n in ot))return!1;if(Re&&!_e[t]&&w(me,t));else if(Se&&w(ve,t));else if(!ke[t]||_e[t]){if(!(Ot(e)&&(je.tagNameCheck instanceof RegExp&&w(je.tagNameCheck,e)||je.tagNameCheck instanceof Function&&je.tagNameCheck(e))&&(je.attributeNameCheck instanceof RegExp&&w(je.attributeNameCheck,t)||je.attributeNameCheck instanceof Function&&je.attributeNameCheck(t))||"is"===t&&je.allowCustomizedBuiltInElements&&(je.tagNameCheck instanceof RegExp&&w(je.tagNameCheck,n)||je.tagNameCheck instanceof Function&&je.tagNameCheck(n))))return!1}else if(Ge[t]);else if(w(we,v(n,ge,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(n,"data:")||!Ve[e])if(xe&&!w(be,v(n,ge,"")));else if(n)return!1;return!0},Ot=function(e){return e.indexOf("-")>0},Et=function(e){var t=void 0,r=void 0,o=void 0,i=void 0;bt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(i=a.length;i--;){var l=t=a[i],u=l.name,s=l.namespaceURI;if(r=g(t.value),o=nt(u),c.attrName=o,c.attrValue=r,c.keepAttr=!0,c.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,c),r=c.attrValue,!c.forceKeepAttr&&(dt(u,e),c.keepAttr))if(w(/\/>/i,r))dt(u,e);else{Ze&&(r=v(r,he," "),r=v(r,ye," "));var f=nt(e.nodeName);if(wt(f,o,r))try{s?e.setAttributeNS(s,u,r):e.setAttribute(u,r),d(n.removed)}catch(e){}}}bt("afterSanitizeAttributes",e,null)}},kt=function e(t){var n=void 0,r=yt(t);for(bt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)bt("uponSanitizeShadowNode",n,null),gt(n)||(n.content instanceof a&&e(n.content),Et(n));bt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var i=void 0,c=void 0,u=void 0,s=void 0,f=void 0;if((Xe=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!vt(e)){if("function"!=typeof e.toString)throw O("toString is not a function");if("string"!=typeof(e=e.toString()))throw O("dirty is not a string, aborting")}if(!n.isSupported){if("object"===U(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(vt(e))return t.toStaticHTML(e.outerHTML)}return e}if(Te||at(o),n.removed=[],"string"==typeof e&&(He=!1),He){if(e.nodeName){var p=nt(e.nodeName);if(!Oe[p]||Ce[p])throw O("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)1===(c=(i=ht("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?i=c:i.appendChild(c);else{if(!Ae&&!Ze&&!Ie&&-1===e.indexOf("<"))return oe&&Me?oe.createHTML(e):e;if(!(i=ht(e)))return Ae?null:Me?ie:""}i&&De&&pt(i.firstChild);for(var d=yt(He?e:i);u=d.nextNode();)3===u.nodeType&&u===s||gt(u)||(u.content instanceof a&&kt(u.content),Et(u),s=u);if(s=null,He)return e;if(Ae){if(Ne)for(f=ue.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return ke.shadowroot&&(f=fe.call(r,f,!0)),f}var h=Ie?i.outerHTML:i.innerHTML;return Ie&&Oe["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&w(V,i.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+h),Ze&&(h=v(h,he," "),h=v(h,ye," ")),oe&&Me?oe.createHTML(h):h},n.setConfig=function(e){at(e),Te=!0},n.clearConfig=function(){rt=null,Te=!1},n.isValidAttribute=function(e,t,n){rt||at({});var r=nt(e),o=nt(t);return wt(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(de[e]=de[e]||[],h(de[e],t))},n.removeHook=function(e){de[e]&&d(de[e])},n.removeHooks=function(e){de[e]&&(de[e]=[])},n.removeAllHooks=function(){de={}},n}()}()},2268:e=>{"use strict";var t=e.exports={};t.isIE=function(e){return!(-1===(t=navigator.userAgent.toLowerCase()).indexOf("msie")&&-1===t.indexOf("trident")&&-1===t.indexOf(" edge/")||e&&e!==function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},t.isLegacyOpera=function(){return!!window.opera}},17900:e=>{"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},58229:(e,t,n)=>{"use strict";var r=n(2268);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function a(e){return o(e).object}return{makeDetectable:function(e,a,c){c||(c=a,a=e,e=null),(e=e||{}).debug,r.isIE(8)?c(a):function(a,c){var l=i(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),u=!1,s=window.getComputedStyle(a),f=a.offsetWidth,p=a.offsetHeight;function d(){function n(){if("static"===s.position){a.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,o){var i=r[o];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(t.warn("An element that is positioned static has style."+o+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",n),n.style.setProperty(o,"0",e.important?"important":""))};n(t,a,s,"top"),n(t,a,s,"right"),n(t,a,s,"bottom"),n(t,a,s,"left")}}""!==s.position&&(n(),u=!0);var i=document.createElement("object");i.style.cssText=l,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=function(){u||n(),function e(t,n){if(!t.contentDocument){var r=o(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){c(a)}))},r.isIE()||(i.data="about:blank"),o(a)&&(a.appendChild(i),o(a).object=i,r.isIE()&&(i.data="about:blank"))}o(a).startSize={width:f,height:p},n?n.add(d):d()}(a,c)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))o(e).object={proxy:n},e.attachEvent("onresize",n);else{var i=a(e);if(!i)throw new Error("Element is not detectable by this strategy.");i.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(o(e)){var t=a(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}},60787:(e,t,n)=>{"use strict";var r=n(17900).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,i=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=document.createElement("div");e.style.cssText=u(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=u(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}(),c="erd_scroll_detection_container";function l(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",o="/* Created by the element-resize-detector library. */\n";o+="."+n+" > div::-webkit-scrollbar { "+u(["display: none"])+" }\n\n",o+=".erd_scroll_detection_container_animation_active { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",o+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(t){e.head.appendChild(t)};var o=e.createElement("style");o.innerHTML=n,o.id=t,r(o)}(o+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style",c)}function u(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function s(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function f(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function p(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function d(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return l(window.document),{makeDetectable:function(e,l,f){function h(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(i.get(l),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function y(e){var t=o(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function m(){var e=window.getComputedStyle(l),t={};return t.position=e.position,t.width=l.offsetWidth,t.height=l.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function v(){if(h("storeStyle invoked."),o(l)){var e=m();o(l).style=e}else h("Aborting because element has been uninstalled")}function b(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function g(){return 2*a.width+1}function w(){return 2*a.height+1}function O(e){return e+10+g()}function E(e){return e+10+w()}function k(e,t,n){var r=p(e),o=d(e),i=O(t),a=E(n),c=function(e){return 2*e+g()}(t),l=function(e){return 2*e+w()}(n);r.scrollLeft=i,r.scrollTop=a,o.scrollLeft=c,o.scrollTop=l}function P(){var e=o(l).container;if(!e){(e=document.createElement("div")).className=c,e.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(l).container=e,function(e){e.className+=" "+c+"_animation_active"}(e),l.appendChild(e);var t=function(){o(l).onRendered&&o(l).onRendered()};s(e,"animationstart",t),o(l).onAnimationStart=t}return e}function j(){if(h("Injecting elements"),o(l)){!function(){var n=o(l).style;if("static"===n.position){l.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var o=n[r];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,l,n,"top"),r(t,l,n,"right"),r(t,l,n,"bottom"),r(t,l,n,"left")}}();var n=o(l).container;n||(n=P());var r,i,f,p,d=a.width,y=a.height,m=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),v=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+d))?r+"px":"0"),"top: "+(i=(i=-(1+y))?i+"px":"0"),"right: "+(p=(p=-d)?p+"px":"0"),"bottom: "+(f=(f=-y)?f+"px":"0")])),b=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),g=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),w=u(["position: absolute","left: 0","top: 0"]),O=u(["position: absolute","width: 200%","height: 200%"]),E=document.createElement("div"),k=document.createElement("div"),j=document.createElement("div"),C=document.createElement("div"),_=document.createElement("div"),S=document.createElement("div");E.dir="ltr",E.style.cssText=m,E.className=c,k.className=c,k.style.cssText=v,j.style.cssText=b,C.style.cssText=w,_.style.cssText=g,S.style.cssText=O,j.appendChild(C),_.appendChild(S),k.appendChild(j),k.appendChild(_),E.appendChild(k),n.appendChild(E),s(j,"scroll",R),s(_,"scroll",x),o(l).onExpandScroll=R,o(l).onShrinkScroll=x}else h("Aborting because element has been uninstalled");function R(){var e=o(l);e&&e.onExpand?e.onExpand():h("Aborting expand scroll handler: element has been uninstalled")}function x(){var e=o(l);e&&e.onShrink?e.onShrink():h("Aborting shrink scroll handler: element has been uninstalled")}}function C(){function a(t,n,r){var o=function(e){return p(e).childNodes[0]}(t),i=O(n),a=E(r);o.style.setProperty("width",i+"px",e.important?"important":""),o.style.setProperty("height",a+"px",e.important?"important":"")}function c(r){var c=l.offsetWidth,s=l.offsetHeight,f=c!==o(l).lastWidth||s!==o(l).lastHeight;h("Storing current size",c,s),b(l,c,s),n.add(0,(function(){if(f)if(o(l))if(u()){if(e.debug){var n=l.offsetWidth,r=l.offsetHeight;n===c&&r===s||t.warn(i.get(l),"Scroll: Size changed before updating detector elements.")}a(l,c,s)}else h("Aborting because element container has not been initialized");else h("Aborting because element has been uninstalled")})),n.add(1,(function(){o(l)?u()?k(l,c,s):h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")})),f&&r&&n.add(2,(function(){o(l)?u()?r():h("Aborting because element container has not been initialized"):h("Aborting because element has been uninstalled")}))}function u(){return!!o(l).container}function s(){h("notifyListenersIfNeeded invoked");var e=o(l);return void 0===o(l).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?h("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?h("Not notifying: Size already notified"):(h("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(o(l).listeners,(function(e){e(l)})))}function f(){h("Scroll detected."),y(l)?h("Scroll event fired while unrendered. Ignoring..."):c(s)}if(h("registerListenersAndPositionElements invoked."),o(l)){o(l).onRendered=function(){if(h("startanimation triggered."),y(l))h("Ignoring since element is still unrendered...");else{h("Element rendered.");var e=p(l),t=d(l);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(h("Scrollbars out of sync. Updating detector elements..."),c(s))}},o(l).onExpand=f,o(l).onShrink=f;var m=o(l).style;a(l,m.width,m.height)}else h("Aborting because element has been uninstalled")}function _(){if(h("finalizeDomMutation invoked."),o(l)){var e=o(l).style;b(l,e.width,e.height),k(l,e.width,e.height)}else h("Aborting because element has been uninstalled")}function S(){f(l)}function R(){var e;h("Installing..."),o(l).listeners=[],e=m(),o(l).startSize={width:e.width,height:e.height},h("Element start size",o(l).startSize),n.add(0,v),n.add(1,j),n.add(2,C),n.add(3,_),n.add(4,S)}f||(f=l,l=e,e=null),e=e||{},h("Making detectable..."),function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(l)?(h("Element is detached"),P(),h("Waiting until element is attached..."),o(l).onRendered=function(){h("Element is now attached"),R()}):R()},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&f(p(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&f(d(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&f(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:l}}},63844:(e,t,n)=>{"use strict";var r=n(17900).forEach,o=n(68452),i=n(96199),a=n(75805),c=n(79799),l=n(71724),u=n(2268),s=n(98129),f=n(21931),p=n(58229),d=n(60787);function h(e){return Array.isArray(e)||void 0!==e.length}function y(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function m(e){return e&&1===e.nodeType}function v(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),b=c({idGenerator:n,stateHandler:f});t=b}var g=e.reporter;g||(g=l(!1===g));var w=v(e,"batchProcessor",s({reporter:g})),O={};O.callOnAdd=!!v(e,"callOnAdd",!0),O.debug=!!v(e,"debug",!1);var E,k=i(t),P=o({stateHandler:f}),j=v(e,"strategy","object"),C=v(e,"important",!1),_={reporter:g,batchProcessor:w,stateHandler:f,idHandler:t,important:C};if("scroll"===j&&(u.isLegacyOpera()?(g.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),j="object"):u.isIE(9)&&(g.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),j="object")),"scroll"===j)E=d(_);else{if("object"!==j)throw new Error("Invalid strategy name: "+j);E=p(_)}var S={};return{listenTo:function(e,n,o){function i(e){var t=k.get(e);r(t,(function(t){t(e)}))}function a(e,t,n){k.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(m(n))n=[n];else{if(!h(n))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=y(n)}var c=0,l=v(e,"callOnAdd",O.callOnAdd),u=v(e,"onReady",(function(){})),s=v(e,"debug",O.debug);r(n,(function(e){f.getState(e)||(f.initState(e),t.set(e));var p=t.get(e);if(s&&g.log("Attaching listener to element",p,e),!P.isDetectable(e))return s&&g.log(p,"Not detectable."),P.isBusy(e)?(s&&g.log(p,"System busy making it detectable"),a(l,e,o),S[p]=S[p]||[],void S[p].push((function(){++c===n.length&&u()}))):(s&&g.log(p,"Making detectable..."),P.markBusy(e,!0),E.makeDetectable({debug:s,important:C},e,(function(e){if(s&&g.log(p,"onElementDetectable"),f.getState(e)){P.markAsDetectable(e),P.markBusy(e,!1),E.addListener(e,i),a(l,e,o);var t=f.getState(e);if(t&&t.startSize){var d=e.offsetWidth,h=e.offsetHeight;t.startSize.width===d&&t.startSize.height===h||i(e)}S[p]&&r(S[p],(function(e){e()}))}else s&&g.log(p,"Element uninstalled before being detectable.");delete S[p],++c===n.length&&u()})));s&&g.log(p,"Already detecable, adding listener."),a(l,e,o),c++})),c===n.length&&u()},removeListener:k.removeListener,removeAllListeners:k.removeAllListeners,uninstall:function(e){if(!e)return g.error("At least one element is required.");if(m(e))e=[e];else{if(!h(e))return g.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=y(e)}r(e,(function(e){k.removeAllListeners(e),E.uninstall(e),f.cleanState(e)}))},initDocument:function(e){E.initDocument&&E.initDocument(e)}}}},68452:e=>{"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},75805:e=>{"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},79799:e=>{"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return r.id=o,o}}}},96199:e=>{"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(r)},removeListener:function(e,t){for(var r=n(e),o=0,i=r.length;o<i;++o)if(r[o]===t){r.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},71724:e=>{"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},21931:e=>{"use strict";function t(e){return e._erd}e.exports={initState:function(e){return e._erd={},t(e)},getState:t,cleanState:function(e){delete e._erd}}},30907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},83878:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:()=>r})},97326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},15671:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},43144:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:()=>o})},4942:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},87462:(e,t,n)=>{"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},61120:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:()=>r})},60136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(89611);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},94578:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(89611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},59199:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:()=>r})},25267:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>r})},94334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4942);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach((function(t){(0,r.Z)(e,t,n[t])}))}return e}},1413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},45987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(63366);function o(e,t){if(null==e)return{};var n,o,i=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},63366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{Z:()=>r})},82963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(71002),o=n(97326);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},89611:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},29439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(83878),o=n(40181),i=n(25267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||(0,o.Z)(e,t)||(0,i.Z)()}},84506:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(83878),o=n(59199),i=n(40181),a=n(25267);function c(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,i.Z)(e)||(0,a.Z)()}},93433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(30907),o=n(59199),i=n(40181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71002:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},40181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(30907);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}}]);
//# sourceMappingURL=vendors~49d0a293-95af4695a19519cfe757.js.map